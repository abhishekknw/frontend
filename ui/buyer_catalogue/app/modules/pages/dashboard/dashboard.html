<!DOCTYPE html>
<html class="ng-cloak" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link href="css/main.css" rel="stylesheet" media="screen">
    <link href="css/preloader.css" rel="stylesheet" media="screen">
    <link href="css/blur_admin_theme.css" rel="stylesheet" media="screen">
    <link href="css/buttons.css" rel="stylesheet" media="screen">
    <link href="css/datepicker.css" rel="stylesheet" media="screen">
    <link href="css/icons.css" rel="stylesheet" media="screen">
    <link href="css/layout.css" rel="stylesheet" media="screen">
    <link href="css/socicon.css" rel="stylesheet" media="screen">
    <link href="css/table.css" rel="stylesheet" media="screen">
    <link href="css/pageTop.css" rel="stylesheet" media="screen">
    <link href="css/backTop.css" rel="stylesheet" media="screen">
    <link href="css/baWizard.css" rel="stylesheet" media="screen">
    <link href="css/contentTop.css" rel="stylesheet" media="screen">
    <link href="css/msgCenter.css" rel="stylesheet" media="screen">
    <link href="css/progressRound.css" rel="stylesheet" media="screen">
    <link href="css/sidebar.css" rel="stylesheet" media="screen">
    <link href="css/widgets.css" rel="stylesheet" media="screen">
    <link href="css/panel.css" rel="stylesheet">
    <link href="css/tabs.css" rel="stylesheet" media="screen">
    <link href="css/accordion.css" rel="stylesheet" media="screen">
    <link href="css/dashboard-theme.css" rel="stylesheet" media="screen">
    <link href="css/sass-app.css" rel="stylesheet" media="screen">
    <link href="css/sass-app-map.css" rel="stylesheet" media="screen">
    <link href="css/sidePanel.css" rel="stylesheet" media="screen">
    <link href="css/custom.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="modules/common/loadingicon/loading-spinner.tmpl.css"/>
    <link rel="stylesheet" type="text/css" href="modules/pages/dashboard/chat.css">

    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon-96x96.png">
    <link rel="stylesheet" type="text/css" href="modules/pages/DashBoard/adminDashboard/percentage-circular-bar.css">
    <link href="https://netdna.bootstrapcdn.com/font-awesome/2.0/css/font-awesome.css" rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/smallscreen.css" rel="stylesheet" media="screen">
  </head>
  <body ng-cloak>

    <div class="body-bg"></div>

    <div ng-loading="loading"></div> <!--For displaying loading icon-->
    <div ng-show="isEmpty" style="text-align:center;"><h2>{{msg}}</h2></div>

    <main ng-show="!isEmpty" ng-class="{ 'menu-collapsed': $baSidebarService.isMenuCollapsed() }" ng-if="loading" >
    <ba-sidebar></ba-sidebar>

    <page-Top></page-Top>

    <div class="al-main" >
        <div class="al-content">

          <uib-tabset class="dashboard-tab" active="selectTabIndex.value" >
              <uib-tab index="0">
                <uib-tab-heading>
                  <h5 style="margin-left:-10px">
               <span style="color:#ffffff;" class="glyphicon glyphicon-backward" ng-click="getRecentActivity(pre)" data-toggle="tooltip" title="Go To Previous Activity!"></span>
               <span style="color:#ffffff;" class="glyphicon glyphicon-chevron-left" ng-click="getDate(pre)"></span>
               <span style="margin-left:10px;margin-right:10px;">{{date|date : "dd-MM-yyyy"}}</span>
               <span style="color:#ffffff;" class="glyphicon glyphicon-chevron-right" ng-click="getDate(next)"></span>
               <span style="color:#ffffff;" class="glyphicon glyphicon-forward" ng-click="getRecentActivity(next)" data-toggle="tooltip" title="Go To Next Activity!"></span>
               <span style="color:#ffffff;left:16px;margin-top:1px;" class="glyphicon glyphicon-calendar pull-right" ng-click="visible=!visible;">
               <div ng-class="{'is-visible':visible}" class="menu">
                 <table class="table-responsive table table-bordered sidePanelTable">
                   <thead>
                     <tr>
                       <td style="color:#ffffff !important;">DATE</td>
                       <td>
                         <button type="button" name="button" class="col-xs-5" style="margin: 0px 9px 0px -1px;width:80px;height:70px;color:black;background-color:#ffe000;">Total Release (%)</button>
                         <!-- <button type="button" name="button" class="col-xs-3" style="margin: 0px 9px 0px -1px;width:60px;height:45px;color:black;background-color:#ffe000;">A (%)</button> -->
                         <!-- <button type="button" name="button" class="col-xs-5" style="margin: 0px 9px 0px -1px;width:80px;height:70px;color:black;background-color:#ffe000;">Total Closure (%)</button> -->
                        </td>

                     </tr>
                   </thead>
                       <tbody>
                       <tr ng-repeat="(key,item) in historyData" ng-if="$index < 15">
                         <td class="col-xs-3" style="background-color: #8e1921;"><a ng-click="getDateData(key)">{{key| date :'d-MMM-yy'}}</a></td>
                         <td class="col-xs-6">
                           <button class="col-xs-5 " style="width:80px;height:35px;" id="greenColor" ng-if="item['RELEASE'].actual/item['RELEASE'].total*100==100" type="button" name="button" class="btn btn-danger">{{item['RELEASE'].actual/item['RELEASE'].total*100|limitTo:4||NA}}  &#10004;</button>
                           <button class="col-xs-5 " style="width:80px;height:35px;" id="lightGreen" ng-if="item['RELEASE'].actual/item['RELEASE'].total*100 >= 75 && item['RELEASE'].actual/item['RELEASE'].total*100 != 100" type="button" name="button"> {{item['RELEASE'].actual/item['RELEASE'].total*100|limitTo:4||NA}}</button>
                           <button class="col-xs-5 " style="width:80px;height:35px;" id="yellow" ng-if="item['RELEASE'].actual/item['RELEASE'].total*100 >= 50 && item['RELEASE'].actual/item['RELEASE'].total*100 < 75" type="button" name="button"> {{item['RELEASE'].actual/item['RELEASE'].total*100|limitTo:4||NA}}</button>
                           <button class="col-xs-5 " style="width:80px;height:35px;" id="redColor" ng-if="item['RELEASE'].actual/item['RELEASE'].total*100 < 50" type="button" name="button">{{item['RELEASE'].actual/item['RELEASE'].total*100|limitTo:4||NA}}</button>
                           <button class="col-xs-5 " style="width:80px;height:35px;cursor:default;" ng-if="!item['RELEASE'].total" type="button" name="button">NA</button>

                           <!-- <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;" id="greenColor" ng-if="item['AUDIT'].actual/item['AUDIT'].total*100==100" type="button" name="button">{{item['AUDIT'].actual/item['AUDIT'].total*100|limitTo:4||NA}}  &#10004;</button>
                           <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;" id="yellowColor" ng-if="item['AUDIT'].actual/item['AUDIT'].total*100 >= 75 &&
                           item['AUDIT'].actual/item['AUDIT'].total*100 < 100" type="button" name="button"> {{item['AUDIT'].actual/item['AUDIT'].total*100|limitTo:4||NA}}</button>
                           <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;" id="redColor" ng-if="item['AUDIT'].actual/item['AUDIT'].total*100 < 75" type="button" name="button">{{item['AUDIT'].actual/item['AUDIT'].total*100|limitTo:4||NA}}</button>
                           <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:60px;height:35px;cursor:default;" ng-if="!item['AUDIT'].total" type="button" name="button">NA</button> -->


                         <!-- <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:80px;height:35px;" id="greenColor" ng-if="item['CLOSURE'].actual/item['CLOSURE'].total*100==100" type="button" name="button" class="btn btn-danger">{{item['CLOSURE'].actual/item['CLOSURE'].total*100|limitTo:4||NA}}  &#10004;</button>
                         <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:80px;height:35px;" id="lightGreen" ng-if="item['CLOSURE'].actual/item['CLOSURE'].total*100 >= 75 && item['CLOSURE'].actual/item['CLOSURE'].total*100 != 100" type="button" name="button"> {{item['CLOSURE'].actual/item['CLOSURE'].total*100|limitTo:4||NA}}</button>
                         <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:80px;height:35px;" id="yellow" ng-if="item['CLOSURE'].actual/item['CLOSURE'].total*100 >= 50 && item['CLOSURE'].actual/item['CLOSURE'].total*100 < 75" type="button" name="button"> {{item['CLOSURE'].actual/item['CLOSURE'].total*100|limitTo:4||NA}}</button>
                         <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:80px;height:35px;" id="redColor" ng-if="item['CLOSURE'].actual/item['CLOSURE'].total*100 < 50" type="button" name="button">{{item['CLOSURE'].actual/item['CLOSURE'].total*100|limitTo:4||NA}}</button>
                         <button class="col-xs-3 " style="margin: 0px 7px 5px 0px;width:80px;height:35px;cursor:default;" ng-if="!item['CLOSURE'].total" type="button" name="button">NA</button> -->

                         </td>
                       </tr>

                     </tbody>
                     </table>
               </div>
             </span>
           </h5>

              </uib-tab-heading>

                  <div  class="row panel-hide">
                      <div class="row">
                          <div class="col-xlg-2 col-lg-2 col-md-2 col-sm-2 col-xs-2 dashboard-side-label">
                          </div>
                          <div class="col-xlg-10 col-lg-10 col-md-10 col-sm-10 col-xs-10">
                              <div class="row" ng-if="dateListKeys[date]">
                                  <div class="col-xlg-6 col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center" style="margin-left:140px;">
                                      <h4 class="date-tab-heading" style="color:rgb(53, 9, 6)">Release</h4>
                                  </div>
                                  <!-- <div class="col-xlg-4 col-lg-4 col-md-4 col-sm-4 col-xs-4 text-center">
                                      <h4 class="date-tab-heading" style="color:rgb(53, 9, 6)">Audit</h4>
                                  </div> -->
                                  <!-- <div class="col-xlg-6 col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center">
                                      <h4 class="date-tab-heading" style="color:rgb(53, 9, 6)">Closure</h4>
                                  </div> -->
                              </div>
                              <div class="row zeroCampAct" ng-if="!dateListKeys[date]">
                                <h1>NO CAMPAIGN ACTIVITY !!</h1>
                              </div>
                          </div>
                      </div>
                      <div class="row" ng-repeat="inv in invKeys">
                          <div class="col-xlg-2 col-lg-2 col-md-2 col-sm-2 col-xs-2 dashboard-side-label" ng-if="inventoryActivityCountData[inv.header][date]">
                              <h4 style="margin-left:140px;">{{inv.header}}</h4>
                          </div>
                          <div class="col-xlg-10 col-lg-10 col-md-10 col-sm-10 col-xs-10" ng-if="inventoryActivityCountData[inv.header][date]">
                              <div class="row">
                                  <div class="col-xlg-6 col-lg-6 col-md-6 col-sm-6 col-xs-6" ng-repeat="act in actKeys" style="margin-left:140px;">
                                      <div class="form-group has-success">
                                          <div class="pie-chart-item-container ng-scope">
                                              <div class="custom-panel">
                                                  <uib-accordion close-others="oneAtATime">
                                                      <div uib-accordion-group  panel-class="panel panel-blur date-grid-tab custom-panel" id="custompanelmobile" ng-click="getAssignedIdsAndImages(date,act.header,inv.header)">
                                                          <div uib-accordion-heading class="container">
                                                              <div class="pie-chart-item ng-scope">
                                                                  <div class="row" id="activitycss" ng-if="inventoryActivityCountData[inv.header][date][act.header]">
                                                                      <div class="col-md-4">
                                                                        <h4>{{inventoryActivityCountData[inv.header][date][act.header].actual||'0'}}</h4>
                                                                        <h5>{{act.label1}}</h5>
                                                                      </div>
                                                                      <div class="col-6 col-md-4">
                                                                          <h4>{{(inventoryActivityCountData[inv.header][date][act.header].total -
                                                                            inventoryActivityCountData[inv.header][date][act.header].actual)||'0'}}</h4>
                                                                          <h5>{{act.label2}}</h5>
                                                                      </div>
                                                                      <div class="col-md-3 percent-circle">

                                                                        <percent-circle ng-if="inventoryActivityCountData[inv.header][date][act.header].actual > 0" percent="getPercent(inventoryActivityCountData[inv.header][date][act.header].actual,inventoryActivityCountData[inv.header][date][act.header].total)" colors="{center:'#FFA880',highlight:'yellow'}" style="width:45px;height:45px;margin-top:-10px;margin-left:10px;"></percent-circle>
                                                                        <percent-circle ng-if="!(inventoryActivityCountData[inv.header][date][act.header].actual > 0)" percent="0" colors="{center:'#FFA880 '}" style="width:45px;height:45px;margin-top:-10px;margin-left:10px;"></percent-circle>
                                                                      </div>
                                                                  </div>
                                                                  <div ng-if="!inventoryActivityCountData[inv.header][date][act.header]">
                                                                    NO {{act.header}}
                                                                  </div>
                                                              </div>
                                                          </div>

                                                          <div class="panel-group RELEASETable" id="accordion[$index]">
                                                                  <div class="panel panel-default" style="border-radius:0!important;" ng-click="onTimeDetails = !onTimeDetails">
                                                                  <div class="panel-heading">
                                                                      <h4 class="panel-title" style="background-color:#8e1921  !important;">
                                                                          Time Details
                                                                      </h4>
                                                                  </div>
                                                                  </div>

                                                                  <table class="table-responsive table table-bordered" ng-show="onTimeDetails">

                                                                    <tbody>
                                                                      <tr><td style="font:bold 12px/30px Georgia, serif;">On Time : Off Time</td>
                                                                        <td>{{campaignReleaseData.totalOnTimeCount}} : {{campaignReleaseData.totalOffTimeCount}}</td>
                                                                      </tr>
                                                                      <tr><td style="font:bold 12px/30px Georgia, serif;">Delay Days</td>
                                                                        <td>{{campaignReleaseData.totalOffTimeDays}} ({{campaignReleaseData.totalOffTimeDays / campaignReleaseData.totalInvCount * 100  |limitTo:4}} %)</td>
                                                                      </tr>


                                                                    </tbody>
                                                                  </table>

                                                              <div class="panel panel-default" style="border-radius:0!important;"  ng-click="onLocationDetails = !onLocationDetails">
                                                                  <div class="panel-heading" >
                                                                      <h4 class="panel-title" style="background-color:#8e1921  !important">
                                                                          Location Details
                                                                      </h4>
                                                                  </div>
                                                              </div>
                                                              <table class="table-responsive table table-bordered" ng-show="onLocationDetails">

                                                                <tbody>
                                                                  <tr><td style="font:bold 12px/30px Georgia, serif;">On Loc. : Off Loc.</td>
                                                                    <td>{{campaignReleaseData.totalOnLocationCount}} : {{campaignReleaseData.totalOffLocationCount}}</td>
                                                                  </tr>
                                                                  <tr><td style="font:bold 12px/30px Georgia, serif;">Avg Off Loc. (Kms)</td>
                                                                  <td ng-if="checkNan(campaignReleaseData.totalOffLocationDistance / campaignReleaseData.totalInvCount)">NA</td>
                                                                   <td ng-if="!checkNan(campaignReleaseData.totalOffLocationDistance / campaignReleaseData.totalInvCount)">{{(campaignReleaseData.totalOffLocationDistance / campaignReleaseData.totalInvCount ) / 1000|limitTo:5}} km
                                                                  </tr>


                                                                </tbody>
                                                              </table>
                                                          </div>

                                                      </div>
                                                  </uib-accordion>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                        <div class="campaigndetailtable">
                      <div class="col-md-12" ng-if="showAssignedInvTable">
                      <!-- <div class="form-group select-page-size-wrap ">
                      </div> -->
                        <!-- <div class="" > -->
                                <!-- <div class=""> -->
                                <div class="panel-heading" style="height:70px;">
                                  <h5 style="background:'red';color:white;">Campaign Details ({{invName}}, {{actType}})</h5>
                                  <h5 class="pull-right">{{date|date : "dd-MM-yyyy"}}</h5>
                                </div>
                                <br />
                                <input type="text" class="form-control" ng-model="searchQuery" placeholder="search">

                                  <br />

                                    <div class="col-md-12 panel-heading" style="border: 1px solid #ccc;height:75px;">
                                      <label class="col-md-1 campDetailsLabel">Index</label>
                                      <label class="col-md-2 campDetailsLabel">Campaign Name</label>
                                      <label class="col-md-2 campDetailsLabel">Inventory</label>
                                      <label class="col-md-1 campDetailsLabel">Total Assigned</label>
                                      <label class="col-md-1 campDetailsLabel">Today Released</label>
                                      <label class="col-md-1 campDetailsLabel">Average Delay(In Days)</label>
                                      <label class="col-md-2 campDetailsLabel">Average Off Location(Kms)</label>
                                      <label class="col-md-2 campDetailsLabel">Images</label>
                                    </div><br>
                                    <div class="col-md-12" style="overflow-y:auto;max-height:300px;color:black">
                                      <div class="col-md-12" ng-repeat="item in campaignReleaseData | filter : searchQuery">
                                        <br />
                                        <label class="col-md-1">{{$index+1}}</label>
                                        <label class="col-md-2"><a ng-click="getDatewiseSuppliersInventory(item.proposalId,item.name)">{{item.name}}</a></label>
                                        <label class="col-md-2">{{invName}}</label>
                                        <label class="col-md-1">{{item.assigned}}</label>
                                        <label class="col-md-1">{{item.inv_count}}</label>
                                        <label class="col-md-1" ng-if="(item.offTimeDays/item.assigned) > 3">3+ days</label>
                                        <label class="col-md-1" ng-if="(item.offTimeDays/item.assigned) <= 3">{{item.offTimeDays/item.assigned|limitTo:4}}</label>
                                        <!-- <label class="col-md-1" ng-if="item.inv_count != 0">{{}}</label> -->
                                      <!-- <label class="col-md-1" ng-if="item.inv_count == 0">Not Applicable</label>  -->
                                        <label class="col-md-2" ng-if="item.inv_count == 0 && item.offLocationDistance == 0">Not Applicable</label>
                                        <label class="col-md-2" ng-if="checkNan(item.offLocationDistance) || item.offLocationDistance == 0 && item.inv_count != 0">Not Applicable</label>
                                        <label class="col-md-2" ng-if="!checkNan(item.offLocationDistance) && item.inv_count != 0 && item.offLocationDistance != 0">{{(item.offLocationDistance/item.inv_count)/1000 |limitTo:5||0}} Km</label>

                                        <label class="col-md-2" ng-if="item.images.length > 0"><a data-target="#imageModal" data-toggle="modal" ng-click="setImageUrl(item,item.images)">View Images</a></label>
                                        <!-- <label class="col-md-2" ng-if="item.images.length > 0">
                                          <image-cropper image-url="myImageUrlOrBase64"
                                            width="640"
                                            height="480"
                                            show-controls="true"
                                            fit-on-init="false"
                                            center-on-init="true"
                                            api="getApiFunction"
                                            crop-callback="myCallbackFunction"
                                            check-cross-origin="false"
                                            zoom-step="0.1"
                                            action-labels="myButtonLabelsObject"
                                          ></image-cropper>
                                        </label> -->

                                        <label class="col-md-2" ng-if="item.images.length == 0">No Image</label>
                                        <!-- <td class="col-md-2">
                                          <a data-target="" data-toggle="modal" ng-click="getHashtagImages(item)">View Other Images</a>
                                        </td> -->
                                        <!-- <label class="col-md-2">View Images</label> -->
                                      </div>
                                    </div>
                                  </div>

                              <!-- <table st-safe-src="rowCollection" st-table="displayed" st-pipe="callServer" class="table-responsive table table-bordered">
                                <thead>
                                <tr class="sortable" >
                                    <th class="table-id" st-sort="id" st-sort-default="true" >Sr No</th>
                                    <th ng-repeat="header in supHeaders" st-sort="{{header.key}}">{{header.header}}</th>
                                  </thead>
                                </tr>

                                  <tbody>
                                    <tr ng-repeat="item in campaignReleaseData  |filter:query" >
                                      <td class="table-id">{{$index + 1}}</td>
                                      <td><a ng-click="getDatewiseSuppliersInventory(item.proposalId,item.name)">{{item.name}}</a></td>
                                      <td>{{invName}}</td>
                                      <td>{{item.assigned}}</td>
                                      <td>{{item.inv_count}}</td>
                                      <td ng-if="item.inv_count != 0">{{item.offTimeDays}} </td>
                                      <td ng-if="item.inv_count == 0">Not Allowed</td>
                                      <td ng-if="item.inv_count == 0 && item.offLocationDistance == 0">Not Allowed</td>
                                      <td ng-if="checkNan(item.offLocationDistance) || item.offLocationDistance == 0 && item.inv_count != 0">Not Applicable</td>
                                      <td class="col-md-2" ng-if="!checkNan(item.offLocationDistance) && item.inv_count != 0 && item.offLocationDistance != 0">{{item.offLocationDistance/item.inv_count|limitTo:10||0}}

                                      <td class="col-md-2" ng-if="item.images.length > 0"><a data-target="#imageModal" data-toggle="modal" ng-click="setImageUrl(item,item.images)">View Images</a></td>
                                      <td ng-if="item.images.length == 0"><label>No Image<label></td>
                                      <td class="col-md-2">
                                        <a data-target="" data-toggle="modal" ng-click="getHashtagImages(item)">View Other Images</a>
                                      </td> -->

                                      <!-- </tr>
                                  </tbody>
                              </table> -->
                          <!-- </div> -->
                      <!-- </div> -->
                </div>
                <div class="col-md-12" ng-show="dateWiseSuppliers.length">
                  <div class="panel-heading"  style="height:90px;">
                    <h4>Supplier Details of {{selectedProposalname}} Campaign</h4><br/>
                    <h5>Activity : {{actType}} , Date : {{date|date : "dd-MM-yyyy"}}</h5>
                  </div>
                  <div class="">
                    <table class="table table-bordered table-responsive">
                      <thead>
                        <tr>
                          <th>Society Name</th>
                          <th>Inventory Type</th>
                          <th>Assigned</th>
                          <th>Completed</th>
                          <th>View Images</th>
                          <!-- <th>Comments</th> -->
                        </tr>
                      </thead>
                      <tbody ng-repeat="supplier in dateWiseSuppliers">
                        <tr ng-repeat="(key,inv) in supplier" ng-if="key != 'supplier_data' && key != 'space_id' ">
                          <td><b>{{supplier.supplier_data.society_name}}</b></td>
                          <td>{{key}}</td>
                          <td>{{inv.assigned}}</td>
                          <td>{{inv.completed}}</td>
                          <td ng-if="inv.completed != 0"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier_data.supplier_id,invNameToCode[key],actType,date)">View Images</a></td>
                          <td ng-if="inv.completed == 0">No Image</td>
                          <!-- <td><a ng-click="viewComments(key,supplier)">View Comments</a></td> -->
                        </tr>
                        <tr>
                       <td><b>{{supplier.supplier_data.society_name}}</b></td>
                          <td>Other Images(Banner)</td>
                          <td>-</td>
                          <td>-</td>
                          <td><a data-target="" data-toggle="modal" ng-click="getHashtagImages(supplier)">View Other Images</a></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
            </div>


              </uib-tab>



              <uib-tab id="uib-tabs-width"  ng-click="getCampaigns()" index="2">
                  <uib-tab-heading>
                    <h5> Campaigns</h5>
                </uib-tab-heading>
                  <div class="container-fluid">

                    <div class="row">
                      <div class="panel panel-default" style="color:'0000ff'">
                        <div class="col-md-12">

                            <!-- <div class="panel-headding campaign-header">
                              <h3 style="color:rgb(53, 9, 6)">Campaign Details</h3>
                            </div> -->

                            <div class="col-md-12 panel-heading content-title CampaignDetails">
                                <h4 ng-if="!campaignLabel" style="text-align:center;">All Campaigns Details</h4>
                                <h4 ng-if="campaignLabel" style="text-align:center;">Details Of {{campaignTabPropsalName}} </h4>
                            </div>
                            <br />
                              <br />
  <br />  <br />  <br />

                            <div class="col-md-3">


                              <div class="panel-group" id="accordion">
                                <div class="panel panel-default">
                                    <div ng-if="showCampaignGraph" class="panel-heading" ng-click="getCampaigns()">
                                        <h4 class="panel-title">
                                            All Campaigns
                                        </h4>

                                    </div>
                                </div>
                                <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.completed.status)">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            Completed Campaigns
                                        </h4>
                                    </div>
                                    <div id="completed" class="animate-show" ng-show="campaignStatus.completed.value">
                                        <div class="panel-bodyDashboard camp-menu-content">
                                            <table class="table">
                                                <tr ng-repeat="campaign in campaignData.completed_campaigns">
                                                  <td ng-click="getSuppliersOfCampaignWithStatus(campaign)">
                                                    {{campaign.name}}
                                                  </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                  <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.ongoing.status)">
                                      <div class="panel-heading">
                                          <h4 class="panel-title">
                                              Ongoing-Campaigns
                                          </h4>
                                      </div>
                                      <div id="ongoing" class="animate-show" ng-show="campaignStatus.ongoing.value">
                                          <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.ongoing_campaigns">
                                                    <td ng-click="getSuppliersOfCampaignWithStatus(campaign)">
                                                      {{campaign.name}}
                                                    </td>
                                                  </tr>
                                              </table>
                                          </div>
                                      </div>
                                  </div>

                                  <div class="panel panel-default">
                                      <div class="panel-heading" ng-click="switchToInventory(campaignStatus.upcoming.status)">
                                          <h4 class="panel-title">
                                              Upcoming Campaigns
                                          </h4>
                                      </div>
                                      <!-- <div id="upcoming" class="animate-show" ng-show="campaignStatus.upcoming.value">
                                          <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.upcoming_campaigns">
                                                    <td ng-click="getSuppliersOfCampaignWithStatus(campaign)">
                                                      {{campaign.name}}
                                                    </td>
                                                  </tr>
                                              </table>
                                          </div>
                                      </div> -->
                                  </div>
                                  <div class="panel panel-default">
                                      <div class="panel-heading" ng-click="getCampaignsMenu(campaignStatus.onhold.status)">
                                          <h4 class="panel-title">
                                              On Hold Campaigns
                                          </h4>
                                      </div>
                                      <div id="onhold" class="animate-show" ng-show="campaignStatus.onhold.value">
                                          <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.onhold_campaigns">
                                                    <td ng-click="getSuppliersOfCampaignWithStatus(campaign)">
                                                      {{campaign.name}}
                                                    </td>
                                                  </tr>
                                              </table>
                                          </div>
                                      </div>
                                  </div>


                              </div>

                            </div>

                            <div class="col-md-4">

                              <!-- <uib-tab-heading uib-dropdown>
                                  <button class="btn btn-warning btn-sm pull-right" style="background-color:#fcfc5f;color:black;margin-top:10px;" uib-dropdown-toggle ng-click="$event.stopPropagation()">
                                      Select Chart <i class="caret"></i>
                                  </button>
                                  <ul class="dropdown-menu" uib-dropdown-menu>
                                      <li ng-repeat="(key,chart) in charts">
                                        <a ng-click="$dropdownTabActive = $index+1; $tabLeftSetStatus.activeTab = 0;getChart(chart.value)">{{chart.name}}</a>
                                      </li>
                                  </ul>
                              </uib-tab-heading> -->
                              <nvd3 options="options" data="campaignChartdata" ng-if="!showSingleCampaignChart"></nvd3>
                              <nvd3 options="options1" data="campaignChartdata" ng-if="showSingleCampaignChart"></nvd3>

                            </div>
                            <div class="col-md-5 LeadsTable">
                              <div class="panel-heading content-title">

                                <h5 style="background:'red';color:white;" ng-if="!showSingleCampaignChart">All Campaign Details</h5>
                                <h5 style="background:'red';color:white;" ng-if="showSingleCampaignChart">Supplier / Leads Details</h5>

                              </div>

                              <div class="supplierTable-style" ng-if="showSingleCampaignChart">
                                <table class="table-responsive table table-bordered equal-width">
                                  <thead>
                                    <tr style="font-size:12px;">
                                      <td>Campaign Status</td>
                                      <td>Supplier Count</td>
                                      <td>Flat Count</td>
                                      <td>HotLeads %</td>
                                      <td>Leads/Flat %</td>
                                      <td>Hot Leads Count</td>
                                      <td>Total Leads Count</td>

                                      <!-- <td ng-if="showLeadsDetails" >Total Leads <br><small>(High Quality Leads)</small></td> -->
                                    </tr>
                                  </thead>
                                      <tbody>
                                      <tr ng-repeat="(key,data) in overallMetric"  style="font-size:12px;">
                                        <td style="text-align:left;"  ng-if="key != 'ongoing'">{{key | uppercase}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important" ng-if="key == 'ongoing'">{{key | uppercase}}</td>
                                        <td style="text-align:left;"  ng-if="key != 'ongoing'">{{data.total_suppliers_count}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key == 'ongoing'">{{data.total_suppliers_count}}</td>

                                        <td style="text-align:left;" ng-if="key != 'ongoing'">{{data.flat_count}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important" ng-if="key == 'ongoing'">{{data.flat_count}}</td>

                                        <td style="text-align:left;"  ng-if="key !='upcoming' && key != 'ongoing'">{{data.hot_leads_percentage_by_flat_count | limitTo:4 || NA}} %</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key =='ongoing'">{{data.hot_leads_percentage_by_flat_count | limitTo:4 || NA}} %</td>
                                        <td style="text-align:left;" ng-if="key =='upcoming'">NA</td>

                                        <td style="text-align:left;"  ng-if="key !='upcoming' && key != 'ongoing'">{{data.leads_flat_percentage| limitTo:4 || NA}} %</td>
                                        <td style="text-align:left;;background-color:green;color:#ffffff !important"  ng-if="key =='ongoing'">{{data.leads_flat_percentage| limitTo:4 || NA}} %</td>
                                        <td style="text-align:left" ng-if="key =='upcoming'">NA</td>

                                        <td style="text-align:left;"  ng-if="key !='upcoming' && key != 'ongoing'">{{data.total_hot_leads_count| limitTo:4 || NA}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key =='ongoing'">{{data.total_hot_leads_count| limitTo:4 || NA}}</td>
                                        <td style="text-align:left;" ng-if="key =='upcoming'">NA</td>

                                        <td style="text-align:left;"  ng-if="key !='upcoming' && key != 'ongoing'">{{data.total_leads_count| limitTo:4 || NA}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key =='ongoing'">{{data.total_leads_count| limitTo:4 || NA}}</td>
                                        <td style="text-align:left;" ng-if="key =='upcoming'">NA</td>
                                        <!-- <td> {{}}</td>
                                        <td class="blinking" ng-if="showLeadsDetails && item.status != 'upcoming'">{{campaignStatusData[item.status].totalLeads||0}}({{campaignStatusData[item.status].hotLeads}})</td>
                                        <td ng-if="showLeadsDetails && item.status == 'upcoming'">NA</td> -->
                                      </tr>
                                      <tr style="background:#c2452f;font-color:#ffffff">
                                        <td>TOTAL</td>
                                        <td>{{addCount(overallMetric,'total_suppliers_count')}}</td>
                                        <td>{{addCount(overallMetric,'flat_count')}}</td>
                                        <td ng-if="addCount(overallMetric,'flat_count') != 0">{{addCount(overallMetric,'total_hot_leads_count')/addCount(overallMetric,'flat_count') * 100|limitTo:5}}%</td>
                                        <td ng-if="addCount(overallMetric,'flat_count') == 0">NA</td>
                                        <td ng-if="addCount(overallMetric,'flat_count') != 0">{{addCount(overallMetric,'total_leads_count')/addCount(overallMetric,'flat_count') * 100|limitTo:5}}%</td>
                                        <td ng-if="addCount(overallMetric,'flat_count') == 0">NA</td>
                                        <td>{{addCount(overallMetric,'total_hot_leads_count')}}</td>
                                        <td>{{addCount(overallMetric,'total_leads_count')}}</td>
                                      </tr>

                                    </tbody>
                                    </table>

                              </div>
                              <div class="supplierTable-style" ng-if="!showSingleCampaignChart">
                                <table class="table-responsive table table-bordered equal-width">
                                  <thead>
                                    <tr style="font-size:12px;">
                                      <td>Campaign Status</td>
                                      <td>Supplier Count</td>
                                      <td>Flat Count</td>
                                      <td>Hot Leads Count</td>
                                      <td>Total Leads Count</td>
                                      <td>Hot Leads (%)</td>
                                      <td>Total Leads (%)</td>

                                      <!-- <td ng-if="showLeadsDetails" >Total Leads <br><small>(High Quality Leads)</small></td> -->
                                    </tr>
                                  </thead>
                                      <tbody>
                                      <tr ng-repeat="(key,data) in allCampaignsLeadsData"  style="font-size:12px;">
                                        <td style="text-align:left;" ng-if="key != 'ongoing'">{{key}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important" ng-if="key == 'ongoing'">{{key}}</td>

                                        <td style="text-align:left;"  ng-if="key != 'ongoing'">{{data.supplier_count}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key == 'ongoing'">{{data.supplier_count}}</td>

                                        <td style="text-align:left;"  ng-if="key != 'ongoing'">{{data.flat_count}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key == 'ongoing'">{{data.flat_count}}</td>

                                        <td style="text-align:left;"  ng-if="key != 'ongoing'">{{data.hot_leads}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important"  ng-if="key == 'ongoing'">{{data.hot_leads}}</td>

                                        <td style="text-align:left;" ng-if="key != 'ongoing'">{{data.total_leads}}</td>
                                        <td style="text-align:left;background-color:green;color:#ffffff !important" ng-if="key == 'ongoing'">{{data.total_leads}}</td>

                                        <td ng-if="data.flat_count != 0 && key != 'ongoing'">{{data.hot_leads/data.flat_count * 100|limitTo:5}}</td>
                                        <td ng-if="data.flat_count != 0 && key == 'ongoing'" style="text-align:left;background-color:green;color:#ffffff !important">{{data.hot_leads/data.flat_count * 100|limitTo:5}}</td>
                                        <td ng-if="data.flat_count == 0">NA</td>

                                        <td ng-if="data.flat_count != 0 && key != 'ongoing'">{{data.total_leads/data.flat_count * 100|limitTo:5}}</td>
                                        <td ng-if="data.flat_count != 0 && key == 'ongoing'" style="text-align:left;background-color:green;color:#ffffff !important">{{data.total_leads/data.flat_count * 100|limitTo:5}}</td>
                                        <td ng-if="data.flat_count == 0">NA</td>
                                      </tr>
                                      <tr style="background:#c2452f;font-color:#ffffff">
                                        <td>Total</td>
                                        <td>{{addCount(allCampaignsLeadsData,'supplier_count')}}</td>
                                        <td>{{addCount(allCampaignsLeadsData,'flat_count')}}</td>
                                        <td>{{addCount(allCampaignsLeadsData,'hot_leads')}}</td>
                                        <td>{{addCount(allCampaignsLeadsData,'total_leads')}}</td>
                                        <td ng-if="addCount(allCampaignsLeadsData,'flat_count') != 0">{{addCount(allCampaignsLeadsData,'hot_leads')/addCount(allCampaignsLeadsData,'flat_count') * 100|limitTo:5}}%</td>
                                        <td ng-if="addCount(allCampaignsLeadsData,'flat_count') == 0">NA</td>
                                        <td ng-if="addCount(allCampaignsLeadsData,'flat_count') != 0">{{addCount(allCampaignsLeadsData,'total_leads')/addCount(allCampaignsLeadsData,'flat_count') * 100|limitTo:5}}%</td>
                                        <td ng-if="addCount(allCampaignsLeadsData,'flat_count') == 0">NA</td>
                                      </tr>

                                    </tbody>
                                    </table>

                              </div>

                                    <table class="table-responsive table table-bordered AvgLeadsTable" >
                                      <thead>
                                        <td>Total Leads (%)</td>
                                        <td>Hot Leads (%)</td>
                                      </thead>
                                    <tbody>
                                      <tr>
                                      <td>{{addCount(allCampaignsLeadsData,'total_leads')}} ({{addCount(allCampaignsLeadsData,'total_leads')/addCount(allCampaignsLeadsData,'flat_count') * 100|limitTo:5}}%)</td>
                                        <td>{{addCount(allCampaignsLeadsData,'hot_leads')}} ({{addCount(allCampaignsLeadsData,'hot_leads')/addCount(allCampaignsLeadsData,'flat_count') * 100|limitTo:5}}%)</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                  </div>
                          </div>
                          </div>

                          <div class="">
                              <!-- <div class="col-md-12 showDisplayDetailsTable" ng-if="showDisplayDetailsTable" style="margin-top:5px;">
                              <table class="table-responsive table table-bordered showDisplayDetailsTable">
                                <thead>
                                  <tr>
                                   <th colspan='999' style="background-color: #cb1925" class="panel-heading">
                                      <h5>Society Details For {{campaignTabPropsalName}}</h5>
                                    </th>
                                  </tr>
                                  <tr>
                                    <th colspan='999' style="background-color:#ffffff;">
                                      <input placeholder="Search ..." class="form-control"  type="search"/>
                                    </th>
                                  </tr>
                                  <tr>
                                    <td>INDEX</td>
                                    <td>Society Details</td>
                                    <td ng-if="invStatusKeys.STALL.status">STALL</td>
                                    <td ng-if="invStatusKeys.POSTER.status">POSTER</td>
                                    <td ng-if="invStatusKeys.FLIER.status">FLIER(Frequency)</td>
                                    <td ng-if="invStatusKeys.STANDEE.status">STANDEE</td>
                                    <td ng-if="invStatusKeys['GATEWAY ARCH'].status">GATEWAY ARCH</td>
                                    <td ng-if="showLeads">Leads</td>
                                  </tr>

                                </thead>
                                    <tbody>
                                    <tr ng-repeat="supplier in supplierAndInvData">
                                      <td>{{$index + 1}}</td>
                                        <td>{{supplier.supplier.society_name}}</td>
                                        stall
                                        <td ng-show="invStatusKeys.STALL.status">
                                        <a ng-click="setInventoryInfoModalDetails(supplier.supplier,invCodes.ST)" data-toggle="modal" data-target="#inventoryInfoModal">View Details</a>
                                        <table class="table-responsive table table-bordered ">
                                          <thead>
                                            <tr>
                                              <th>Total</th>
                                              <th>Assigned</th>
                                              <th>Completed</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:middle" ng-init="calculateTotalCount('STALL',supplier.supplier.inv_data.STALL.total.total)" ng-show="invStatusKeys.STALL.status">
                                                {{supplier.supplier.inv_data.STALL.total.total}}
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                   <td>{{supplier.supplier.inv_data.STALL.assigned.RELEASE.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td>{{supplier.supplier.inv_data.STALL.assigned.AUDIT.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td>{{supplier.supplier.inv_data.STALL.assigned.CLOSURE.total || 0}}</td>
                                                  </tr>
                                                </table>
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td ng-if="supplier.supplier.inv_data.STALL.completed.RELEASE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'SL','RELEASE')">{{supplier.supplier.inv_data.STALL.completed.RELEASE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STALL.completed.RELEASE.total">0</td>
                                                    </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td ng-if="supplier.supplier.inv_data.STALL.completed.AUDIT.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'SL','AUDIT')">{{supplier.supplier.inv_data.STALL.completed.AUDIT.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STALL.completed.AUDIT.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td ng-if="supplier.supplier.inv_data.STALL.completed.CLOSURE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'SL','CLOSURE')">{{supplier.supplier.inv_data.STALL.completed.CLOSURE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STALL.completed.CLOSURE.total">0</td>
                                                  </tr>
                                                </table>
                                              </td>

                                            </tr>
                                          </tbody>
                                        </table>
                                      </td>
                                      poster
                                      <td ng-show="invStatusKeys.POSTER.status">
                                      <a ng-click="setInventoryInfoModalDetails(supplier.supplier,invCodes.ST)" data-toggle="modal" data-target="#inventoryInfoModal">View Details</a>
                                      <table class="table-responsive table table-bordered ">
                                        <thead>
                                          <tr>
                                            <th>Total</th>
                                            <th>Assigned</th>
                                            <th>Completed</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:middle" ng-init="calculateTotalCount('POSTER',supplier.supplier.inv_data.POSTER.total.total)" ng-show="invStatusKeys.POSTER.status">
                                              {{supplier.supplier.inv_data.POSTER.total.total}}
                                            </td>
                                            <td>
                                              <table class="table-responsive table table-bordered">
                                                <tr>
                                                  <td style="background-color:#cb1925">R</td>
                                                  <td>{{supplier.supplier.inv_data.POSTER.assigned.RELEASE.total || 0}}</td>
                                                </tr>
                                                <tr>
                                                  <td style="background-color:#cb1925">A</td>
                                                  <td>{{supplier.supplier.inv_data.POSTER.assigned.AUDIT.total || 0}}</td>
                                                </tr>
                                                <tr>
                                                  <td style="background-color:#cb1925">C</td>
                                                  <td>{{supplier.supplier.inv_data.POSTER.assigned.CLOSURE.total || 0}}</td>
                                                </tr>
                                              </table>
                                            </td>
                                            <td>
                                              <table class="table-responsive table table-bordered ">
                                                <tr>
                                                  <td style="background-color:#cb1925">R</td>
                                                  <td ng-if="supplier.supplier.inv_data.POSTER.completed.RELEASE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'PO','RELEASE')">{{supplier.supplier.inv_data.POSTER.completed.RELEASE.total}}</a></td>
                                                  <td ng-if="!supplier.supplier.inv_data.POSTER.completed.RELEASE.total">0</td>
                                                </tr>
                                                <tr>
                                                  <td style="background-color:#cb1925">A</td>
                                                  <td ng-if="supplier.supplier.inv_data.POSTER.completed.AUDIT.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'PO','AUDIT')">{{supplier.supplier.inv_data.POSTER.completed.AUDIT.total}}</a></td>
                                                  <td ng-if="!supplier.supplier.inv_data.POSTER.completed.AUDIT.total">0</td>
                                                </tr>
                                                <tr>
                                                  <td style="background-color:#cb1925">C</td>
                                                  <td ng-if="supplier.supplier.inv_data.POSTER.completed.CLOSURE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'PO','CLOSURE')">{{supplier.supplier.inv_data.POSTER.completed.CLOSURE.total}}</a></td>
                                                  <td ng-if="!supplier.supplier.inv_data.POSTER.completed.CLOSURE.total">0</td>
                                                </tr>
                                              </table>
                                            </td>

                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                        < <td ng-init="calculateTotalCount('POSTER',supplier.supplier.inv_data.POSTER.total.total)" ng-show="invStatusKeys.POSTER.status">{{supplier.supplier.inv_data.POSTER.total.total}}
                                        </td> -->
                                        <!-- FLIER -->
                                        <!-- <td ng-show="invStatusKeys.FLIER.status"> -->
                                        <!-- <a ng-click="setInventoryInfoModalDetails(supplier.supplier,invCodes.ST)" data-toggle="modal" data-target="#inventoryInfoModal">View Details</a> -->
                                        <!-- <table class="table-responsive table table-bordered ">
                                          <thead>
                                            <tr>
                                              <th>Total</th>
                                              <th>Assigned</th>
                                              <th>Completed</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:middle" ng-init="calculateTotalCount('FLIER',supplier.supplier.inv_data.FLIER.total.total)" ng-show="invStatusKeys.FLIER.status">
                                                {{supplier.supplier.inv_data.FLIER.total.total}}
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td>{{supplier.supplier.inv_data.FLIER.assigned.RELEASE.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td>{{supplier.supplier.inv_data.FLIER.assigned.AUDIT.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td>{{supplier.supplier.inv_data.FLIER.assigned.CLOSURE.total || 0}}</td>
                                                  </tr>
                                                </table>
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td ng-if="supplier.supplier.inv_data.FLIER.completed.RELEASE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'FL','RELEASE')">{{supplier.supplier.inv_data.FLIER.completed.RELEASE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.FLIER.completed.RELEASE.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td ng-if="supplier.supplier.inv_data.FLIER.completed.AUDIT.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'FL','AUDIT')">{{supplier.supplier.inv_data.FLIER.completed.AUDIT.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.FLIER.completed.AUDIT.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td ng-if="supplier.supplier.inv_data.FLIER.completed.CLOSURE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'FL','CLOSURE')">{{supplier.supplier.inv_data.FLIER.completed.CLOSURE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.FLIER.completed.CLOSURE.total">0</td>
                                                  </tr>
                                                </table>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table> -->
                                      <!-- </td> -->
                                        <!-- <td ng-init="calculateTotalCount('FLIER',supplier.supplier.inv_data.FLIER.total.total)" ng-show="invStatusKeys.FLIER.status">{{supplier.supplier.flat_count}}({{supplier.supplier.inv_data.FLIER.total.total}})
                                        </td> -->
                                        <!-- STANDEE -->
                                        <!-- <td ng-show="invStatusKeys.STANDEE.status"> -->
                                        <!-- <a ng-click="setInventoryInfoModalDetails(supplier.supplier,invCodes.ST)" data-toggle="modal" data-target="#inventoryInfoModal">View Details</a> -->
                                        <!-- <table class="table-responsive table table-bordered ">
                                          <thead>
                                            <tr>
                                              <th>Total</th>
                                              <th>Assigned</th>
                                              <th>Completed</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:middle" ng-init="calculateTotalCount('STANDEE',supplier.supplier.inv_data.STANDEE.total.total)" ng-show="invStatusKeys.STANDEE.status">
                                                {{supplier.supplier.inv_data.STANDEE.total.total}}
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td>{{supplier.supplier.inv_data.STANDEE.assigned.RELEASE.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td>{{supplier.supplier.inv_data.STANDEE.assigned.AUDIT.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td>{{supplier.supplier.inv_data.STANDEE.assigned.CLOSURE.total || 0}}</td>
                                                  </tr>
                                                </table>
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td ng-if="supplier.supplier.inv_data.STANDEE.completed.RELEASE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'ST','RELEASE')">{{supplier.supplier.inv_data.STANDEE.completed.RELEASE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STANDEE.completed.RELEASE.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td ng-if="supplier.supplier.inv_data.STANDEE.completed.AUDIT.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'ST','AUDIT')">{{supplier.supplier.inv_data.STANDEE.completed.AUDIT.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STANDEE.completed.AUDIT.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td ng-if="supplier.supplier.inv_data.STANDEE.completed.CLOSURE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'ST','CLOSURE')">{{supplier.supplier.inv_data.STANDEE.completed.CLOSURE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data.STANDEE.completed.CLOSURE.total">0</td>
                                                  </tr>
                                                </table>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </td> -->
                                        <!-- <td ng-init="calculateTotalCount('STANDEE',supplier.supplier.inv_data.STANDEE.total.total)" ng-show="invStatusKeys.STANDEE.status">{{supplier.supplier.inv_data.STANDEE.total.total}}
                                        </td> -->
                                        <!-- gateway ARCH -->
                                        <!-- <td ng-show="invStatusKeys['GATEWAY ARCH'].status"> -->
                                        <!-- <a ng-click="setInventoryInfoModalDetails(supplier.supplier,invCodes.ST)" data-toggle="modal" data-target="#inventoryInfoModal">View Details</a> -->
                                        <!-- <table class="table-responsive table table-bordered ">
                                          <thead>
                                            <tr>
                                              <th>Total</th>
                                              <th>Assigned</th>
                                              <th>Completed</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:middle" ng-init="calculateTotalCount('GATEWAY ARCH',supplier.supplier.inv_data['GATEWAY ARCH'].total.total)" ng-show="invStatusKeys['GATEWAY ARCH'].status">
                                                {{supplier.supplier.inv_data['GATEWAY ARCH'].total.total}}
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered ">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td>{{supplier.supplier.inv_data['GATEWAY ARCH'].assigned.RELEASE.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td>{{supplier.supplier.inv_data['GATEWAY ARCH'].assigned.AUDIT.total || 0}}</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td>{{supplier.supplier.inv_data['GATEWAY ARCH'].assigned.CLOSURE.total || 0}}</td>
                                                  </tr>
                                                </table>
                                              </td>
                                              <td>
                                                <table class="table-responsive table table-bordered">
                                                  <tr>
                                                    <td style="background-color:#cb1925">R</td>
                                                    <td ng-if="supplier.supplier.inv_data['GATEWAY ARCH'].completed.RELEASE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'GA','RELEASE')">{{supplier.supplier.inv_data['GATEWAY ARCH'].completed.RELEASE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data['GATEWAY ARCH'].completed.RELEASE.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">A</td>
                                                    <td ng-if="supplier.supplier.inv_data['GATEWAY ARCH'].completed.AUDIT.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'GA','AUDIT')">{{supplier.supplier.inv_data['GATEWAY ARCH'].completed.AUDIT.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data['GATEWAY ARCH'].completed.AUDIT.total">0</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="background-color:#cb1925">C</td>
                                                    <td ng-if="supplier.supplier.inv_data['GATEWAY ARCH'].completed.CLOSURE.total"><a data-target="#imageModal" data-toggle="modal" ng-click="viewSupplierImages(supplier.supplier.supplier_id,'GA','CLOSURE')">{{supplier.supplier.inv_data['GATEWAY ARCH'].completed.CLOSURE.total}}</a></td>
                                                    <td ng-if="!supplier.supplier.inv_data['GATEWAY ARCH'].completed.CLOSURE.total">0</td>
                                                  </tr>
                                                </table>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </td> -->
                                        <!-- <td ng-init="calculateTotalCount('GATEWAY ARCH',supplier.supplier.inv_data['GATEWAY ARCH'].total.total)" ng-show="invStatusKeys['GATEWAY ARCH'].status">{{supplier.supplier.inv_data['GATEWAY ARCH'].total.total}}
                                        </td> -->
                                        <!-- <td style="vertical-align:middle" ng-if="showLeads">{{supplier.leads_data.length}}</td> -->
<!--
                                      </tr>

                                      </tbody>
                                      <tfoot>
                                        <tr>
                                          <td>TOTAL</td>
                                            <td>{{length}}</td>
                                            <td ng-show="invStatusKeys.STALL.status"><button type="button" name="button" class="btn btn-primary" ng-click="switchToInventory('SL')" style="width:100%;color:black">{{invStatusKeys.STALL.total}}</button></td>
                                            <td  ng-show="invStatusKeys.POSTER.status"><button type="button" name="button" class="btn btn-primary" ng-click="switchToInventory('PO')" style="width:100%;color:black">{{invStatusKeys.POSTER.total}}</button></td>
                                            <td  ng-show="invStatusKeys.FLIER.status"><button type="button" name="button" class="btn btn-primary" ng-click="switchToInventory('FL')" style="width:100%;color:black">{{invStatusKeys.FLIER.total}}</button></td>
                                            <td  ng-show="invStatusKeys.STANDEE.status"><button type="button" name="button" class="btn btn-primary" ng-click="switchToInventory('ST')" style="width:100%;color:black">{{invStatusKeys.STANDEE.total}}</button></td>
                                            <td  ng-show="invStatusKeys['GATEWAY ARCH'].status"><button type="button" name="button" class="btn btn-primary" ng-click="switchToInventory('GA')" style="width:100%;color:black">{{invStatusKeys['GATEWAY ARCH'].total}}</button></td>
                                            <td ng-if="showLeads"><button type="button" name="button" class="btn btn-primary" ng-click="switchToLeads()" style="width:100%;color:black">{{countLeads}}</button></td>
                                        </tr>
                                      </tfoot>
                                  </table> -->
                                <!-- </div>  -->



                                <div class="col-md-12 showDisplayDetailsTable" ng-if="showDisplayDetailsTable" style="margin-top:5px;height:500px !important;">

                                  <!-- <div class="row">
                                    <select name="phase" class="form-control spacing input-width-phase" ng-model="supplier.phaseNo" min="1">
                                      <option value="" disabled>Select Phase</option>
                                      <option ng-repeat="phase in phases | unique:'phase_no'" value="{{phase.id}}">{{phase.phase_no}}</option>
                                    </select>
                                  </div> -->
                                  <div class="row">

                                    <table class="table table-bordered campaignDetailTable">
                                      <thead>
                                        <tr>
                                         <th colspan='999' style="background-color: #cb1925" class="panel-heading">
                                            <h5>Society Details For {{campaignTabPropsalName}} - {{supplierStatus | uppercase}}</h5>
                                          </th>
                                        </tr>
                                        <tr>
                                          <th colspan='999' style="background-color:#ffffff;">
                                            <input ng-model="query" placeholder="Search ..." class="form-control"  type="search"/>
                                          </th>
                                        </tr>
                                        <tr>
                                          <td>INDEX</td>
                                          <td><a style="color:#000000;" ng-click="Sort('phase')">Phase No &nbsp;<i class="icon-sort"></i></a>
                                            <br /><br />
                                            <input ng-model="f.phase" class="form-control" placeholder="SearchByPhase"></td>
                                          <td><a style="color:#000000;" ng-click="Sort('supplier.society_name')">Society Name &nbsp;<i class="icon-sort"></i></a>
                                            <br /><br />
                                            <input ng-model="f.society_name" style="max-width:120px" placeholder="SearchBySociety"></td>
                                          <td>Society Area (SubArea)</td>
                                          <td>Society Type</td>
                                          <td><a style="color:#000000;"  ng-click="Sort('supplier.flat_count')" >Flat Count &nbsp;<i class="icon-sort"></i></a></td>
                                          <td><a style="color:#000000;"  ng-click="Sort('leads_data.total_leads_count')" >Leads (% by Flat Count) &nbsp;<i class="icon-sort"></i></a></td>
                                          <td> <a style="color:#000000;" ng-click="Sort('leads_data.hot_leads_count')" >Hot Leads (% by Flat Count) &nbsp;<i class="icon-sort"></i></a></td>
                                          <td ng-if="supplierStatus != 'upcoming'">Poster</td>
                                          <td ng-if="supplierStatus != 'upcoming'">Flier</td>
                                          <td ng-if="supplierStatus != 'upcoming'">Standee</td>
                                          <td ng-if="supplierStatus != 'upcoming'">Stall</td>
                                          <td ng-if="supplierStatus != 'upcoming'">Other Images</td>
                                          <td>Permission Box</td>
                                          <td>Add <br> Comments</td>
                                          <td>View <br> Comments</td>
                                            </tr>

                                      </thead>
                                          <tbody class="detailedTable">
                                            <div class="row">
                                                <tr ng-repeat="supplier in supplierAndInvData |filter:query |  filter:f | orderBy:sort:reversesort">
                                                <td style="vertical-align:middle">{{$index + 1}}</td>
                                                <td style="vertical-align:middle">{{supplier.phase}}</td>
                                                <td class="col-md-2">{{supplier.supplier.society_name}}</td>
                                                <td class="col-md-2">{{supplier.supplier.society_locality}} <small>({{supplier.supplier.society_subarea}})</small></td>
                                                <td class="col-md-2">{{supplier.supplier.society_type_quality}}</td>
                                                <td class="col-md-2">{{supplier.supplier.flat_count}}</td>
                                                <td class="col-md-2" style="color:#ffffff">{{supplier.leads_data.total_leads_count || 0}} <small style="color:#cb1925;"> ({{supplier.leads_data.leads_flat_percentage || 0}} %)</small></td>
                                                <td class="col-md-2"> <small style="color:#cb1925;">{{supplier.leads_data.hot_leads_count || 0}}({{supplier.leads_data.hot_leads_percentage_by_flat_count || 0}} %)</small></td>
                                                <td ng-if="supplier.images_data.POSTER && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data.POSTER.images)">Images ({{supplier.images_data.POSTER.total_count}})</a></td>
                                                <td ng-if="!supplier.images_data.POSTER && supplierStatus != 'upcoming'">No Images</td>

                                                <td ng-if="supplier.images_data.FLIER && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data.FLIER.images)">Images ({{supplier.images_data.FLIER.total_count}})</a></td>
                                                <td ng-if="!supplier.images_data.FLIER && supplierStatus != 'upcoming'">No Images</td>

                                                <td ng-if="supplier.images_data.STANDEE && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data.STANDEE.images)">Images ({{supplier.images_data.STANDEE.total_count}})</a></td>
                                                <td ng-if="!supplier.images_data.STANDEE && supplierStatus != 'upcoming'">No Images</td>

                                                <td ng-if="supplier.images_data.STALL && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data.STALL.images)">Images ({{supplier.images_data.STALL.total_count}})</a></td>
                                                <td ng-if="!supplier.images_data.STALL && supplierStatus != 'upcoming'">No Images</td>

                                                <td ng-if="supplierStatus == 'ongoing' || supplierStatus == 'completed'">
                                                  <table class="table-responsive table table-bordered ">
                                                    <tr>
                                                      <td ng-if="supplier.images_data.BANNER && supplierStatus != 'upcoming'" style="background-color:#cb1925">BANNER</td>
                                                      <td ng-if="supplier.images_data.BANNER && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data.BANNER.images)">{{supplier.images_data.BANNER.total_count}}</a></td>
                                                    </tr>
                                                    <tr>
                                                      <td ng-if="supplier.images_data['OTHER IMAGES'] && supplierStatus != 'upcoming'" style="background-color:#cb1925">OTHER IMAGES</td>
                                                      <td ng-if="supplier.images_data['OTHER IMAGES'] && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data['OTHER IMAGES'].images)">{{supplier.images_data['OTHER IMAGES'].total_count}}</a></td>
                                                      <!-- <td ng-if="!supplier.images_data['OTHER IMAGES']">NA</td> -->
                                                    </tr>
                                                    <tr>
                                                      <td ng-if="supplier.images_data['CERTIFICATION DISTRIBUTION'] && supplierStatus != 'upcoming'" style="background-color:#cb1925">CERTIFICATION DISTRIBUTION</td>
                                                      <td ng-if="supplier.images_data['CERTIFICATION DISTRIBUTION'] && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data['CERTIFICATION DISTRIBUTION'].images)">{{supplier.images_data['CERTIFICATION DISTRIBUTION'].total_count}}</a></td>
                                                      <!-- <td ng-if="!supplier.images_data['CERTIFICATION DISTRIBUTION']">NA</td> -->
                                                    </tr>
                                                    <tr>
                                                    <td ng-if="supplier.images_data['STALL WITH PROMOTERS'] && supplierStatus != 'upcoming'" style="background-color:#cb1925">STALL WITH PROMOTERS</td>
                                                      <td ng-if="supplier.images_data['STALL WITH PROMOTERS'] && supplierStatus != 'upcoming'"><a data-target="#posterImageModal" data-toggle="modal" ng-click="ImageURL(supplier,supplier.images_data['STALL WITH PROMOTERS'].images)">{{supplier.images_data['STALL WITH PROMOTERS'].total_count}}</a></td>
                                                      <!-- <td ng-if="!supplier.images_data['CERTIFICATION DISTRIBUTION']">NA</td> -->
                                                    </tr>
                                                  </table>
                                                </td>
                                                <td>
                                                  <a  ng-click="getPermissionBoxImages(supplier.supplier)">View</a>
                                                </td>
                                                <td>
                                                  <button type="button" class="btn btn-danger" ng-click="enableAddComments($index)">Add Comments</button>
                                                  <div ng-if="enableComments == $index">
                                                    <textarea name="name" rows="4" cols="20" placeholder="Enter Here.." ng-model="commentModal.comment"></textarea>
                                                    <button class="btn btn-success form-control" ng-disabled="!commentModal.comment" ng-click="addComment(supplier.shortlisted_space_id)">Add</button>
                                                  </div>
                                                </td>

                                                <td>
                                                  <button type="button" class="btn btn-danger" ng-click="viewComments(supplier,$index)">View Comments</button><br>
                                                  <div class="panel panel-default" ng-if="enableViewComments == $index" style="height:100px;overflow-y:scroll;padding-top:40px;">
                                                    <div class="talk-bubble tri-right round left-top"  ng-repeat="item in commentsData.general" style="margin-top:-20px">
                                                      <div class="talktext" style="font-color:black">
                                                        <p style="color:#ff0000;font-size:smaller">{{item.user_name}}</p>
                                                        <p style="color:#000000;font-size:x-small">{{item.comment}}</p>
                                                        <p style="color:#0000ff;font-size:xx-small;text-align:right">{{item.timestamp|date:'medium'}}</p>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </td>

                                                  <!-- <td ng-init="calculateTotalCount('GATEWAY ARCH',supplier.supplier.inv_data['GATEWAY ARCH'].total.total)" ng-show="invStatusKeys['GATEWAY ARCH'].status">{{supplier.supplier.inv_data['GATEWAY ARCH'].total.total}}
                                                  </td> -->
                                                  <!-- <t d style="vertical-align:middle" ng-if="showLeads">{{supplier.leads_data.length}}</td> -->

                                                </tr>
                                            </div>
                                      </tbody>
                                            <tfoot>
                                              <tr>
                                                  <td>TOTAL</td>
                                                  <td></td>
                                                  <td>{{length}}</td>
                                                  <td></td>
                                                  <td></td>
                                                  <td>{{TotalSupplierFlatCount}}</td>
                                                  <td>{{TotalSupplierLeadsCount}}</td>
                                                  <td>{{TotalSupplierHotLeadsCount}}</td>

                                                </tr>
                                            </tfoot>
                                        </table>
                                  </div>
                                  </div>

                                <div class="col-md-12" ng-show="showDisplayDetailsTable" style="margin-top:60px;">
                                  <div class="panel-heading content-title">
                                    <h5 style="background:'red'">Map View for {{campaignTabPropsalName}}</h5></div>
                                  <style type="text/css">
                                        .angular-google-map-container { height: 550px;color: black;}
                                    </style>
                                      <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false"
                                                          options="options" bounds="map.bounds" control="googlemap">
                                          <ui-gmap-window show="show" coords='windowCoords' closeClick="closeClick()">
                                                <div>
                                                  <table class="table-responsive table">
                                                    <div class="">
                                                      <h3>{{space.title.name}}</h3>
                                                    </div>
                                                    <tr><td>{{space.title.STALL.key}}</td><td><small>{{space.title.STALL.total}}</small></td></tr>
                                                    <tr><td>{{space.title.POSTER.key}}</td><td><small>{{space.title.POSTER.total}}</small></td></tr>
                                                    <tr><td>{{space.title.STANDEE.key}}</td><td><small>{{space.title.STANDEE.total}}</small></td></tr>
                                                    <tr><td>{{space.title.FLIER.key}}</td><td><small>{{space.title.FLIER.total}}</small></td></tr>
                                                    <tr><td>{{space.title['GATEWAY ARCH'].key}}</td><td><small>{{space.title['GATEWAY ARCH'].total}}</small></td></tr>
                                                  </table>
                                                 </div>
                                          </ui-gmap-window>
                                          <ui-gmap-markers models="supplierMarkers" coords="'self'" icon="'icon'"
                                                           options="'options'" doRebuildAll="true" click="onClick">
                                          </ui-gmap-markers>
                                      </ui-gmap-google-map>
                                </div>

                                <div class="col-md-7 LeadsTable" ng-show="showSupplierSocietywiseInvTable" >
                                  <div class="panel-heading content-title">
                                    <h5 style="background:'red'">SOCEITY DETAILS</h5>

                                  </div>
                                <table class="table-responsive table table-bordered">
                                  <thead>
                                    <tr>
                                      <td>Society Name</td>
                                      <td>Inventory Count</td>
                                      <td>Average Delay</td>
                                      <td>Average Off Location</td>
                                      <td>Image</td>
                                      <td>Leads</td>
                                    </tr>
                                  </thead>
                                      <tbody>
                                      <tr ng-repeat="societies in SocietyInvTable">
                                        <td>{{societies[item.status].supplier.society_name}}</td>
                                        </tr>

                                    </tbody>
                                    </table>
                                  </div>
                          </div>


                        <div class="panel panel-default" >
                            <div class="col-md-12">

                              <div class="col-md-6" id="bottom" ng-if="showSupplierTypeCountChart">
                                <div class="panel-heading content-title">
                                  <h5 style="background:'red'">Graphical Representation of {{campaignStatusName}}</h5>
                                </div>
                                <nvd3 options="supplierCodeCountOptions" data="supplierCodeCountData"></nvd3>
                              </div>
                              <div class="col-md-6" ng-if="showSupplierTypeCountChart">
                                <div class="panel-heading content-title">
                                  <h5 style="background:'red'">{{campaignStatusName}}</h5>
                                </div>
                                <div class="campaignInvTable">
                                <table class="table-responsive table table-bordered">
                                  <thead>
                                    <th>Index</th>
                                    <th>Proposal Name</th>
                                    <th class="countDisplay">Supplier Count</th>
                                    <th>Leads Count</th>
                                    <th>Go to Inventory</th>
                                  </thead>
                                  <tbody ng-repeat="(key,data) in supplierTypesData">
                                    <tr ng-repeat="campaign in data">
                                      <td>{{$index + 1}}</td>
                                      <td>{{campaign.proposal__name}}</td>
                                     <td>{{campaign.total}}</td>
                                     <td ng-if="campaign.leads">{{campaign.leads.total}}</td>
                                     <td ng-if="!campaign.leads">NA</td>
                                     <td><a ng-click="getCampaignInvTypesData(campaign)" class="btn btn-danger">Go To Inventory</a>
                                     </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                              </div>
                              <br /> <br />
                              <div class="panel panel-default">
                              <div class="col-md-12" ng-if="showSupplierInvTable">
                                <div class="panel-heading content-title">
                                  <h5 style="background:'red'">Inventory Details Of {{campaignName}}</h5>
                                </div>
                                <div class="supplierInvTable">
                                <table class="table-responsive table table-bordered" ng-if="campaignInventoryData.filters.length">
                                  <thead>
                                    <th>Inventory Type</th>
                                      <th>Inventory Count </th>

                                  </thead>
                                  <tbody>
                                    <tr ng-repeat="filter in campaignInventoryData.filters">
                                      <td>{{inventories[filter.filter_code]}}</td>

                                        <td ng-if="filter.filter_code=='PO' || filter.filter_code=='ST'"><a>{{totalTowerCount}}</a></td>
                                        <td ng-if="filter.filter_code=='SL' || filter.filter_code=='GA'"><a>{{totalSupplierCount}}</a></td>
                                        <td ng-if="filter.filter_code=='FL'"><a>{{totalFlatCount}}</a></td>
                                     </td>
                                    </tr>
                                  </tbody>
                                </table>
                                <div ng-if="!campaignInventoryData.filters.length">
                                  <p style="text-align:center;">No Filters Found</p>
                                </div>
                              </div>
                            </div>
                            </div>
                              <br /> <br />
                              <div class="col-md-12" ng-if="showSupplierTypeCountChart">
                                <div class="panel-heading content-title">
                                  <h5 style="background:'red'">Map View for All Campaigns</h5></div>
                                  <style type="text/css">
                                        .angular-google-map-container { height: 550px;color: black;}
                                    </style>
                                      <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false"
                                                          options="options" bounds="map.bounds" control="googlemap">
                                          <ui-gmap-window show="show" coords='windowCoords' closeClick="closeClick()">
                                                <div>
                                                  <table class="table-responsive table">
                                                    <div class="">
                                                      <h3>{{space.title.name}}</h3>
                                                    </div>
                                                    <tr><td>{{space.title.STALL.key}}</td><td><small>{{space.title.STALL.total}}</small></td></tr>
                                                    <tr><td>{{space.title.POSTER.key}}</td><td><small>{{space.title.POSTER.total}}</small></td></tr>
                                                    <tr><td>{{space.title.STANDEE.key}}</td><td><small>{{space.title.STANDEE.total}}</small></td></tr>
                                                    <tr><td>{{space.title.FLIER.key}}</td><td><small>{{space.title.FLIER.total}}</small></td></tr>
                                                    <tr><td>{{space.title['GATEWAY ARCH'].key}}</td><td><small>{{space.title['GATEWAY ARCH'].total}}</small></td></tr>
                                                  </table>
                                                 </div>
                                          </ui-gmap-window>
                                          <ui-gmap-markers models="supplierAllCampaignMarkers" coords="'self'" icon="'icon'"
                                                           options="'options'" doRebuildAll="true" click="onClick">
                                          </ui-gmap-markers>
                                      </ui-gmap-google-map>
                                  </div>
                            </div>
                        </div>
                    </div>
                  </div>
              </uib-tab>


              <uib-tab id="uib-tabs-width" ng-click="viewCampaignLeads()" index="1">
                  <uib-tab-heading>
                    <h5>View Leads</h5>
                  </uib-tab-heading>
                  <div class="container-fluid">
                    <div class="" ng-if="showCampaigns">
                      <input type="text" class="form-control" ng-model="searchQuery" placeholder="search">
                      <table class="table table-bordered table-responsive">
                        <thead>
                          <tr>
                            <!-- <th>Index</th> -->
                            <th>Campaign Name</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <!-- <th>Phase</br>Completed</th> -->
                            <th>Campaign Status</th>
                            <th>Supplier</br> Count</th>
                            <th>Flat</br> Count</th>
                            <th>Total</br> Leads</th>
                            <th>Hot</br> Leads</th>
                            <th>Action</th>
                            <th>Email Leads</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="campaign in leadsDataCampaigns|filter : searchQuery" ng-if="campaign.total_leads">
                            <!-- <td>{{$index + 1}}</td> -->
                            <td>{{campaign.name}}</td>
                            <td>{{campaign.start_date|limitTo:10|date:mediumDate}}</td>
                            <td ng-if="campaign.campaign_status == 'completed'">{{campaign.end_date|limitTo:10|date:mediumDate}}</td>
                            <td ng-if="campaign.campaign_status != 'completed'">NA</td>
                            <!-- <td>{{campaign.phase_complete}}</td> -->
                            <td ng-if="campaign.campaign_status == 'on_hold'">On Hold</td>
                            <td ng-if="campaign.campaign_status != 'on_hold'">{{campaign.campaign_status}}</td>
                            <td>{{campaign.supplier_count}}</td>
                            <td>{{campaign.flat_count}}</td>
                            <td>{{campaign.total_leads}}</td>
                            <td>{{campaign.hot_leads}}</td>
                            <td>
                              <button class="btn btn-danger" ng-click="viewLeadsForSelectedCampaign(campaign.campaign_id)">View Leads</button>
                            </td>
                            <td>
                              <button class="btn btn-danger" ng-click="getFormDetails(campaign.campaign_id)" data-target="#sendEmailModal" data-toggle="modal">Email Leads</button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class=""  ng-if="!showCampaigns" style="width:900px;overflow-x:auto">
                      <button class="btn btn-danger" ng-click="backToCampaign()">Back To Campaigns</button>
                    </br><br>
                      <input type="text" class="form-control" ng-model="searchData" placeholder="search">
                      <table class="table table-bordered table-responsive" ng-if="selectedCampaignLeads.values.length">
                        <br/>
                        <thead>
                          <tr>
                            <th>Index</th>
                            <th ng-repeat="header in selectedCampaignLeads.headers">{{header.key_name}}</th>
                          </tr>
                        </thead>
                        <tbody ng-repeat="lead in selectedCampaignLeads.values | filter : searchData" >
                          <tr>
                            <td>{{$index + 1}}</td>
                            <td  ng-repeat="alias in lead">{{alias.value}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </uib-tab>

<!-- START : BOOKING ENGINE -->
<uib-tab  id="uib-tabs-width" ng-click="getCampaigns()" index="3">
    <uib-tab-heading>
      <h5>Booking Details</h5>
    </uib-tab-heading>

    <div class="container-fluid">

      <div class="row">
        <div class="panel panel-default" style="color:'0000ff'">
          <div class="col-md-12">

              <div class="panel-headding campaign-header">
                <h3 class="panel-title">Booking Details</h3><br>
              </div>

    <div class="col-md-3">


      <div class="panel-group" id="accordion">
          <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.ongoing.status)">
              <div class="panel-heading">
                  <h4 class="panel-title">
                      Ongoing-Campaigns
                  </h4>
              </div>
              <div id="ongoing" class="animate-show" ng-show="campaignStatus.ongoing.value">
                  <div class="panel-bodyDashboard camp-menu-content">
                      <table class="table">
                          <tr ng-repeat="campaign in campaignData.ongoing_campaigns">
                            <td ng-click="getBookingCampaigns(campaign)">
                              {{campaign.name}}
                            </td>
                          </tr>
                      </table>
                  </div>
              </div>
          </div>

          <div class="panel panel-default">
              <div class="panel-heading" ng-click="getCampaignsMenu(campaignStatus.upcoming.status)">
                  <h4 class="panel-title">
                      Upcoming Campaigns
                  </h4>
              </div>
              <div id="upcoming" class="animate-show" ng-show="campaignStatus.upcoming.value">
                  <div class="panel-bodyDashboard camp-menu-content">
                      <table class="table">
                          <tr ng-repeat="campaign in campaignData.upcoming_campaigns">
                            <td ng-click="getBookingCampaigns(campaign)">
                              {{campaign.name}}
                            </td>
                          </tr>
                      </table>
                  </div>
              </div>
          </div>
      </div>

    </div>
    <div class="col-md-9">
      <div class="" ng-if="!selectedBookingCampaignName">
        <label style="color:#000">Please Select the Campaign</label>
      </div>
      <div class="panel-title" ng-if="selectedBookingCampaignName">
        <h3>{{selectedBookingCampaignName}}</h3>
      </div>

      <div class="" ng-if="bookingPhases">
        <table class="table table-bordered table-responsive ">
          <thead>
            <tr>
              <th><small>Phase Details</small></th>
              <th><small>Confirmed Booked <br>(Total Flat Count)</small></th>
              <th><small>Verbally Booked <br>(Total Flat Count)</small></th>
              <th><small>Followup Required <br>(Total Flat Count)</small></th>
              <th><small>Total <br>(Total Flat Count)</small></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-if="bookingPhases.last_completed_phase">
              <td>
                <div class="">
                  <small>Completed Phase No : {{bookingPhases.last_completed_phase.phase_no}}</small>  </br>
                    <small>Start Date : {{bookingPhases.last_completed_phase.start_date|limitTo:10|date:fullDate}}</small></br>
                    <small>End Date : {{bookingPhases.last_completed_phase.end_date|limitTo:10|date:fullDate}}</small>
                </div>
              </td>
              <td ng-if="bookingPhases.last_completed_phase.confirmed_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.confirmed_booked.supplier_data,'Last Completed Phase')">
                    {{bookingPhases.last_completed_phase.confirmed_booked.supplier_count}} ({{bookingPhases.last_completed_phase.confirmed_booked.flat_count}})
                  </a></small>
              </td>
              <td ng-if="bookingPhases.last_completed_phase.confirmed_booked.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.last_completed_phase.verbally_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.verbally_booked.supplier_data,'Last Completed Phase')">
                {{bookingPhases.last_completed_phase.verbally_booked.supplier_count}} ({{bookingPhases.last_completed_phase.verbally_booked.flat_count}})
              </a>
              </small>
              </td>
              <td ng-if="bookingPhases.last_completed_phase.verbally_booked.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.last_completed_phase.followup_required.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.followup_required.supplier_data,'Last Completed Phase')">
                {{bookingPhases.last_completed_phase.followup_required.supplier_count}} ({{bookingPhases.last_completed_phase.followup_required.flat_count}})
                </a></small>
              </td>
              <td ng-if="bookingPhases.last_completed_phase.followup_required.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.last_completed_phase.total_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.total_booked.supplier_data,'Last Completed Phase')">
                {{bookingPhases.last_completed_phase.total_booked.supplier_count}} ({{bookingPhases.last_completed_phase.total_booked.flat_count}})
                </a>
            </small></td>
            <td ng-if="bookingPhases.last_completed_phase.total_booked.supplier_data.length == 0"><small>0</small></td>

            </tr>
            <tr ng-if="bookingPhases.ongoing_phase">
              <td>
                <div class="">
                  <small>Ongoing Phase No : {{bookingPhases.ongoing_phase.phase_no}}</small>  </br>
                    <small>Start Date : {{bookingPhases.ongoing_phase.start_date|limitTo:10|date:fullDate}}</small></br>
                    <small>End Date : {{bookingPhases.ongoing_phase.end_date|limitTo:10|date:fullDate}}</small>
                </div>
              </td>
              <td ng-if="bookingPhases.ongoing_phase.confirmed_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.confirmed_booked.supplier_data,'Ongoing Phase')">
                {{bookingPhases.ongoing_phase.confirmed_booked.supplier_count}} ({{bookingPhases.ongoing_phase.confirmed_booked.flat_count}})
                </a></small>
              </td>
              <td ng-if="bookingPhases.ongoing_phase.confirmed_booked.supplier_data.length == 0"><small>0</small></td>
              <td ng-if="bookingPhases.ongoing_phase.verbally_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.verbally_booked.supplier_data,'Ongoing Phase')">
                {{bookingPhases.ongoing_phase.verbally_booked.supplier_count}} ({{bookingPhases.ongoing_phase.verbally_booked.flat_count}})</small>
              </a>
              </td>
              <td ng-if="bookingPhases.ongoing_phase.verbally_booked.supplier_data.length == 0"><small>0</small></td>
              <td ng-if="bookingPhases.ongoing_phase.followup_required.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.followup_required.supplier_data,'Ongoing Phase')">
                {{bookingPhases.ongoing_phase.followup_required.supplier_count}} ({{bookingPhases.ongoing_phase.followup_required.flat_count}})</small></td>
                <td ng-if="bookingPhases.ongoing_phase.followup_required.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.ongoing_phase.total_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.total_booked.supplier_data,'Last Completed Phase')">
                {{bookingPhases.ongoing_phase.total_booked.supplier_count}} ({{bookingPhases.ongoing_phase.total_booked.flat_count}})
                </a>
            </small></td>
            <td ng-if="bookingPhases.ongoing_phase.total_booked.supplier_data.length == 0"><small>0</small></td>

            </tr>
            <tr ng-repeat="item in bookingPhases.upcoming_phases" ng-if="bookingPhases.upcoming_phases.length">
              <td>
                <div class="">
                  <small>Upcoming Phase No : {{item.phase_no}}</small>  </br>
                  <small>Start Date : {{item.start_date|limitTo:10|date:fullDate}}</small></br>
                  <small>End Date : {{item.end_date|limitTo:10|date:fullDate}}</small>
                </div>
              </td>
              <td ng-if="item.confirmed_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(item.confirmed_booked.supplier_data,'Upcoming Phase')">
                {{item.confirmed_booked.supplier_count}} ({{item.confirmed_booked.flat_count}})</a>
              </small> </td>
              <td ng-if="item.confirmed_booked.supplier_data.length == 0"><small>0</small></td>
              <td  ng-if="item.verbally_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(item.verbally_booked.supplier_data,'Upcoming Phase')">
                {{item.verbally_booked.supplier_count}} ({{item.verbally_booked.flat_count}})</a></small></td>
              <td ng-if="item.verbally_booked.supplier_data.length == 0"><small>0</small></td>
              <td ng-if="item.followup_required.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(item.followup_required.supplier_data,'Upcoming Phase')">
                {{item.followup_required.supplier_count}} ({{item.followup_required.flat_count}})</small></td>
              <td ng-if="item.followup_required.supplier_data.length == 0"><small>0</small></td>
              <td  ng-if="item.total_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(item.total_booked.supplier_data,'Upcoming Phase')">
                {{item.total_booked.supplier_count}} ({{item.total_booked.flat_count}})
                </a></small></td>
              <td ng-if="item.total_booked.supplier_data.length == 0"><small>0</small></td>
            </tr>
          </tbody>
        </table>
        <div class="panel-title">
          <h4>Pipelined Suppliers</h4>
        </div>
        <table class="table table-responsive table-bordered">
          <thead>
            <tr>
              <th><small>Confirmed Bookings <br>(Total Flat Count)</small></th>
              <th><small>Not Initiated <br>(Total Flat Count)</small></th>
              <th><small>Followup Required <br>(Total Flat Count)</small></th>
              <th><small>Verbally Booked <br>(Total Flat Count)</small></th>
              <th><small>Rejected <br>(Total Flat Count)</small></th>
              <th><small>Total <br>(Total Flat Count)</small></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td ng-if="bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data,'Pipelined')">
                {{bookingPhases.pipeline_suppliers.confirmed_booked.supplier_count}} ({{bookingPhases.ongoing_phase.confirmed_booked.flat_count}})
                </a></small>
              </td>
              <td ng-if="bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.not_initiated.supplier_data,'Pipelined')">
                {{bookingPhases.pipeline_suppliers.not_initiated.supplier_count}} ({{bookingPhases.pipeline_suppliers.not_initiated.flat_count}})</small></td>
                <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length == 0"><small>0</small></td>



                <td ng-if="bookingPhases.pipeline_suppliers.followup_required.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.followup_required.supplier_data,'Pipelined')">
                  {{bookingPhases.pipeline_suppliers.followup_required.supplier_count}} ({{bookingPhases.pipeline_suppliers.followup_required.flat_count}})</small></td>
                  <td ng-if="bookingPhases.pipeline_suppliers.followup_required.supplier_data.length == 0"><small>0</small></td>

              <td ng-if="bookingPhases.pipeline_suppliers.verbally_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.verbally_booked.supplier_data,'Pipelined')">
                {{bookingPhases.pipeline_suppliers.verbally_booked.supplier_count}} ({{bookingPhases.pipeline_suppliers.verbally_booked.flat_count}})</small>
              </a>
              </td>
              <td ng-if="bookingPhases.pipeline_suppliers.verbally_booked.supplier_data.length == 0"><small>0</small></td>


                <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.rejected.supplier_data,'Pipelined')">
                  {{bookingPhases.pipeline_suppliers.rejected.supplier_count}} ({{bookingPhases.pipeline_suppliers.rejected.flat_count}})</small></td>
                  <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length == 0"><small>0</small></td>


              <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.total_booked.supplier_data,'Pipelined')">
                {{bookingPhases.pipeline_suppliers.total_booked.supplier_count}} ({{bookingPhases.pipeline_suppliers.total_booked.flat_count}})
                </a>
            </small></td>
            <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length == 0"><small>0</small></td>

            </tr>
          </tbody>
        </table>

        <div class="" ng-if="headerForSupplierBookings">
          <div class="panel-heading">
          {{headerForSupplierBookings}} Supplier Details
          </div>
          <div class="col-md-12" style="overflow-x:auto">
            <table class="table table-bordered table-responsive">
              <thead>
                <tr>
                  <th>Index</th>
                  <th>Supplier Name</th>
                  <th>Flat</br>Count</th>
                  <th>Tower</br>Count</th>
                  <th>Type Of</br>Society</th>
                  <th>Area(SubArea)</th>
                  <th>Status</th>
                  <th>Map Details</th>
                  <th>Comments</th>
                  <th>Inventory Counts</th>
                  <th>Freebies</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="supplier in bookingSuppliersData">
                  <td>{{$index + 1}}</td>
                  <td>{{supplier.society_name}}</td>
                  <td>{{supplier.flat_count}}</td>
                  <td>{{supplier.tower_count}}</td>
                  <td>{{supplier.society_type_quality}}</td>
                  <td>{{supplier.society_locality}}({{supplier.society_subarea}})</td>
                  <td>{{supplierBookingStatus[supplier.booking_status||'Not Initiated']}}</td>
                  <td><a href="https://www.google.com/maps/?q=+{{supplier.society_latitude}}+{{supplier.society_longitude}}" target="_blank">View Details</a></td>
                  <td><a ng-click="viewBookingComments(supplier)">View Comments</a></td>
                  <td>Poster : {{supplier.inventory_counts.POSTER}}<br>
                  Flyer : {{supplier.inventory_counts.FLIER}}<br>
                  Standee: {{supplier.inventory_counts.STANDEE}}<br>
                  Stall : {{supplier.inventory_counts.STALL}}
                </td>
                <td ng-if="supplier.freebies">
                  <div style="width:130px" class="" ng-repeat="freebies in supplier.freebies">
                      {{$index + 1}} : {{freebies}}<br>
                  </div>
                  </td>
                <td ng-if="supplier.freebies === null">No Freebies</td>

                </tr>
              </tbody>
            </table>
          </div>
        </div>
          <button type="button" name="button" class="col-md-12 btn btn-danger" data-target="#sendBookingEngineEmailModal" data-toggle="modal">Click here to Send Emails</button>


      </div>

    </div>
    </div>
    </div>
    </div>
  </div>
  </uib-tab>

              <!--START : Performance Metrics -->
              <uib-tab  id="uib-tabs-width" ng-click="getCampaigns()" index="4" >
                  <uib-tab-heading >
                    <h5 style="margin-left:-10px;"> Performance Metrics</h5>

                  </uib-tab-heading>

                  <div class="container-fluid" print-section>
                    <div class="row">
                      <div class="panel panel-default" style="color:'0000ff'" >
                        <div class="col-md-12">

                            <div class="panel-heading campaign-header" print-remove>
                              <h3 style="color:#ffffff">Performance Details</h3>
                            </div>
                            <br />
                            <div class="row zeroLeads" ng-if="!campaignInventories && !showSelection">
                              <h1>Please Select Campaign</h1>
                            </div>
                            <div class="panel-group" print-remove>
                            <div class="col-md-12" >

                                <div class="col-md-3">
                                <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.completed.status)">
                                  <div class="button" type="button">
                                    <div class="panel-heading">
                                          Completed Campaigns
                                    </div>
                                  </div>

                                    <div id="completed" class="animate-show" ng-show="campaignStatus.completed.value">
                                        <div class="panel-bodyDashboard camp-menu-content">
                                          <table class="table">
                                              <tr ng-repeat="campaign in campaignData.completed_campaigns">
                                              <td >
                                                <!-- <md-menu> -->
                                                   <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                                     {{campaign.name}}
                                                   </div>
                                                   <!-- ng-click="openMenu($mdMenu, $event)"
                                                   <md-menu-content width="4">
                                                     <md-menu-item>
                                                       <md-button >
                                                         Lead
                                                       </md-button>
                                                     </md-menu-item>
                                                     <md-menu-divider></md-menu-divider>
                                                     <md-menu-item ng-click="getontimelocation(ontimelocation.showdrop.status)">
                                                       <md-button ng-click="getCampaignFilters(campaign.campaign)">
                                                         Inventory
                                                       </md-button>
                                                     </md-menu-item>
                                                     <md-menu-divider></md-menu-divider>
                                                   </md-menu-content> -->
                                                 <!-- </md-menu> -->
                                                </td>
                                              </tr>
                                          </table>
                                        </div>
                                    </div>
                                </div>
                              </div>
                              <div class="col-md-3">

                                  <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.ongoing.status)">
                                    <div class="button" type="button">
                                      <div class="panel-heading">
                                            Ongoing Campaigns
                                      </div>
                                    </div>
                                      <div id="ongoing" class="animate-show" ng-show="campaignStatus.ongoing.value">
                                          <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.ongoing_campaigns">
                                                  <td>
                                                    <!-- <md-menu> -->
                                                       <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                                         {{campaign.name}}
                                                       </div>
                                                       <!-- <md-menu-content width="4">
                                                         <md-menu-item>
                                                           <md-button ng-click="getLeadsByCampaign(campaign.campaign)">
                                                             Lead
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                         <md-menu-item>
                                                           <md-button ng-click="getCampaignFilters(campaign.campaign)">
                                                             Inventory
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                       </md-menu-content> -->
                                                     <!-- </md-menu> -->
                                                    </td>
                                                  </tr>
                                              </table>
                                          </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- <div class="col-md-3">
                                    <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.upcoming.status)">
                                      <div class="button" type="button">
                                        <div class="panel-heading">
                                              Upcoming Campaigns
                                        </div>
                                      </div>
                                        <div id="upcoming" class="animate-show" ng-show="campaignStatus.upcoming.value">
                                            <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.upcoming_campaigns">
                                                  <td > -->
                                                  <!-- <div class="" ng-click="getLeadsByCampaign(campaign.campaign)">
                                                    {{campaign.name}}
                                                  </div> -->
                                                    <!-- <md-menu> -->
                                                       <!-- <md-menu-content width="4">
                                                         <md-menu-item>
                                                           <md-button ng-click="getLeadsByCampaign(campaign.campaign)">
                                                             Lead
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                         <md-menu-item ng-click="getontimelocation(ontimelocation.showdrop.status)">
                                                           <md-button ng-click="getCampaignFilters(campaign.campaign)">
                                                             Inventory
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                       </md-menu-content> -->
                                                     <!-- </md-menu> -->
                                                    <!-- </td>
                                                  </tr>
                                              </table>
                                            </div>
                                        </div>
                                    </div>
                                  </div> -->
                                  <div class="col-md-3">
                                    <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.onhold.status)">
                                      <div class="button" type="button">
                                        <div class="panel-heading">
                                              OnHold Campaigns
                                        </div>
                                      </div>
                                        <div id="onhold" class="animate-show" ng-show="campaignStatus.onhold.value">
                                            <div class="panel-bodyDashboard camp-menu-content">
                                              <table class="table">
                                                  <tr ng-repeat="campaign in campaignData.onhold_campaigns">
                                                  <td >
                                                    <!-- <md-menu> -->
                                                       <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                                         {{campaign.name}}
                                                       </div>
                                                       <!-- <md-menu-content width="4">
                                                         <md-menu-item>
                                                           <md-button ng-click="getLeadsByCampaign(campaign.campaign)">
                                                             Lead
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                         <md-menu-item ng-click="getontimelocation(ontimelocation.showdrop.status)">
                                                           <md-button ng-click="getCampaignFilters(campaign.campaign)">
                                                             Inventory
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                       </md-menu-content> -->
                                                     <!-- </md-menu> -->
                                                    </td>
                                                  </tr>
                                              </table>
                                            </div>
                                        </div>
                                    </div>
                                  </div>
                                  <div class="col-md-3" ng-hide="showReportBtn">
                                    <div class="panel panel-default" ng-click="getCompareCampaigns(compCampaigns.campaigns.status)">
                                      <div class="button" type="button">
                                        <div class="panel-heading">
                                              Compare Campaigns
                                        </div>
                                      </div>
                                        <!-- <div  class="animate-show" ng-show="graphicalComparision.leads.value">
                                            <div class="panel-bodyDashboard camp-menu-content">
                                              <div id="displayedFocus" class="panel panel-danger" style="width:60%;margin-left:50px;">
                                                <button class="btn btn-danger" name="button" style="width:100%;" ng-click="getCompareCampaigns(compCampaigns.campaigns.status)">LEADS</button>
                                              </div>
                                              <div id="displayedFocus" class="panel panel-danger" style="width:60%;text-align:center;margin-left:50px;">
                                                <button class="btn btn-danger" name="button" style="width:100%;">INVENTORY</button>
                                              </div>
                                            </div>
                                        </div> -->
                                    </div>
                                  </div>
                              </div>
                        </div>
                        <br /><br /><br />
                        <div class="col-lg-12"  ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:30px;">
                          <div class="panel-heading content-title">
                            <h3 for="heading">Leads of {{CampaignLeadsName}}</h3>
                          </div>
                          <br /><br />
                          <div class="row pull-center" print-remove>
                            <label for="" style="color:#000000;">Select Date Range</label>
                            <label for="" style="color:#000000;">From Date :</label>
                            <input type="date"  style="color:#000000;" ng-model="dateRangeModel.start_date">
                            <label for="" style="color:#000000;">To Date :</label>
                            <input type="date" style="color:#000000;" ng-model="dateRangeModel.end_date">
                            <button class="btn btn-danger" ng-click="getLeadsByCampaign(campaignIdForPerfMetrics,campaignInfoForPerfMetrics)">Submit</button>

                          </div>
                          <br /><br />
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="Flat">Flat Summary Details</label>
                              </div>
                            </div>
                            <div class="table-style">
                              <table st-table="LeadsByCampaign" st-safe-src="Data" class="table table-striped" >
                                <thead>
                                  <tr>
                                    <th>Details</th>
                                    <th>Flat Count <br> <small> < 150</small></th>
                                    <th>Flat Count <br><small>Between 150 to 400</small></th>
                                    <th>Flat Count <br> <small> > 400</small></th>
                                  </tr>
                              </thead>
                                <tbody style="text-align:center;">
                                  <tr>
                                  <td><small style="color:#ffffff">Society Count</small></td>
                                  <td>{{Data.flat_data['0-150'].suppliers}}</td>
                                  <td>{{Data.flat_data['151-399'].suppliers}}</td>
                                  <td>{{Data.flat_data['400+'].suppliers}}</td>
                                  </tr>
                                  <tr>
                                    <td><small style="color:#ffffff">Flat Count</small></td>
                                    <td>{{Data.flat_data['0-150']['flat_count']}}</td>
                                    <td>{{Data.flat_data['151-399']['flat_count']}}</td>
                                    <td>{{Data.flat_data['400+']['flat_count']}}</td>
                                  </tr>
                                  <tr>
                                    <td><small style="color:#ffffff">Total Leads (%)</small></td>
                                    <td ng-if="Data.flat_data['0-150']['flat_count'] != 0">{{Data.flat_data['0-150'].total}} <br> <small style="font-weight:bold">({{(Data.flat_data['0-150'].total / Data.flat_data['0-150']['flat_count']) * 100 |limitTo:5}} %)</small> </td>
                                    <td ng-if="Data.flat_data['0-150']['flat_count'] == 0">{{Data.flat_data['0-150'].total}} <br> <small style="font-weight:bold">({{Data.flat_data['0-150'].total}} %)</small> </td>

                                    <td ng-if="Data.flat_data['151-399']['flat_count'] != 0">{{Data.flat_data['151-399'].total}} <br> <small style="font-weight:bold">({{(Data.flat_data['151-399'].total / Data.flat_data['151-399']['flat_count']) * 100 |limitTo:5}} %)</small> </td>
                                    <td ng-if="Data.flat_data['151-399']['flat_count'] == 0">{{Data.flat_data['151-399'].total}} <br> <small style="font-weight:bold">({{Data.flat_data['151-399'].total }} %)</small> </td>

                                    <td  ng-if="Data.flat_data['400+']['flat_count'] != 0">{{Data.flat_data['400+'].total}} <br> <small style="font-weight:bold">({{(Data.flat_data['400+'].total / Data.flat_data['400+']['flat_count']) * 100 |limitTo:5}} %)</small> </td>
                                    <td ng-if="Data.flat_data['400+']['flat_count'] == 0">{{Data.flat_data['400+'].total}} <br> <small style="font-weight:bold">({{Data.flat_data['400+'].total}} %)</small> </td>

                                  </tr>
                                  <tr>
                                    <td><small style="color:#ffffff">Hot Leads (%)</small></td>
                                    <td  ng-if="Data.flat_data['0-150']['flat_count'] != 0">{{Data.flat_data['0-150'].interested}} <br> <small style="font-weight:bold">({{(Data.flat_data['0-150'].interested / Data.flat_data['0-150']['flat_count']) * 100 |limitTo:5}} %)</small></td>
                                    <td ng-if="Data.flat_data['0-150']['flat_count'] == 0">{{Data.flat_data['0-150'].interested}} <br> <small style="font-weight:bold">({{Data.flat_data['0-150'].interested}} %)</small></td>

                                    <td  ng-if="Data.flat_data['151-399']['flat_count'] != 0">{{Data.flat_data['151-399'].interested}} <br> <small style="font-weight:bold">({{(Data.flat_data['151-399'].interested / Data.flat_data['151-399']['flat_count']) * 100 |limitTo:5}} %)</small></td>
                                    <td ng-if="Data.flat_data['151-399']['flat_count'] == 0">{{Data.flat_data['151-399'].interested}} <br> <small style="font-weight:bold">({{Data.flat_data['151-399'].interested }} %)</small></td>

                                    <td  ng-if="Data.flat_data['400+']['flat_count'] != 0">{{Data.flat_data['400+'].interested}} <br> <small style="font-weight:bold">({{(Data.flat_data['400+'].interested / Data.flat_data['400+']['flat_count']) * 100 |limitTo:5}} %)</small></td>
                                    <td ng-if="Data.flat_data['400+']['flat_count'] == 0">{{Data.flat_data['400+'].interested}} <br> <small style="font-weight:bold">({{Data.flat_data['400+'].interested }} %)</small></td>

                                  </tr>
                                  <tr>
                                    <td><small style="color:#ffffff">Hot Leads Ratio (%)</small></td>
                                    <td>{{Data.flat_data['0-150'].hot_leads_percentage |limitTo:4}} %</td>
                                    <td>{{Data.flat_data['151-399'].hot_leads_percentage |limitTo:4}} %</td>
                                    <td>{{Data.flat_data['400+'].hot_leads_percentage |limitTo:4}} %</td>
                                  </tr>
                                </tbody>
                                <tfoot>
                                  <tr>
                                    <td colspan="20" class="text-center">
                                      <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages=""></div>
                                    </td>
                                  </tr>
                                </tfoot>
                            </table>
                            </div>
                          </div>
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="flat graph">Flat Graph Summary</label>
                              </div>
                            </div>
                            <div class="row">
                              <select class="form-control" ng-change="sortData('flatData',sortModel)"  ng-model="sortModel" print-remove>
                               <option value="" disabled>Select For Sorting</option>
                                <option ng-repeat="item in sortMenu" value="{{item.id}}" >{{item.name}}</option>
                              </select>
                              <div class="outerFlat" ng-if="!dateRangeModel">
                                <div class="innerFlat" ng-if="!dateRangeModel">
                                  <nvd3 options="locationChartOptions" data="sortedLocationData['flatData']" ng-if="togglesortedGraphs['flatData']"></nvd3>
                                  <nvd3 options="stackedBarChartFlatWise" data="stackedBarFLatCountChart" ng-if="!togglesortedGraphs['flatData']"></nvd3>
                                </div>
                              </div>
                              <div ng-if="dateRangeModel">
                                <div ng-class="{'innerFlat': !dateRangeModel.start_date}">
                                  <nvd3 options="locationChartOptions" data="sortedLocationData['flatData']" ng-if="togglesortedGraphs['flatData']"></nvd3>
                                  <nvd3 options="stackedBarChartFlatWise" data="stackedBarFLatCountChart" ng-if="!togglesortedGraphs['flatData']"></nvd3>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <br /><br />
                        <div class="col-lg-12"  ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:50px;">
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="Location">Location Summary Details</label>
                              </div>
                            </div>
                            <div class="table-style">
                              <table st-table="LeadsByCampaign.locality_data" st-safe-src="localityData" class="table table-striped" >
                                <thead>
                                    <tr>
                                      <th>Society Area</th>
                                      <th>Society Count</th>
                                      <th>FLat Count</th>
                                      <th>Total Leads <br>(%)</th>
                                      <th>Hot Leads <br> (%)</th>
                                      <th>Hot Leads Ratio <br> (%)</th>
                                    </tr>
                              </thead>
                                <tbody style="text-align:center;">
                                  <tr ng-repeat="(key,data) in localityData">
                                    <td>{{key}}</td>
                                    <td>{{data.suppliers}}</td>
                                    <td>{{data['flat_count']}}</td>
                                    <td ng-if="data['flat_count'] != 0">{{data.total}} <br> <small style="font-weight:bold">({{(data.total / data['flat_count']) * 100 |limitTo:5}} %)</small> </td>
                                    <td ng-if="data['flat_count'] == 0">{{data.total}} <br> <small style="font-weight:bold">({{data.total}} %)</small> </td>

                                    <td ng-if="data['flat_count'] != 0">{{data.interested}} <br> <small style="font-weight:bold">({{(data.interested / data['flat_count']) * 100 |limitTo:5}} %)</small></td>
                                    <td ng-if="data['flat_count'] == 0">{{data.interested}} <br> <small style="font-weight:bold">({{data.interested }} %)</small></td>

                                    <td>{{data.hot_leads_percentage |limitTo:4}} %</td>
                                  </tr>
                                </tbody>
                                <tfoot>
                                  <tr>
                                    <td colspan="20" class="text-center">
                                      <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages=""></div>
                                    </td>
                                  </tr>
                                </tfoot>
                            </table>
                            </div>
                          </div>
                              <!-- <div class="col-lg-6">
                                <div class="panel panel-primary">
                                  <div class="panel-heading content-title">
                                    <label for="flat graph">Location Graph Summary</label>
                                  </div>
                                </div>
                                <div class="col-md-12" style="height:300px">
                                  <select class="form-control" ng-change="sortData('location',sortModel)" ng-model="sortModel">
                                    <option value="" disabled>Select For Sorting</option>
                                    <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                                  </select>
                                  <div class="outerLocation">
                                    <div class="innerLocation">
                                      <nvd3 options="locationChartOptions" data="sortedLocationData['location']" ng-if="togglesortedGraphs['location']"></nvd3>
                                      <nvd3 options="stackedBarChartLocationWise" data="stackedBarLocationCountChart" ng-if="!togglesortedGraphs['location']"></nvd3>
                                    </div>
                                  </div>
                                </div>
                              </div> -->
                              <div class="col-lg-6">
                                <div class="panel panel-primary">
                                  <div class="panel-heading content-title">
                                    <label for="flat graph">Location Graph Summary</label>
                                  </div>
                                </div>
                                <div class="row">
                                  <select class="form-control" ng-change="sortData('location',sortModel)"  ng-model="sortModel" print-remove>
                                   <option value="" disabled>Select For Sorting</option>
                                    <option ng-repeat="item in sortMenu" value="{{item.id}}" >{{item.name}}</option>
                                  </select>
                                  <div class="outerLocation"  ng-if="!dateRangeModel.start_date">
                                    <div class="innerLocation"  ng-if="!dateRangeModel.start_date">
                                      <nvd3 options="locationChartOptions" data="sortedLocationData['location']" ng-if="togglesortedGraphs['location']"></nvd3>
                                      <nvd3 options="stackedBarChartLocationWise" data="stackedBarLocationCountChart" ng-if="!togglesortedGraphs['location']"></nvd3>
                                    </div>
                                  </div>
                                  <div ng-if="dateRangeModel.start_date">
                                    <div ng-if="dateRangeModel.start_date">
                                      <nvd3 options="locationChartOptions" data="sortedLocationData['location']" ng-if="togglesortedGraphs['location']"></nvd3>
                                      <nvd3 options="stackedBarChartLocationWise" data="stackedBarLocationCountChart" ng-if="!togglesortedGraphs['location']"></nvd3>
                                    </div>
                                  </div>
                                </div>
                              </div>
                        </div>

                          <br /><br />
                        <div class="col-lg-12"  ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:120px">
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="Location">Weekwise Summary Details</label>
                              </div>
                            </div>
                            <div class="table-style">
                              <table st-table="LeadsByCampaign.phase_data" st-safe-src="phaseData" class="table table-striped">
                                <thead>
                                    <tr>
                                      <th>Phases</th>
                                      <th>Society Count</th>
                                      <th>FLat Count</th>
                                      <th>Total Leads <br>(%)</th>
                                      <th>Hot Leads <br> (%)</th>
                                      <th>Hot Leads Ratio <br> (%)</th>
                                      <th>Start Date</th>
                                      <th>End Date</th>
                                    </tr>
                              </thead>
                                <tbody style="text-align:center;">
                                  <tr ng-repeat="(key,data) in phaseData">
                                    <td>{{key}}</td>
                                    <td>{{data.supplier_count}}</td>
                                    <td>{{data['flat_count']}}</td>
                                    <td ng-if="data['flat_count'] != 0">{{data.total}} <br> <small style="font-weight:bold">({{(data.total / data['flat_count']) * 100 |limitTo:5}} %)</small> </td>
                                    <td ng-if="data['flat_count'] == 0">{{data.total}} <br> <small style="font-weight:bold">({{data.total}} %)</small> </td>

                                    <td ng-if="data['flat_count'] != 0">{{data.interested}} <br> <small style="font-weight:bold">({{(data.interested / data['flat_count']) * 100 |limitTo:5}} %)</small></td>
                                    <td ng-if="data['flat_count'] == 0">{{data.interested}} <br> <small style="font-weight:bold">({{data.interested}} %)</small></td>

                                    <td>{{data.hot_leads_percentage  |limitTo:4}} %</td>
                                    <td>{{data['start date'] | date :  "MMM d, y"}}</td>
                                    <td>{{data['end date']| date :  "MMM d, y"}}</td>
                                  </tr>
                                </tbody>

                                <tfoot>
                                  <tr>
                                    <td colspan="20" class="text-center">
                                      <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages=""></div>
                                    </td>
                                  </tr>
                                </tfoot>
                            </table>
                            </div>
                        </div>
                              <div class="col-lg-6">
                                <div class="panel panel-primary">
                                  <div class="panel-heading content-title">
                                    <label for="flat graph">Weekwise Graph Summary</label>
                                  </div>
                                </div>
                                <div class="col-md-12" style="height:300px">
                                  <select class="form-control" ng-change="sortData('weekwise',sortModel)" ng-model="sortModel" print-remove>
                                    <option value="" disabled>Select For Sorting</option>
                                    <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                                  </select>
                                  <div class="outerLocation"  ng-if="!dateRangeModel.start_date">
                                    <div class="innerLocation" ng-if="!dateRangeModel.start_date">
                                      <nvd3 options="locationChartOptions" data="sortedLocationData['weekwise']" ng-if="togglesortedGraphs['weekwise']"></nvd3>
                                      <nvd3 options="stackedBarChartPhaseWise" data="stackedBarPhaseChart" ng-if="!togglesortedGraphs['weekwise']"></nvd3>
                                    </div>
                                  </div>
                                  <div ng-if="dateRangeModel.start_date">
                                    <div  ng-if="dateRangeModel.start_date">
                                      <nvd3 options="locationChartOptions" data="sortedLocationData['weekwise']" ng-if="togglesortedGraphs['weekwise']"></nvd3>
                                      <nvd3 options="stackedBarChartPhaseWise" data="stackedBarPhaseChart" ng-if="!togglesortedGraphs['weekwise']"></nvd3>
                                    </div>
                                  </div>

                                </div>
                              </div>
                        </div>
                          <br /><br /><br /><br /><br /><br /><br />
                        <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:100px;">
                          <div class="panel-heading content-title">
                              <h4 style="text-align: center">Leads Per Society</h4>
                          </div>

                          <div class="col-md-12" ng-scrollable>
                            <select class="form-control" ng-change="sortData('supplier',sortModel)" ng-model="sortModel" print-remove>
                              <option value="" disabled>Select For Sorting</option>
                              <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                            </select>
                            <div  class="outer" ng-if="!dateRangeModel.start_date">
                              <div class="inner"  ng-if="!dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['supplier']" ng-if="togglesortedGraphs['supplier']"></nvd3>
                                <nvd3 options="stackedBarChartSocietyWise" data="stackedBarChartSupplierData" ng-if="!togglesortedGraphs['supplier']"></nvd3>
                              </div>
                            </div>
                            <div ng-if="dateRangeModel.start_date">
                              <div ng-if="dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['supplier']" ng-if="togglesortedGraphs['supplier']"></nvd3>
                                <nvd3 options="stackedBarChartSocietyWise" data="stackedBarChartSupplierData" ng-if="!togglesortedGraphs['supplier']"></nvd3>
                              </div>
                            </div>
                          </div>
                          <!-- <div class="col-md-6">
                          <nvd3 options="variableoptions" data="stackedBarChartSupplierData"></nvd3>
                          </div> -->
                        </div>
                          <br /><br />
                        <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:50px;">
                          <div class="panel-heading content-title">
                              <h4 style="text-align: center"> Leads By Date </h4>
                          </div>
                          <div class="col-md-12" ng-scrollable>
                            <select class="form-control" ng-change="sortData('datewise',sortModel)" ng-model="sortModel" print-remove>
                              <option value="" disabled>Select For Sorting</option>
                              <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                            </select>
                            <div class="outerdate" ng-if="!dateRangeModel.start_date">
                              <div class="innerdate" ng-if="!dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['datewise']" ng-if="togglesortedGraphs['datewise']"></nvd3>
                                <nvd3 options="stackedBarChartDateWise" data="stackedBarChartDateData" ng-if="!togglesortedGraphs['datewise']"></nvd3>
                              </div>
                            </div>
                            <div ng-if="dateRangeModel.start_date">
                              <div ng-if="dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['datewise']" ng-if="togglesortedGraphs['datewise']"></nvd3>
                                <nvd3 options="stackedBarChartDateWise" data="stackedBarChartDateData" ng-if="!togglesortedGraphs['datewise']"></nvd3>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row" ng-if="showPerfMetrics == perfMetrics.blank">

                        </div>
                        <!--START : COMPARE CAMPAIGNS LIST  -->
                          <div class="col-md-12" ng-show="campaignStatus.compare_campaigns.value">
                            <br />
                              <div class="col-md-2 pull-right">
                              <button class="btn btn-primary" style="margin-left:20px" ng-click="getCompareCampaignChartData()">COMPARE</button>
                            </div>
                            <div class="col-md-2 pull-right">
                              <span style="color:red;width:100%;margin-left:-20px;" ng-dropdown-multiselect="" options="mergedarray" class="col-md-6"  extra-settings="searchSelectAllSettings"
                              selected-model="searchSelectAllModel" translation-texts="selected_baselines_customTexts" events="events"></span>

                            </div>
                          </div>
                          <!--END : COMPARE CAMPAIGNS LIST  -->



                            <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv" style="margin-left:5px;margin-right:-7px;">
                              <div class="panel-heading content-title">
                                <div class="col-md-7">
                                  <h4> Release Inventory </h4>
                                </div>
                              </div>
                              <div class="col-md-8" ng-if="performanceMetricsData.total.release != 0">
                                <circular-progress value="activityInvPerfData.release" max="performanceMetricsData.total.release"
                                 orientation="1" radius="80"
                                    stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                    iterations="100" animation="easeInOutCubic"
                                    label="{{activityInvPerfData.release / performanceMetricsData.total.release * 100|limitTo:3}}%">
                                </circular-progress>
                              </div>
                              <div class="col-md-4" ng-if="performanceMetricsData.total.release != 0">
                                <table class="table table-responsive table-bordered pieChart-table">
                                  <tbody>
                                    <tr>
                                      <td>Release / Total</td>
                                    </tr>
                                    <tr>
                                      <td>{{activityInvPerfData.release}} / {{performanceMetricsData.total.release}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                              <div class="row notassigned" ng-if="performanceMetricsData.total.release == 0">
                                <h1>NOT ASSIGNED !!</h1>
                              </div>
                            </div>

                            <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime" is-disabled="performanceMetricsData.release.actual==0" >
                              <div class="panel-heading content-title">
                                <div class="col-md-10">
                                  <h4> On Time for Release Inventory </h4>
                                </div>
                              </div>
                              <div class="col-md-8" ng-if="activityInvPerfData.release != 0">
                                <circular-progress value="performanceMetricsData.actual.release.ontime" max="activityInvPerfData.release"
                                 orientation="1" radius="80"
                                    stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                    iterations="100" animation="easeInOutCubic"
                                    label="{{performanceMetricsData.actual.release.ontime / activityInvPerfData.release * 100|limitTo:3}}%">
                                </circular-progress>
                              </div>
                              <div class="col-md-4" ng-if="activityInvPerfData.release != 0">
                                <table class="table table-responsive table-bordered pieChart-table">
                                  <tbody>
                                    <tr>
                                      <td>OnTime / Released</td>
                                    </tr>
                                    <tr>
                                      <td>{{performanceMetricsData.actual.release.ontime}} / {{activityInvPerfData.release}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                              <div class="row notassigned" ng-if="activityInvPerfData.release == 0">
                                <h1>NOT ASSIGNED !!</h1>
                              </div>
                            </div>

                            <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                              <div class="panel-heading content-title">
                                <div class="col-md-10">
                                  <h4> On Location for Release Inventory  </h4>
                                </div>
                              </div>
                              <div class="col-md-8" ng-if="activityInvPerfData.release != 0">
                                <circular-progress value="performanceMetricsData.actual.release.onLocation" max="activityInvPerfData.release"
                                 orientation="1" radius="80"
                                    stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                    iterations="100" animation="easeInOutCubic"
                                    label="{{performanceMetricsData.actual.release.onLocation / activityInvPerfData.release * 100|limitTo:5}}">
                                </circular-progress>
                              </div>
                              <div class="col-md-4" ng-if="activityInvPerfData.release != 0">
                                <table class="table table-responsive table-bordered pieChart-table">
                                  <tbody>
                                    <tr>
                                      <td>OnLocation / Released</td>
                                    </tr>
                                    <tr>
                                      <td>{{performanceMetricsData.actual.release.onLocation}} / {{activityInvPerfData.release}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                              <div class="row notassigned" ng-if="activityInvPerfData.release == 0">
                                <h1>NOT ASSIGNED !!</h1>
                              </div>
                            </div>

                          </div>

                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv">
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> Audit Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="performanceMetricsData.total.audit != 0">
                              <circular-progress value="activityInvPerfData.audit" max="performanceMetricsData.total.audit"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{activityInvPerfData.audit / performanceMetricsData.total.audit * 100|limitTo:3}}%">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="performanceMetricsData.total.audit != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>Audited / Total</td>
                                  </tr>
                                  <tr>
                                    <td>{{activityInvPerfData.audit}} / {{performanceMetricsData.total.audit}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="performanceMetricsData.total.audit == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>
                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv">
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> Closure Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="performanceMetricsData.total.closure != 0">
                              <circular-progress value="activityInvPerfData.closure" max="performanceMetricsData.total.closure"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{activityInvPerfData.closure / performanceMetricsData.total.closure * 100|limitTo:3}}%">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="performanceMetricsData.total.closure != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>Closed / Total</td>
                                  </tr>
                                  <tr>
                                    <td>{{activityInvPerfData.closure}} / {{performanceMetricsData.total.closure}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="performanceMetricsData.total.closure == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>

                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime" >
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> On Time for Audit Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="activityInvPerfData.audit != 0">
                              <circular-progress value="performanceMetricsData.actual.audit.ontime" max="activityInvPerfData.audit"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{performanceMetricsData.actual.audit.ontime / activityInvPerfData.audit * 100|limitTo:3}}%">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="activityInvPerfData.audit != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>OnTime / Audit</td>
                                  </tr>
                                  <tr>
                                    <td>{{performanceMetricsData.actual.audit.ontime}} / {{activityInvPerfData.audit}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="activityInvPerfData.audit == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>
                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime" is-disabled="performanceMetricsData.closure.actual==0">
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> On Time for Closure Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="activityInvPerfData.closure != 0">
                              <circular-progress value="performanceMetricsData.actual.closure.ontime" max="activityInvPerfData.closure"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{performanceMetricsData.actual.closure.ontime / activityInvPerfData.closure * 100|limitTo:3}}%">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="activityInvPerfData.closure != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>OnTime / Closed</td>
                                  </tr>
                                  <tr>
                                    <td>{{performanceMetricsData.actual.closure.ontime}} / {{activityInvPerfData.closure}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="activityInvPerfData.closure == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>



                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> On Location for Audit Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="activityInvPerfData.audit != 0">
                              <circular-progress value="performanceMetricsData.actual.audit.onLocation" max="activityInvPerfData.audit"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{performanceMetricsData.actual.audit.onLocation / activityInvPerfData.audit * 100|limitTo:5}}">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="activityInvPerfData.audit != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>OnLocation / Audit</td>
                                  </tr>
                                  <tr>
                                    <td>{{performanceMetricsData.actual.audit.onLocation}} / {{activityInvPerfData.audit}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="activityInvPerfData.audit == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>
                          <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                            <div class="panel-heading content-title">
                              <div class="col-md-10">
                                <h4> On Location for Closure Inventory  </h4>
                              </div>
                            </div>
                            <div class="col-md-8" ng-if="activityInvPerfData.closure != 0">
                              <circular-progress value="performanceMetricsData.actual.closure.onLocation" max="activityInvPerfData.closure"
                               orientation="1" radius="80"
                                  stroke="20" base-color="#ffff00" progress-color="#00ff00"
                                  iterations="100" animation="easeInOutCubic"
                                  label="{{performanceMetricsData.actual.closure.onLocation / activityInvPerfData.closure * 100|limitTo:5}}">
                              </circular-progress>
                            </div>
                            <div class="col-md-4" ng-if="activityInvPerfData.closure != 0">
                              <table class="table table-responsive table-bordered pieChart-table">
                                <tbody>
                                  <tr>
                                    <td>OnLocation / Closed</td>
                                  </tr>
                                  <tr>
                                    <td>{{performanceMetricsData.actual.closure.onLocation}} / {{activityInvPerfData.closure}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row notassigned" ng-if="activityInvPerfData.closure == 0">
                              <h1>NOT ASSIGNED !!</h1>
                            </div>
                          </div>
                          <!--leads perf metrics  -->


                          <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.multipleLeads" style="margin-top:50px;">
                            <div class="panel-heading content-title">
                              <div class="col-md-12">
                                <h4>Comparison Of Average Leads (Percentage)</h4>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <nvd3 options="stackedBarChartOptions" data="stackedBarChartcampaignsData"></nvd3>
                            </div>
                          </div>
                          <!-- <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.multipleLeads" style="height:450px;margin-top:50px;">
                            <div class="panel-heading content-title">
                              <div class="col-md-7">
                                <h4> Average Leads Comparison</h4>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <canvas id="line" height="220" class="chart chart-line" chart-data="lineChartValues"
                                chart-labels="lineChartLabels" chart-colors="lineChartOptions.colors" chart-series="lineChartOptions.series" chart-options="lineChartOptions"
                                chart-dataset-override="datasetOverride" chart-click="onClick">
                              </canvas>
                            </div>
                          </div> -->
                      </div>
                        <!--End : Performance metrics  -->
                        <br><br>
                        <div class="row"  ng-if="showReportBtn" print-remove>
                          <div class="col-md-6">
                            <button class="btn btn-danger active notify" print-btn style="text-align:right;margin-left:30px;margin-top:20px;">Print Report</button>

                          </div>
                          <div class="col-md-3">
                            <label style="color:#ffffff;">Select Report</label>
                            <input type="file" ngf-select = "uploadFiles($file, 1)" class="buttonfile btn btn-primary" accept=".pdf" ng-if="showReportBtn"/>
                          <br>  <button ng-click="sendReport()" ng-if="showReportBtn" class="btn btn-danger">Submit</button>

                          </div>

                        </div>
                    </div>
                  </div>

              </uib-tab>
          <!--END : Performance Metrics  -->
          </uib-tabset>


          <!--content-top></content-top-->
          <div ui-view autoscroll="true" autoscroll-body-top></div>
        </div>
      </div>
      <back-top></back-top>


    <!--Start: Code for showing image Modal Window -->
    <div id="imageModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
            <hr/>
            <div class = "modal-body">
              <div class="carousel" id="slider">
                 <div class="carousel-inner">
                   <div class="item" ng-class="{active:!$index}" ng-repeat="image in imageUrlList">
                     <div class="row">
                        <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive" alt="No Image Found"/></br>
                       </div>
                       <div class="row" style="margin-left:10px;">
                         Comment : {{image.comment}} </br>
                         Distance : {{image.distance|limitTo:10}} mtrs, ({{image.distance/1000|limitTo:10}} kms) </br>
                         Date and Time : {{image.timestamp|date:'medium'}}
                       </div>
                   </div>

                 </div>
                  <a style="height:400px;" class="left carousel-control"  data-toggle="carousel" data-target = "#slider" role="button" data-slide="prev">
                     <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                 <a style="height:400px;" class="right carousel-control" data-toggle = "carousel" data-target = "#slider" role="button" data-slide="next">
                   <span class="glyphicon glyphicon-chevron-right"></span>
                 </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="posterImageModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
            <hr/>
            <div class = "modal-body">
              <div class="carousel" id="sliderofModal">
                 <div class="carousel-inner">
                   <div class="item" ng-class="{active:!$index}" ng-repeat="image in ImageURLListOfAll">
                     <div class="row">
                        <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive" alt="No Image Found"/></br>
                       </div>
                       <div class="row" style="margin-left:10px;">
                         Comment : {{image.comment}} </br>
                         Distance : {{image.distance|limitTo:10}} mtrs, ({{image.distance/1000|limitTo:10}} kms)

                       </div>
                   </div>

                 </div>
                 <a style="height:400px;" class="left carousel-control"  data-toggle="carousel" data-target = "#sliderofModal" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                 </a>
                <a style="height:400px;" class="right carousel-control" data-toggle = "carousel" data-target = "#sliderofModal" role="button" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--START: permission box image modal -->
    <div id="imageModalForPermBox" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Permission Box Image Details For {{supplierNameForPermBox}}</h4>
            <hr/>
            <div class = "modal-body">
              <div class="carousel" id="slider-1">
                 <div class="carousel-inner">
                   <div class="item" ng-class="{active:!$index}" ng-repeat="image in perBoxImageData">
                     <div class="row">
                      <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive" alt="No Image Found"/></br>
                    </div>
                     <div class="row" style="margin-left:10px;">
                       Comment : {{image.comment}} </br>
                     </div>
                   </div>

                 </div>
                  <a style="height:400px;" class="left carousel-control"  data-toggle="carousel" data-target = "#slider-1" role="button" data-slide="prev">
                     <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                 <a style="height:400px;" class="right carousel-control" data-toggle = "carousel" data-target = "#slider-1" role="button" data-slide="next">
                   <span class="glyphicon glyphicon-chevron-right"></span>
                 </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--END:permission box image modal  -->

    <div id="imageHashtag" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
            <hr/>
            <div class = "modal-body">
              <div class="carousel" id="hashtagSlider">
                 <div class="carousel-inner">
                   <div class="item" ng-class="{active:!$index}" ng-repeat="image in hashTagImageData">
                     <div class="row">
                        <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive" alt="No Image Found"/></br>
                       </div>
                       <div class="row" style="margin-left:10px;">
                         Hashtag : {{image.comment}} </br>
                         Society Name : {{image.supplier_name}}</br>
                         Date and Time : {{image.timestamp|date:'medium'}}

                       </div>
                   </div>

                 </div>
                  <a style="height:400px;" class="left carousel-control"  data-toggle="carousel" data-target = "#hashtagSlider" role="button" data-slide="prev">
                     <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                 <a style="height:400px;" class="right carousel-control" data-toggle = "carousel" data-target = "#hashtagSlider" role="button" data-slide="next">
                   <span class="glyphicon glyphicon-chevron-right"></span>
                 </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="sendEmailModal" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">{{campaignNameOnImageModal}} Send Email Details</h4>
            <hr/>
            <div class = "modal-body">

              <table class="table table-bordered table-align">
                <tbody>
                  <div class="">
                    Select Form :
                    <select class="form-control" ng-model="emailCampaignLeadsModel.leads_form_id">
                        <option ng-repeat="form_name in formDetails"  value="{{form_name.leads_form_id}}">{{form_name.leads_form_name}}</option>
                    </select>
                  </div>
                  <br />
                  <tr>
                    <td class="col-md-2">
                      <p class="input-group">
                        Select Start Date(Optional): <input type="date" class="form-control"  ng-model="emailCampaignLeadsModel.start_date"  required>
                      </p>
                    </td>
                    <td class="col-md-2">
                      <p class="input-group">
                        Select End Date(Optional) : <input type="date" class="form-control"  ng-model="emailCampaignLeadsModel.end_date" required>
                      </p>
                    </td>
                    <td> <p><button type="button" name="button" class="btn btn-danger" ng-click="sendMeEmail()" ng-disabled="!emailCampaignLeadsModel.leads_form_id">Submit</button>
</td>
                  </tr>
                </tbody>
              </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!--End: Code for showing image Modal  Window -->
    <!--START: INVENTORY INFO MODAL  -->
    <div class="modal fade" id="inventoryInfoModal" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Modal Header</h4>
          </div>
          <div class="modal-body">
            <p>Some text in the modal.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
  </div>
    <!--END: INVENTORY INFO MODAL  -->
    <!--START : view comments modal  -->
    <div id="viewComments" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <di v class="modal-header">
            View Comments For {{supplierNameForComment}}
          </div>
          <div class="modal-body">
            <div class="">
              Selected Inventory :
              <select class="form-control" ng-model="selectedInvForView">
                  <option ng-repeat="inv in viewInvForComments" value="{{inv}}">{{inv}}</option>
              </select>
            </div>
            <br>
            <div style="margin:20px;">
              <table class="table-bordered table-striped" align="center">
                <tbody>
                  <tr ng-repeat="item in commentsData[selectedInvForView]">
                    <td class="col-md-8">
                      <div style="margin-top:10px;margin-bottom:10px">
                        <img ng-src="{{userIcon}}">
                        <b>{{item.user_name}} :</b> <br>
                      </div>
                      <div style="padding-left:30px">
                        Comment : {{item.comment}}</br>
                        <span> <small>{{item.timestamp|date:'medium'}}</small></span>
                      </div><br>
                    </td>
                  <br>
                  </tr>
                </tbody>
              </table>
            </div>
          </div><br>
          <!-- <div> -->
            <br>
          <!-- </div> -->
        </br></br>
        </div>
      </div>
    </div>
    <div id="addComments" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            Add Comment For {{supplierDataForComment.name}}
          </div>
          <div class="col-md-12">
            <div style="width:100%">
            <br>
              <label>Comments :</label>
              <textarea class="form-control col-md-10"  rows="8" cols="200" ng-model="commentModal.comment" placeholder="Write here.."></textarea>
            </div>
            <br>
          </div><br>
          <!-- <div> -->
            <br>
            <button class="btn btn-success" type="button" ng-click="addComment()">Add Comment</button>
          <!-- </div> -->
        </br></br>

        </div>
      </div>
    </div>

    <!--END : view comments modal  -->
    <!--START: Change password modal  -->
    <div id="changePassword" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Change Password</h3>
          </div>
          <form class="form-horizontal">
            <br>
            <small style="margin:20px;"> Note : Minimum 8 characters, at least one uppercase letter, one lowercase letter, one number and one special character:</small>
            <div class="form-group">
              <label class="control-label col-sm-4" for="email">Old Password:</label>
              <div class="col-sm-6">
                <input type="password" class="form-control"  placeholder="Enter old password" ng-model="passwordModel.old_password">
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-4" for="email">New Password:</label>
              <div class="col-sm-6">
                <input type="password" class="form-control"  placeholder="Enter new password" ng-model="passwordModel.password">
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-4" for="email">Confirm Password:</label>
              <div class="col-sm-6">
                <input type="password" class="form-control" placeholder="confirm password" ng-model="passwordModel.confirm_password" ng-change="validatePassword()">
                <br>
                <span ng-show="!isValid && passwordModel.confirm_password"><small>{{passwordError}}</small></span>
              </div>

            </div>

            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10" style="text-align:left;margin-bottom:20px;">
                <button class="btn btn-danger" ng-click="changeUserPassword()">Submit</button>
              </div>
            </div>
          </form>

        </div>
      </div>
    </div>

    <div id="sendBookingEngineEmailModal" class="modal fade">
      <div class="modal-dialog" style="width:800px">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Send Emails</h4>
            <hr/>
            <div class = "modal-body">

                   <div class="col-md-12">
                     Select Email Type :
                     <select class="form-control" name="" ng-model="emailModel.selected">
                       <option disabled>Please Select</option>
                       <option value="listOfSupplier">List Of Society Email</option>
                       <option value="activationOfSupplier">Activation Of Society,Branding and Permission Email</option>
                       <option value="pipelineOfSupplier">Pipelined Societies Email</option>
                     </select>
                      </br>
                     </br></br>
                       </br>
                  </div>
                    </br>
                      </br>
                  <div class="col-md-12">
                    <div class="col-md-6 emailModal" style="background-color:#12edcc">
                      <div class="panel-heading">
                        <h5>You can Test Your Email HERE</h5>
                      </div>
                      </br>
                      </br>
                      <div class="row">
                        <input type="email" class="form-control"  placeholder="Enter Your Own Email Id" ng-model="emailModel.email" style="text-align:center;">
                        <button type="button" name="button" ng-Click="sendBookingEmails()" class="btn btn-danger" ng-disabled="emailBtnDisabled">Submit</button>
                      </div>
                      </div>
                    <div class="col-md-6 emailModal" style="background-color:#eda234">
                      <div class="panel-heading">
                        <h5>To Send Confirmed Email Click HERE</h5>
                      </div>
                      </br>
                      </br>
                      <button type="button" name="button" class="btn btn-danger" style="text-align:center" ng-click="sendConfirmBookingEmails()" ng-disabled="emailBtnDisabled">Send Confirm Mail</button>
                    </div>
                  </div>

                </br>

            </div>
          </div>
        </div>
      </div>
    </div>
    <!--END: Change password modal  -->
  </main>
  </body>
</html>
