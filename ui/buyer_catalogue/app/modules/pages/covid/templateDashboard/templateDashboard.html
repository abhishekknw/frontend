<style>
  .nav-tabs>li a h5 {
    margin: 0;
  }

  .al-content {
    overflow: hidden;
    padding: 0 !important;
  }

  .smallBtn {
    margin-bottom: 10px !important;
  }

  .table-responsive {
    max-height: 360px;
    min-height: 50px;
    width: 100%;
  }

  .table-responsive th {
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .table-responsive thead th:nth-child(2) {
    position: sticky;
    left: 0;
    z-index: 11;
    background: #8e1921;
    max-width: 200px;
  }

  .table-responsive tbody td:nth-child(2) {
    position: sticky;
    left: 0;
    z-index: 10;
    background: white;
    max-width: 200px;
  }

  .dropdowns {
    padding-bottom: 10px;
    position: relative;
    min-height: 1px;
    padding-right: 8px;
    padding-left: 8px;
    margin-top: 10px;
  }

  @media screen and (max-width :500px) {
    .dropdowns {
      padding-bottom: 10px;
      position: relative;
      min-height: 1px;
      padding-right: 8px;
      padding-left: 8px;
      margin-top: 10px;
    }
  }

  .page-end {
    width: 100%;
    padding: 20px 0 15px 0;
    display: table;
    background: #e0e0e0;
  }

  .page-end .content {
    max-width: 1250px;
    margin: auto;
    color: #B20000;

  }

  body .modal .modal-body {
    background-color: #fff;
    padding: 0px 15px;
    border-radius: 5px;
  }

  .template-header {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
  }

  .template-header .search-box input {
    width: 100%;
    height: 100%;
  }

  .template-header select {
    height: 34px;
    color: #000;
  }

  .input-wrapper {
    height: 100%;
    position: relative;
  }

  .input-wrapper i {
    position: absolute;
    top: 10px;
    right: 10px;
    color: #000;
  }

  .table-center-btn {
    text-align: center;
    padding-bottom: 5px;
  }

  .table-center-btn button {
    margin-top: 5px;
    width: 100%;
  }
</style>

<div ng-cloak>
  <div ng-loading="loading"></div>
  <!--For displaying loading icon-->
  <main ng-show="!isEmpty" ng-class="{ 'menu-collapsed': $baSidebarService.isMenuCollapsed() }" ng-if="loading">
    <div class="wrapperBox">
      <div ng-show="isEmpty" style="text-align:center;">
        <h2>{{msg}}</h2>
      </div>
      <nav-bar></nav-bar>
      <div class="middle-section">

        <div class="body-bg"></div>
        <div class="al-content">
          <uib-tabset class="dashboard-tab template-tabs" active="selectTabIndex.value">

            <uib-tab ng-click="templateDetail()" index="2">
              <uib-tab-heading>
                <h5>Master Template</h5>
              </uib-tab-heading>
              <div class="container-fluid">

                <div class="row">
                  <div class="panel panel-default" style="color:'0000ff'">
                    <div class="col-md-12">
                      <div class="panel-headding campaign-header">
                        <h3 style="color:rgb(53, 9, 6)">TEMPLATE</h3>
                      </div>
                      <div class="dropdown">

                        <div class="template-header">
                          <div class="search-box">
                            <div class="input-wrapper">
                              <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px"></i>
                              <input style="color:black" placeholder="Search here"
                                ng-change="templateDetail('',templateSearch)" ng-model="templateSearch" type="text" />
                            </div>
                          </div>
                          <div>
                            <select ng-change="templateDetail('','',selectValue,selectCampaign)" value="selectCampaign"
                              ng-model="selectCampaign">
                              <option value="">Select Campaign</option>
                              <option value="{{value}}" ng-repeat="value in campaign_name_list">{{value}}</option>
                            </select>
                          </div>
                          <div>
                            <select ng-change="templateDetail('','',selectValue,selectCampaign)" value="selectValue"
                              ng-model="selectValue">
                              <option value="">Select Status</option>
                              <option value="{{value}}" ng-repeat="value in optionForTemplate">{{value}}</option>
                            </select>
                          </div>
                          <div class="add-button">
                            <button type="button" class="btn btn-info" data-toggle="modal"
                              ng-click="addTemplateModal()">Add+</button>
                          </div>
                          <div style="margin-left: auto;display: flex;">
                            <!-- <input  style="color:#000;" type="text" placeholder="Enter Number , Separated"/>
                            <div class="chose-file">
                              <span style="color:#000;">{{optineFileName}}</span>
                              <input class="custom-file-input" type="file" name="file" size="80" multiple
                                ng-files="getOptinFiles($files)" />
                            </div> -->
                            <!-- <button type="button" class="btn btn-danger"
                              ng-click="sendOptinUserFile();">Optin Users</button> -->
                            <button type="button" class="btn btn-danger" data-target="#OptinUserModal"
                              data-toggle="modal">Optin Users</button>
                          </div>
                        </div>

                        <div class="container py-5">
                          <table class="table table-responsive table-bordered table-hover line-h-table">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col">Sr. No.</th>
                                <th scope="col">Template ID</th>
                                <th scope="col">Name</th>
                                <th scope="col" style="min-width: 250px;">Template Message</th>
                                <th scope="col">Status</th>
                                <th scope="col" style="width: 150px;">Created At</th>
                                <th scope="col">Bot Name</th>
                                <th scope="col">Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr pagination-id="paginate1"
                                dir-paginate="template in templateDetailData| itemsPerPage:itemsPerPageRecord"
                                total-items="totalrecord" current-page="currentPage" track by "$index">
                                <td>{{$index+serial}}</td>
                                <td>{{template.md_id}}</td>
                                <td>{{template.elementName}}</td>
                                <td style="white-space: pre-line;word-wrap: break-word;">{{template.data}}</td>
                                <td>{{template.status}}</td>
                                <td>{{template.created_at}}</td>
                                <td>{{template.bot}}</td>
                                <td style="width: 100px;">
                                  <div class="table-center-btn">
                                    <button type="button" class="btn btn-danger" style="align-items: center;"
                                      ng-click="viewMoreDetail(template)">View More</button>
                                    <button type="button" class="btn btn-danger" style="align-items: center;"
                                      ng-click="download_sample_sheet(template.id)">Download sample sheet </button>
                                    <button type="button" class="btn btn-danger" style="align-items: center;"
                                      ng-click="sendTemplates(template,template.data,template.id,'user',template.elementName,template.md_id)">Check
                                      users</button>
                                    <button type="button" class="btn btn-danger" style="align-items: center;"
                                      ng-click="sendTemplates(template,template.data,template.id,'template',template.elementName)">Send
                                      templates</button>
                                    <button type="button" class="btn btn-primary" style="align-items: center;"
                                      ng-click="deleteTemplate(template)">
                                      Delete</button>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                          <dir-pagination-controls max-size="7" directionlinks="true" boundary-links="true"
                            on-page-change="pageChangedMasterTemplate(newPageNumber-1)" pagination-id="paginate1">
                          </dir-pagination-controls>
                        </div>
                      </div>
                      <!-- Add Template Modal -->
                      <div id="addTemplate" class="modal fade theme-modal">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h4 class="modal-title">Modal Heading</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                              <form action="">
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Alais Name:</label>
                                      <input class="form-control" ng-model="templateData.alias_name" type="text">
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Sector:</label>
                                      <select class="form-control " ng-model="templateData.sector">
                                        <option value="">Select Sector</option>
                                        <option ng-repeat="item in sectorList" value="{{item.business_type}}">
                                          {{item.business_type}}</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Sub Sector:</label>
                                      <select class="form-control" ng-model="templateData.sub_sector">
                                        <option value="">Select Sub Sector</option>
                                        <option>subsector</option>
                                      </select>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label>Type Of Entity:</label>
                                      <select class="form-control " ng-model="templateData.entity_type">
                                        <option value="">Select Supplier</option>
                                        <option ng-repeat="item in supplierList" value="{{item}}">{{item}}</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Template Name:</label>
                                      <input class="form-control" ng-model="templateData.elementName" type="text">
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Type of Field:</label>
                                      <select class="form-control" ng-change="selectTemplateType(templateType)"
                                        ng-model="templateType">
                                        <option value="">Select Template Type</option>
                                        <option ng-repeat="value in template_type">{{value}}</option>
                                      </select>
                                      <div ng-if="checkBrowseField">
                                        <input type="file" demo-file-model="myFile" class="form-control"
                                          ngf-select="selectImageVideo($file)" />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Params:</label>
                                      <input class="form-control" type="text" ng-model="templateData.param">
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <label> Send Trigger (Y/N):</label>
                                      <select class="form-control" ng-model="templateData.send_triger">
                                        <option>YES</option>
                                        <option>NO</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                                <div class="form-group">
                                  <label> Gupsup ID:</label>
                                  <input class="form-control" ng-model="templateData.g_id" type="text">
                                </div>
                                <div class="form-group">
                                  <label> Comment:</label>
                                  <input class="form-control" ng-model="templateData.comment" type="text">
                                </div>
                                <div class="form-group">
                                  <label> Trigger Message:</label>
                                  <textarea class="form-control" ng-model="templateData.triger_message"></textarea>
                                </div>
                                <ul class="list-group">
                                  <li class="list-group-item" ng-repeat="choice in choices">
                                    <div class="col-sm-9">
                                      <input class="form-control" type="text" ng-model="choice.name"
                                        ng-change="multipleButtons(choice)" placeholder="Enter Button Name">
                                    </div>
                                    <button class="btn btn-danger" ng-click="removeChoice(choice.id)"
                                      ng-if="choice.id!=index">Remove</button>
                                    <button class="btn btn-danger" type="button" ng-click="addNewChoice()"
                                      ng-if="choice.id===index">Add Button</button>
                                  </li>
                                </ul>
                              </form>
                            </div>
                            <!-- Modal footer -->
                            <div class="modal-footer">
                              <button type="button" class="btn btn-danger"
                                ng-click="createTemplate(templateData)">Submit</button>
                              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            </div>

                          </div>
                        </div>
                      </div>
                      <!-- end Add Temlate -->
                      <!-- view More detail popup start -->
                      <div id="viewMoreDetail" class="modal fade theme-modal">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                              <h4 class="modal-title">Modal Heading</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                              <div>Template ID:</div>
                              <div>Template Name:</div>
                              <div>Param:</div>
                              <div>
                                {{templateData.data}}
                              </div>
                              <div>
                                <button style="width:100px;"
                                  ng-if="templateData.button[0].name !== '' && templateData.button[0].name !== null">{{templateData.button[0].name}}</button>
                                <button style="width:100px"
                                  ng-if="templateData.button[1].name !== '' && templateData.button[1].name !== null">{{templateData.button[1].name}}</button>
                                <button style="width:100px"
                                  ng-if="templateData.button[2].name !== '' && templateData.button[2].name !== null">{{templateData.button[2].name}}</button>
                              </div>
                            </div>
                            <!-- Modal footer -->
                            <div class="modal-footer">
                              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            </div>

                          </div>
                        </div>
                      </div>
                      <!--view more detail modal end-->

                      <!-- send template modal -->
                      <div id="sendTemplates" class="modal fade theme-modal">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h4 class="modal-title">{{templateName}}</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <form>
                              <div class="modal-body" style="line-height: 1.5;">
                                <div ng-if="show1==true">
                                  {{message}}
                                </div>
                                <div>
                                  <button style="width:100px;"
                                    ng-if="templateData.button[0].name !== '' && templateData.button[0].name !== null">{{templateData.button[0].name}}</button>
                                  <button style="width:100px"
                                    ng-if="templateData.button[1].name !== '' && templateData.button[1].name !== null">{{templateData.button[1].name}}</button>
                                  <button style="width:100px"
                                    ng-if="templateData.button[2].name !== '' && templateData.button[2].name !== null">{{templateData.button[2].name}}</button>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <div class="row clearfix">
                                  <div class="clearfix">
                                    <div>
                                      <div class="col-sm-3">
                                        <div style="position: relative; text-align: left; height: 38px;">
                                          <input class="btn btn-danger"
                                            style="position: absolute; z-index: 16; opacity: 0; width:123px; cursor: pointer;"
                                            type="file" id="file1" name="file" multiple
                                            ng-files="getTheFiles($files)" />
                                          <button style="position: absolute; z-index: 1; width:123px;" type="button"
                                            class="btn btn-danger">Upload Users</button>
                                        </div>
                                      </div>
                                      <div class="col-sm-2">
                                        <button ng-if="!checkForLoader" type="button" class="btn btn-danger"
                                          value="Upload" ng-click="uploadSendTemplate()">Send</button>
                                        <button ng-if="checkForLoader" type="button" class="btn btn-danger"
                                          value="Upload" disabled><i class="fa fa-spinner fa-spin"
                                            style="margin-left: -10px; margin-right:4px;"></i>Send</button>
                                      </div>
                                      <div style="text-align: left; padding-left: 23px; padding-top:5px;">
                                        {{selectedFileName}}</div>
                                      <div style="text-align: left; color:red; padding-left: 23px; padding-top:5px;">
                                        {{excelColumnError}}</div>
                                    </div>
                                    <div class="input-params send-text-box">
                                      <label>Parameters:</label>
                                      <div class="param-div">
                                        <p class="param-list">{{templateData.param.toString()}}</p>
                                      </div>
                                      <form name="parameters">
                                        <input type="text" placeholder="Phone Number" style="margin-bottom: 10px;"
                                          ng-model="sendTemplateModel.phone_number" required />
                                        <input type="text" ng-model="sendTemplateModel.params" name="sendTemplateParams"
                                          placeholder="Entert Params" required />
                                        <p style="font-weight: 600;color: #000;"><span>Note: </span> Enter Param With
                                          (,) Separated</p>
                                        <button class="btn btn-primary" type="submit"
                                          ng-click="setSendTemplateParams(sendTemplateModel,templateData)">Send</button>
                                      </form>
                                    </div>
                                    <!-- <div class="col-sm-7" style="text-align: right;">
                                      <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                    </div> -->
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                      <!-- modal end send template -->
                      <!-- Optin User Modal Start -->
                      <div id="OptinUserModal" class="modal fade theme-modal">
                        <div class="modal-dialog quick-call-model" style="width: 400px;">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h4 class="modal-title">Optin User</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="row" style="margin: 0px; padding: 15px;">
                              <div>
                                <form name="myForm" ng-submit="sendOptinUserFile(optinUserNumbers,FileCheckSelect)">
                                  <div>
                                    <b>Send Excel File : </b><input type="checkbox"
                                      ng-model="FileCheckSelect"><br /><br />
                                    <div style="padding:10px; border:1px solid black; width:100%; font-weight:bold"
                                      ng-show='FileCheckSelect'>
                                      <div class="chose-file">
                                        <span style="color:#000;">
                                          <span style='font-size:10px;' ng-if="optineFileName"
                                            ng-click="removeOptinFiles()">&#10060;</span> &nbsp;{{optineFileName}}
                                        </span>
                                        <input class="custom-file-input" type="file" name="file" id="optinFile"
                                          size="60" ng-required="FileCheckSelect" multiple
                                          ng-files="getOptinFiles($files)" />
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-s-input" ng-show='!FileCheckSelect'>
                                    <input style="color:#000;width:100%;border:1px solid black;" type="text"
                                      ng-model="optinUserNumbers" placeholder="Enter Number , Separated"
                                      ng-required="!FileCheckSelect" />
                                  </div>
                                  <div class="modal-footer text-center" style="border-top: 0px; padding: 0;">
                                    <button type="submit" style="margin-top: 10px;" class="btn btn-danger smll-btn-cmt"
                                      ng-disabled="!optinUserLoader">
                                      <i class="fa fa-spinner fa-spin" style="margin-left: -10px; margin-right:4px;"
                                        ng-if="!optinUserLoader"></i>Send</button>
                                  </div>
                                </form>
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                      <!--Optin User Modal End  -->

                      <br />
                      <br />
                      <div class="col-md-5 LeadsTable">

                      </div>
                    </div>
                  </div>
                  <!-- start graph click table single -->
                  <div class="">

                    <div class="row">
                      <div class="col-md-12" ng-if="showDisplayDetailsTable">

                        <div class="campaigndetailtable">
                          <div class="panel-heading" style="height:70px;">
                            <h5 style="background:'red';color:white;text-transform:capitalize">Supplier Details For
                              {{campaignTabPropsalName}} - {{supplierStatus}}</h5>
                          </div>
                          <br />
                          <input type="text" class="form-control" ng-model="searchQuery" placeholder="search">

                          <br />
                          <div class="table-responsive">
                            <table class="table" cellSpacing="0" cellPadding="0">
                              <thead>
                                <tr>
                                  <th>INDEX</th>
                                  <th ng-click="Sort('phase')">Phase No &nbsp;<a><i class="icon-sort"
                                        style="color:white;"></i></a></th>
                                  <th style="width:200px;" ng-click="Sort('supplier.society_name')">Supplier Name
                                    &nbsp;<a><i class="icon-sort" style="color:white;"></i></a></th>
                                  <th>Supplier Area <br> (SubArea)</th>
                                  <th>Supplier Type</th>
                                  <th ng-click="Sort('supplier.flat_count')">{{flat_count_header}} &nbsp;<a><i
                                        class="icon-sort" style="color:white;"></i></a></th>
                                  <th ng-click="Sort('leads_data.total_leads_count')"
                                    ng-if="supplierStatus != 'upcoming'">Leads <br> (% by {{flat_count_header}})
                                    &nbsp;<a><i class="icon-sort" style="color:white;"></i></a></th>
                                  <th ng-click="Sort('leads_data.hot_leads_count')"
                                    ng-if="supplierStatus != 'upcoming'">Hot Leads <br>(% by {{flat_count_header}})
                                    &nbsp;<a><i class="icon-sort" style="color:white;"></i></a></th>
                                  <th ng-if="supplierStatus != 'upcoming'">Poster</th>
                                  <th ng-if="supplierStatus != 'upcoming'">Flier</th>
                                  <th ng-if="supplierStatus != 'upcoming'">Standee</th>
                                  <th ng-if="supplierStatus != 'upcoming'">Stall</th>
                                  <th ng-if="supplierStatus != 'upcoming'">Other Images</th>
                                  <th>Comments</th>
                                  <th ng-if="canViewInternalComments">Internal <br> Comments</th>
                                </tr>
                                <tr colspan="12">
                                  <td></td>
                                  <td><input ng-model="f.phase" class="form-control" placeholder="Search">
                                    <hr>
                                  </td>
                                  <td><input ng-model="f.supplier.name" class="form-control" placeholder="Search">
                                    <hr>
                                  </td>
                                  <td></td>
                                  <td><input ng-model="f.supplier.society_type_quality " class="form-control"
                                      placeholder="Search">
                                    <hr>
                                  </td>
                                </tr>
                                <hr>
                              </thead>

                              <tbody class="detailedTable">
                                <div class="row">
                                  <tr
                                    ng-repeat="supplier in supplierAndInvData |filter:searchQuery |filter : f | orderBy:sort:reversesort">
                                    <td>{{$index + 1}}</td>
                                    <td>{{supplier.phase}}</td>
                                    <td style="width:200px;" class="col-md-2">{{supplier.supplier.name}}</td>
                                    <td class="col-md-2"><span
                                        ng-if="supplier.supplier.society_locality">{{supplier.supplier.society_locality}}</span>
                                      <span
                                        ng-if="supplier.supplier.locality_rating">{{supplier.supplier.locality_rating}}</span>
                                      <small>({{supplier.supplier.subarea}})</small>
                                    </td>

                                    <td class="col-md-2"><span
                                        ng-if="supplier.supplier.society_type_quality">{{supplier.supplier.society_type_quality}}</span>
                                      <span
                                        ng-if="supplier.supplier.quality_rating">{{supplier.supplier.quality_rating}}</span>
                                    </td>

                                    <td class="col-md-2">{{supplier.supplier.flat_count}}</td>
                                    <td class="col-md-2" style="color:#ffffff" ng-if="supplierStatus != 'upcoming'">
                                      {{supplier.leads_data.total_leads_count || 0}} <br> <small style="color:#cb1925;">
                                        ({{supplier.leads_data.leads_flat_percentage || 0}}
                                        %)</small><span
                                        ng-if="supplier.leads_data.leads_flat_percentage && supplier.leads_data.leads_flat_percentage > 0 && admin == 1"
                                        style="margin-left: 5%;" class="glyphicon glyphicon-trash"
                                        ng-click="deleteLeads(supplier.supplier.supplier_id)"></span></td>
                                    <td class="col-md-2" style="color:#ffffff" ng-if="supplierStatus != 'upcoming'">
                                      {{supplier.leads_data.hot_leads_count || 0}} <br> <small
                                        style="color:#cb1925;">({{supplier.leads_data.hot_leads_percentage_by_flat_count
                                        || 0}} %)</small></td>
                                    <td ng-if="supplier.images_data.POSTER && supplierStatus != 'upcoming'"><a
                                        data-target="#posterImageModal" data-toggle="modal"
                                        ng-click="ImageURL(supplier,supplier.images_data.POSTER.images)">Images
                                        ({{supplier.images_data.POSTER.total_count}})</a></td>
                                    <td ng-if="!supplier.images_data.POSTER && supplierStatus != 'upcoming'">No Images
                                    </td>

                                    <td ng-if="supplier.images_data.FLIER && supplierStatus != 'upcoming'"><a
                                        data-target="#posterImageModal" data-toggle="modal"
                                        ng-click="ImageURL(supplier,supplier.images_data.FLIER.images)">Images
                                        ({{supplier.images_data.FLIER.total_count}})</a></td>
                                    <td ng-if="!supplier.images_data.FLIER && supplierStatus != 'upcoming'">No Images
                                    </td>

                                    <td ng-if="supplier.images_data.STANDEE && supplierStatus != 'upcoming'"><a
                                        data-target="#posterImageModal" data-toggle="modal"
                                        ng-click="ImageURL(supplier,supplier.images_data.STANDEE.images)">Images
                                        ({{supplier.images_data.STANDEE.total_count}})</a></td>
                                    <td ng-if="!supplier.images_data.STANDEE && supplierStatus != 'upcoming'">No
                                      Images</td>

                                    <td ng-if="supplier.images_data.STALL && supplierStatus != 'upcoming'"><a
                                        data-target="#posterImageModal" data-toggle="modal"
                                        ng-click="ImageURL(supplier,supplier.images_data.STALL.images)">Images
                                        ({{supplier.images_data.STALL.total_count}})</a></td>
                                    <td ng-if="!supplier.images_data.STALL && supplierStatus != 'upcoming'">No Images
                                    </td>

                                    <td ng-if="supplierStatus == 'ongoing' || supplierStatus == 'completed'">
                                      <table class="table-responsive table table-bordered ">
                                        <tr>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data.BANNER && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Banner</small><a
                                              data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data.BANNER.images)"><small>({{supplier.images_data.BANNER.total_count}})</small></a>
                                          </td>
                                        </tr>
                                        <tr>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data['OTHER IMAGES'] && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Others</small><a
                                              data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data['OTHER IMAGES'].images)"><small>({{supplier.images_data['OTHER
                                                IMAGES'].total_count}})</small></a></td>
                                          <!-- <td ng-if="!supplier.images_data['OTHER IMAGES']">NA</td> -->
                                        </tr>
                                        <tr>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data['CERTIFICATION DISTRIBUTION'] && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Certification <br>
                                              Distribution</small><a data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data['CERTIFICATION DISTRIBUTION'].images)"><small>({{supplier.images_data['CERTIFICATION
                                                DISTRIBUTION'].total_count}})</small></a></td>
                                          <!-- <td ng-if="!supplier.images_data['CERTIFICATION DISTRIBUTION']">NA</td> -->
                                        </tr>
                                        <tr>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data['STALL WITH PROMOTERS'] && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Stall With<br>Promoters</small><a
                                              data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data['STALL WITH PROMOTERS'].images)"><small>({{supplier.images_data['STALL
                                                WITH PROMOTERS'].total_count}})</small></a></td>
                                          <!-- <td ng-if="!supplier.images_data['CERTIFICATION DISTRIBUTION']">NA</td> -->
                                        </tr>
                                        <tr>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data['Permission Box'] && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Permission<br>Letter</small><a
                                              data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data['Permission Box'].images)"><small>({{supplier.images_data['Permission
                                                Box'].total_count}})</small></a></td>
                                          <td style="color:#ffffff;"
                                            ng-if="supplier.images_data['PERMISSION BOX'] && supplierStatus != 'upcoming'"
                                            style="background-color:#cb1925"><small>Permission<br>Letter</small><a
                                              data-target="#posterImageModal" data-toggle="modal"
                                              ng-click="ImageURL(supplier,supplier.images_data['PERMISSION BOX'].images)"><small>({{supplier.images_data['PERMISSION
                                                BOX'].total_count}})</small></a></td>
                                          <!-- <td ng-if="!supplier.images_data['CERTIFICATION DISTRIBUTION']">NA</td> -->
                                        </tr>

                                      </table>
                                    </td>
                                    <td style="width:200px;">

                                      <!--START : view external comments modal  -->
                                      <div class="comment" ng-if="comments[supplier.shortlisted_space_id]">
                                        <b>{{comments[supplier.shortlisted_space_id].external.username}} </b> <span>
                                          <br><small>
                                            {{comments[supplier.shortlisted_space_id].external.created_on |
                                            date}}</small></span><br>
                                        <span>{{comments[supplier.shortlisted_space_id].external.comment}}</span>
                                      </div>
                                      <button ng-click="viewComments('EXTERNAL',supplier)" class="btn btn-danger"
                                        data-toggle="modal" data-target="#viewExternalComments"> View/Add</button>
                                      <div id="viewExternalComments" class="modal fade">
                                        <div>
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"
                                                  aria-hidden="true">&times;</button>
                                                View Comments For {{societyViewNameForComments}}
                                              </div>
                                              <div class="modal-body">
                                                <table class="table-bordered table-striped"
                                                  style="border: none !important;">
                                                  <tbody>
                                                    <tr ng-repeat="item in commentsData.general">
                                                      <td class="col-md-8"
                                                        style="background-color: whitesmoke;text-align: initial;">
                                                        <div style="color: black;">
                                                          <img ng-src="{{userIcon}}">
                                                          <b>{{item.user_name}} :</b> <span> <small>
                                                              {{item.timestamp|date:'medium'}}</small></span><br>
                                                        </div>
                                                        <div style="padding-left:30px">
                                                          <p style="word-break:break-word;color: black;">
                                                            {{item.comment}}</p>
                                                          </br>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                                <!--  Add comment-->
                                                <div style="width:100%">
                                                  <br>
                                                  <!-- <label>Comments :</label> -->
                                                  <textarea class="form-control col-md-10" rows="8" cols="200"
                                                    ng-model="commentModal.comment" placeholder="Write here.."
                                                    required></textarea>
                                                </div>
                                                <br>
                                              </div><br>
                                              <br>
                                              <button class="btn btn-danger" type="button"
                                                ng-click="addComment('EXTERNAL',shortlistedSpaceId)"
                                                style="margin:3%">Add Comment </button>
                                            </div>
                                          </div><br>
                                          <br>
                                          </br></br>
                                        </div>
                                      </div>
                                    </td>

                                    <td style="width:200px;" ng-if="canViewInternalComments">
                                      <!--START : view internal comments modal  -->
                                      <button ng-click="viewComments('INTERNAL',supplier)" class="btn btn-danger"
                                        data-toggle="modal" data-target="#viewInternalComments">View/Add</button>
                                      <div id="viewInternalComments" class="modal fade">
                                        <div>
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"
                                                  aria-hidden="true">&times;</button>
                                                View Internal Comments For {{societyViewNameForComments}}
                                              </div>
                                              <div class="modal-body">
                                                <table class="table-bordered table-striped"
                                                  style="border: none !important;">
                                                  <tbody>
                                                    <tr ng-repeat="item in commentsData.general">
                                                      <td class="col-md-8"
                                                        style="background-color: whitesmoke;text-align: initial;">
                                                        <div style="color: black;">
                                                          <img ng-src="{{userIcon}}">
                                                          <b>{{item.user_name}} :</b> <span> <small>
                                                              {{item.timestamp|date:'medium'}}</small></span><br>
                                                        </div>
                                                        <div style="padding-left:30px">
                                                          <p style="word-break:break-word;color: black;">
                                                            {{item.comment}}</p>
                                                          </br>
                                                        </div>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                                <!--  Add comment-->
                                                <div style="width:100%">
                                                  <br>
                                                  <!-- <label>Comments :</label> -->
                                                  <textarea class="form-control col-md-10" rows="8" cols="200"
                                                    ng-model="commentModal.comment" placeholder="Write here.."
                                                    required></textarea>
                                                </div>
                                                <br>
                                              </div><br>
                                              <br>
                                              <button class="btn btn-danger" type="button"
                                                ng-click="addComment('INTERNAL',supplier.shortlisted_space_id)"
                                                style="margin:3%">Add Comment</button>
                                            </div>
                                          </div><br>
                                          <br>
                                          </br></br>
                                        </div>
                                      </div>
                                    </td>



                                  </tr>

                                </div>
                              </tbody>
                              <tfoot>
                                <tr>
                                  <td>TOTAL</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>
                                  <td>{{TotalSupplierFlatCount}}</td>
                                  <td ng-if="supplierStatus != 'upcoming'">{{TotalSupplierLeadsCount || 0}}</td>
                                  <td ng-if="supplierStatus != 'upcoming'">{{TotalSupplierHotLeadsCount || 0}}</td>
                                  <td ng-if="supplierStatus != 'upcoming'"></td>
                                  <td ng-if="supplierStatus != 'upcoming'"></td>
                                  <td ng-if="supplierStatus != 'upcoming'"></td>
                                  <td ng-if="supplierStatus != 'upcoming'"></td>
                                  <td ng-if="supplierStatus != 'upcoming'"></td>
                                  <td>&nbsp;</td>
                                  <td>&nbsp;</td>
                                </tr>
                              </tfoot>
                            </table>
                          </div>
                        </div>


                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-12" ng-show="showDisplayDetailsTable" ng-if="supplierStatus == 'ongoing'">
                        <div class="panel-heading content-title">
                          <h5 style="background:'red'">Map View for {{campaignTabPropsalName}}</h5>
                        </div>
                        <style type="text/css">
                          .angular-google-map-container {
                            height: 550px;
                            color: black;
                          }
                        </style>
                        <p class="map_icon_map">
                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/blue-dot.png">Ongoing</span>
                        </p>
                        <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false" options="options"
                          bounds="map.bounds" control="googlemap">
                          <ui-gmap-window show="show" coords='windowCoords'>
                            <div>
                              <table class="table-responsive table">
                                <div class="">
                                  <h3>{{space.title.name}}</h3>
                                </div>
                                <tr>
                                  <td>{{space.title.STALL.key}}</td>
                                  <td><small>{{space.title.STALL.total}}</small></td>
                                </tr>
                                <tr>
                                  <td>{{space.title.POSTER.key}}</td>
                                  <td><small>{{space.title.POSTER.total}}</small></td>
                                </tr>
                                <tr>
                                  <td>{{space.title.STANDEE.key}}</td>
                                  <td><small>{{space.title.STANDEE.total}}</small></td>
                                </tr>
                                <tr>
                                  <td>{{space.title.FLIER.key}}</td>
                                  <td><small>{{space.title.FLIER.total}}</small></td>
                                </tr>
                                <tr>
                                  <td>{{space.title['GATEWAY ARCH'].key}}</td>
                                  <td><small>{{space.title['GATEWAY ARCH'].total}}</small></td>
                                </tr>
                              </table>
                            </div>
                          </ui-gmap-window>
                          <ui-gmap-markers models="supplierMarkers" coords="'self'" icon="'icon'" options="'options'"
                            doRebuildAll="true" events="marker.events">
                          </ui-gmap-markers>
                        </ui-gmap-google-map>
                      </div>

                      <div class="col-md-12" ng-show="!supplierStatus && showAllMapData">
                        <div class="panel-heading content-title">
                          <h5 style="background:'red'">Map View for {{campaignTabPropsalName}}</h5>
                        </div>
                        <style type="text/css">
                          .angular-google-map-container {
                            height: 550px;
                            color: black;
                          }
                        </style>
                        <p class="map_icon_map">
                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/green-dot.png">Completed</span>
                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/orange-dot.png">Upcoming</span>
                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/blue-dot.png">Ongoing</span>


                        </p>
                        <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false" options="options"
                          bounds="map.bounds" control="googlemap">
                          <ui-gmap-window show="show" coords='windowCoords'>
                            <div>
                              <table class="table-responsive table">
                                <div class="">
                                  <h3>{{space.title.name}}</h3>
                                </div>
                                <tr>
                                  <td>Hot Leads Percentage</td>
                                  <td><small>{{(space.completedLeadsSupplierData.hot_leads_count) || 'NA'}}
                                      ({{((space.completedLeadsSupplierData.hot_leads_count/space.completedLeadsSupplierData.flat_count)|number:2)
                                      || 0}}%)</small></td>
                                </tr>
                                <tr>
                                  <td>Total Leads</td>
                                  <td><small>{{(space.completedLeadsSupplierData.total_leads_count || 'NA')}}
                                      ({{((space.completedLeadsSupplierData.total_leads_count/space.completedLeadsSupplierData.flat_count)
                                      | number:2) || 0}}%)</small></td>
                                </tr>
                              </table>
                            </div>
                          </ui-gmap-window>
                          <ui-gmap-markers models="supplierMarkers" coords="'self'" icon="'icon'" options="'options'"
                            doRebuildAll="true" events="marker.events">
                          </ui-gmap-markers>
                        </ui-gmap-google-map>
                      </div>


                      <div class="col-md-12" ng-show="showDisplayDetailsTable" ng-if="supplierStatus == 'completed'">
                        <div class="panel-heading content-title">
                          <h5 style="background:'red'">Map View for {{campaignTabPropsalName}}</h5>
                        </div>
                        <style type="text/css">
                          .angular-google-map-container {
                            height: 550px;
                            color: black;
                          }
                        </style>
                        <p class="map_icon_map">
                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/green-dot.png">Completed</span>
                        </p>
                        <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false" options="options"
                          bounds="map.bounds" control="googlemap">
                          <ui-gmap-window show="show" coords='windowCoords'>
                            <div>
                              <table class="table-responsive table">
                                <div class="">
                                  <h3>{{space.title.name}}</h3>
                                </div>
                                <tr>
                                  <td>Hot Leads Percentage</td>
                                  <td><small>{{(space.completedLeadsSupplierData.hot_leads_percentage | number:2) ||
                                      'NA'}}</small></td>
                                </tr>
                                <tr>
                                  <td>Total Leads</td>
                                  <td><small>{{space.completedLeadsSupplierData.total_leads_count || 'NA'}}</small>
                                  </td>
                                </tr>
                              </table>
                            </div>
                          </ui-gmap-window>
                          <ui-gmap-markers models="supplierMarkers" coords="'self'" icon="'icon'" options="'options'"
                            doRebuildAll="true" events="marker.events">
                          </ui-gmap-markers>
                        </ui-gmap-google-map>
                      </div>
                      <div class="col-md-12" ng-show="showDisplayDetailsTable" ng-if="supplierStatus == 'upcoming'">
                        <div class="panel-heading content-title">
                          <h5 style="background:'red'">Map View for {{campaignTabPropsalName}}</h5>
                        </div>
                        <style type="text/css">
                          .angular-google-map-container {
                            height: 550px;
                            color: black;
                          }
                        </style>
                        <p class="map_icon_map">

                          <span style="color:#000000"> <img
                              src="http://maps.google.com/mapfiles/ms/icons/orange-dot.png">Upcoming</span>



                        </p>
                        <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="false" options="options"
                          bounds="map.bounds" control="googlemap">
                          <ui-gmap-window show="show" coords='windowCoords'>
                            <div>
                              <table class="table-responsive table">
                                <div class="">
                                  <h3>{{space.title.name}}</h3>
                                </div>
                                <tr>
                                  <td
                                    ng-if="selectedSupplierType.code == all || selectedSupplierType.code == '' || selectedSupplierType.code == 'mix'">
                                    Unit Primary Count</td>
                                  <td
                                    ng-if="selectedSupplierType.code != all || selectedSupplierType.code != '' || selectedSupplierType.code != 'mix'">
                                    {{flat_count_header}}</td>
                                  <td><small>{{space.dataofSupplierAndInvData.flat_count || 'NA'}}</small></td>
                                </tr>
                                <tr>
                                  <td
                                    ng-if="selectedSupplierType.code == all || selectedSupplierType.code == '' || selectedSupplierType.code == 'mix'">
                                    Unit Secondary Count</td>
                                  <td
                                    ng-if="selectedSupplierType.code != all || selectedSupplierType.code != '' || selectedSupplierType.code != 'mix'">
                                    {{tower_count_header}}</td>
                                  <td><small>{{space.dataofSupplierAndInvData.tower_count || 'NA'}}</small></td>
                                </tr>
                              </table>
                            </div>
                          </ui-gmap-window>
                          <ui-gmap-markers models="supplierMarkers" coords="'self'" icon="'icon'" options="'options'"
                            doRebuildAll="true" events="marker.events">
                          </ui-gmap-markers>
                        </ui-gmap-google-map>
                      </div>
                    </div>

                    <div class="col-md-7 LeadsTable" ng-show="showSupplierSocietywiseInvTable">
                      <div class="panel-heading content-title">
                        <h5 style="background:'red'">SOCEITY DETAILS</h5>

                      </div>
                      <table class="table-responsive table table-bordered">
                        <thead>
                          <tr>
                            <td>Society Name</td>
                            <td>Inventory Count</td>
                            <td>Average Delay</td>
                            <td>Average Off Location</td>
                            <td>Image</td>
                            <td>Leads</td>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="societies in SocietyInvTable">
                            <td>{{societies[item.status].supplier.society_name}}</td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- end graph click table single -->
                  <!-- start graph click table all -->
                  <div class="col-md-12" ng-if="showTableForAllCampaignDisplay"
                    style="margin-top:20px;height:700px !important;">
                    <div class="campaigndetailtable">
                      <div class="panel-heading" style="height:70px;">
                        <h5 style="background:'red';color:white;text-transform: capitalize;">All Campaign Details</h5>
                      </div>
                      <br />
                      <input type="text" class="form-control" ng-model="searchQuery" placeholder="search">

                      <br />
                      <div class="table-responsive" style="overflow-y: scroll;">
                        <table class="table">
                          <thead>
                            <tr>
                              <th>INDEX</th>
                              <th ng-click="SortColumn('name')">Campaign Name &nbsp;<a><i class="icon-sort"
                                    style="color:white;cursor: pointer;"></i></a></th>
                              <th ng-click="SortColumn('start_date')">Start Date &nbsp;<a><i class="icon-sort"
                                    style="color:white;"></i></a></th>
                              <th>Campaign Status</th>
                              <th ng-if="selectedSupplierType.code == 'RS'">Society Count</th>
                              <th ng-if="selectedSupplierType.code != 'RS'">Supplier Count</th>
                              <th ng-click="SortColumn('flat_count')">Unit Count &nbsp;<a><i class="icon-sort"
                                    style="color:white;"></i></a></th>
                              <th ng-click="SortColumn('total_leads')">Leads (% by Unit Count) &nbsp;<a><i
                                    class="icon-sort" style="color:white;"></i></a></th>
                              <th ng-click="SortColumn('hot_leads')">Hot Leads (% by Unit Count) &nbsp;<a><i
                                    class="icon-sort" style="color:white;"></i></a></th>
                            </tr>
                            <tr colspan="9">
                              <td></td>
                              <td><input ng-model="f.name" class="form-control" placeholder="Search">
                                <hr>
                              </td>
                              <td></td>
                              <td><input ng-model="f.campaign_status" class="form-control" placeholder="Search">
                                <hr>
                              </td>

                            </tr>
                            <!-- <hr> -->
                          </thead>

                          <tbody class="detailedTable">
                            <div class="row">
                              <tr
                                ng-repeat="allCampaign in allCampaignDetailsData | filter:searchQuery |  filter:f |  orderBy:sortColumn:reversesortcolumn">
                                <td style="vertical-align:middle">{{$index + 1}} </td>
                                <td style="vertical-align:middle">{{allCampaign.name}}</td>
                                <td class="col-md-2">{{allCampaign.start_date | date:mediumDate}}</td>
                                <td class="col-md-2" style="text-transform:capitalize">{{allCampaign.campaign_status}}
                                </td>
                                <td class="col-md-2">{{allCampaign.supplier_count}}</td>
                                <td class="col-md-2">{{allCampaign.flat_count}}</td>
                                <td class="col-md-2" style="color:#ffffff">{{allCampaign.total_leads || 0}} <small
                                    style="color:#cb1925;"> ({{(allCampaign.total_leads / allCampaign.flat_count) *
                                    100 | limitTo:5 || 0}} %)</small></td>
                                <td class="col-md-2" style="color:#ffffff">{{allCampaign.hot_leads || 0}} <small
                                    style="color:#cb1925;">({{(allCampaign.hot_leads / allCampaign.flat_count) * 100|
                                    limitTo:5 || 0}} %)</small></td>
                              </tr>

                            </div>
                          </tbody>
                          <tfoot ng-if="!searchQuery">
                            <tr>
                              <td>TOTAL</td>
                              <td>{{campaignLength}}</td>
                              <td></td>
                              <td></td>
                              <td>{{AllCampaignSupplierCount || 0}}</td>
                              <td>{{AllCampaignFlatCount || 0 }}</td>
                              <td>{{AllCampaignTotalLeadsCount || 0 }}</td>
                              <td>{{AllCampaignHotLeadsCount || 0 }}</td>
                            </tr>
                          </tfoot>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- end graph click table all -->

                </div>
              </div>
            </uib-tab>

            <!--Transactional template tab-->
            <!-- <uib-tab id="uib-tabs-width"  ng-click="viewCampaignLeads()" index="1"> -->
            <uib-tab ng-click="getTransactionalTemplate()" index="1">
              <uib-tab-heading>
                <h5>Transactional Template</h5>
              </uib-tab-heading>
              <div class="container-fluid">
                <!-- <div class="panel panel-default"> -->


                <!-- <div class="col-md-6">
                            <h4 class="panel-title">
                              <select class="form-control" ng-model="selectedVendor.name" ng-change="getCampaignsByVendor()">
                                <option value="">Select Vendor</option>
                                <option value="{{vendor.vendor_id}}">All</option>
                                <option value="{{vendor.vendor_id}}" ng-repeat="vendor in vendorsData">{{vendor.principal_vendor}}</option>
                              </select>
                            </h4>
                        </div>
                        <div class="animate-show">
                          <div class="panel-bodyDashboard camp-menu-content">
                              <table class="table">
                                  <tr ng-repeat="vendors in vendorsData">
                                  {{vendors}}
                                  </tr>
                              </table>
                          </div>
                        </div> -->
                <!-- <div ng-if="!viewTemplateSummaryTable"> -->
                <!-- <div class="col-md-12 " style="padding-top: 15px;">
                      <h4 class="panel-title">
                        <select class="form-control" name="botType" ng-model="transactionalTemplateDropdown.bot"
                          ng-change="setBotType()">
                          <option value="" disabled>Select BOT</option>
                          <option value="mea">MEA</option>
                          <option value="mca">MCA</option>
                        </select>
                      </h4>
                    </div> -->

                <!-- <div class="col-md-6 col-xs-6 dropdowns" ng-if="transactionalTemplateDropdown.bot=='mca'"> -->

                <!--Future dropdowns-->
                <!-- <div class="col-md-6 col-xs-6 dropdowns">
                      <h4 class="panel-title">
                        <select class="form-control" name="supplierType"
                          ng-model="transactionalTemplateDropdown.location" ng-change="setSupplierType('viewLeads')">
                          <option value="" disabled>Select Location</option>
                          <option value="delhi">Delhi</option>
                        </select>
                      </h4>
                    </div>
                    <div id="content2">
                      <div class="col-md-6 col-xs-6 dropdowns" style="margin-top: -10px;">
                        <div class="form-group pincode">
                          <h4 class="panel-title">
                            <input class="form-control" type="text" name="pincode" id="pinId"
                              ng-model="transactionalTemplateDropdown.pinCode" placeholder="Enter Pincode" />
                          </h4>
                        </div> -->
                <!-- end Future dropdowns-->
                <!-- <div contenteditable="true">
                        Enter Pincode
                      </div> -->

                <!-- <form>


                        <button type="submit" class="btn btn-primary">Submit</button>
                      </form> -->
                <!-- </div> -->
                <!-- </div> -->


                <!--for mea dropdown option-->

                <!-- <div class="col-md-6 col-xs-6 dropdowns" ng-if="transactionalTemplateDropdown.bot=='mea'">
                      <h4 class="panel-title">
                        <select class="form-control" name="supplierType"
                          ng-model="transactionalTemplateDropdown.typeofCustomer">
                          <option value="" disabled>Select Type of Customer</option>
                          <option value="class1">Class 1</option>
                        </select>
                      </h4>
                    </div>

                    <div class="col-md-6 col-xs-6 dropdowns" ng-if="transactionalTemplateDropdown.bot=='mea'">
                      <h4 class="panel-title">
                        <select class="form-control" name="supplierType"
                          ng-model="transactionalTemplateDropdown.category">
                          <option value="" disabled>Select Category</option>
                          <option value="english">English</option>
                        </select>
                      </h4>
                    </div> -->

                <!-- end for mea dropdown option-->

                <!-- <div class="col-md-6" style="margin-top: 10px;"> -->
                <!-- <div class="col-md-12" print-remove style="margin-top: 10px;">
                        <div class="col-md-6 col-sm-6">
                          <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
                            placeholder="DD/MM/YYYY" ng-change="changeStartDate()" ng-model="dateRangeModel.start_dates"
                            is-open="isDatepickerOpen" datepicker-options="datepickerOptions" ng-required="true"
                            close-text="Close" alt-input-formats="altInputFormats">
                          <button type="button" class="smallBtn calendar" ng-click="isDatepickerOpen = !isDatepickerOpen">
                            <i class="glyphicon glyphicon-calendar"></i>
                          </button>
                        </div>
                        <div class="col-md-6 col-sm-6">
                          <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
                            placeholder="DD/MM/YYYY" ng-change="changeEndDate()" ng-model="dateRangeModel.end_dates"
                            is-open="isEndDateOpen" datepicker-options="options" ng-required="true" close-text="Close"
                            alt-input-formats="altInputFormats">
                          <button type="button" class="smallBtn calendar" ng-disabled="!dateRangeModel.start_dates"
                            ng-click="isEndDateOpen = !isEndDateOpen">
                            <i class="glyphicon glyphicon-calendar"></i>
                          </button>
                        </div>
                        <div col-md-2 col-sm-2>
                        <button class="btn btn-danger" ng-disabled="!dateRangeModel.start_dates && !dateRangeModel.end_dates" ng-click="getTransactionalTemplateViewDetail()">Submit</button>
                      </div>
                    </div> -->
                <!-- </div> -->
                <!-- </div> -->
                <!-- </div> -->

                <!-- <div ng-if="showCampaigns"> -->
                <!-- <div ng-if="transactionalTemplateDropdown.bot"> -->


                <!--First Page-->
                <!-- <div ng-if="!viewTemplateSummaryTable"> -->
                <div ng-if="viewAllTemplateSummaryTable">


                  <div class="search-div " style="margin-top: 0px !important;margin-bottom: 0px !important;">
                    <div class="d-flex f-div justify-content-between">
                      <div>
                        <input type="text" class="form-control search-b mobile-m-5" style="max-width: 200px;"
                          placeholder="search" ng-change="getTransactionalTemplate(TransactionalTemplateSearch)"
                          ng-model="TransactionalTemplateSearch">
                      </div>
                      <!--clender-->
                      <div class="col-md-12" print-remove>
                        <div class="row">
                          <div class="col-md-3 col-sm-3 d-flex mobile-p-0 mobile-m-5">
                            <input type="text" style="color:#000000; margin-bottom: 0px" class="field mobile-m-5"
                              uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY" ng-change="changeStartDate()"
                              ng-model="dateRangeModel.start_dates" is-open="isDatepickerOpen"
                              datepicker-options="datepickerOptions" ng-required="true" close-text="Close"
                              alt-input-formats="altInputFormats">
                            <button type="button" style="margin-bottom: 0px !important ;margin-left: 15px"
                              class=" pl-2 smallBtn calendar" ng-click="isDatepickerOpen = !isDatepickerOpen">
                              <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                          </div>
                          <div class="col-md-3 col-sm-3 d-flex mobile-p-0 mobile-m-5">
                            <input type="text" style="color:#000000; margin-bottom: 0px" class="field mobile-m-5"
                              uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY" ng-change="changeEndDate()"
                              ng-model="dateRangeModel.end_dates" is-open="isEndDateOpen" datepicker-options="options"
                              ng-required="true" close-text="Close" alt-input-formats="altInputFormats">
                            <button type="button" style="margin-bottom: 0px !important ;margin-left: 15px"
                              class=" pl-2 smallBtn calendar" ng-disabled="!dateRangeModel.start_dates"
                              ng-click="isEndDateOpen = !isEndDateOpen">
                              <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                          </div>
                          <div class="col-md-2 col-sm-2">
                            <button class="btn btn-danger"
                              ng-disabled="!dateRangeModel.start_dates && !dateRangeModel.end_dates"
                              ng-click="getTransactionalTemplate(search,dateRangeModel.start_dates,dateRangeModel.end_dates)">
                              Submit</button>
                          </div>
                        </div>
                      </div>
                      <!--end of clender-->

                      <br>
                    </div>
                  </div>
                  <!-- <input type="text" class="form-control " placeholder="search"
                    ng-change="getTransactionalTemplate(TransactionalTemplateSearch)"
                    ng-model="TransactionalTemplateSearch">
                  <br> -->
                  <!-- <div class="table-responsive"  ng-change="getTransactionalTemplate()"> -->
                  <div class="table-responsive" style="overflow-y: scroll;">
                    <table class="table">

                      <thead>
                        <tr>
                          <th style="padding:10px">Index</th>
                          <!-- <th style="padding:10px">Template ID</th> -->
                          <th style="padding:10px" ng-click="Sort('template_name')">Name
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('days_count')">Days sent
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_users')">Sent(Unique Count)
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_delivered')">Delivered
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_read')">Read
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('unique_button_count')">Unique Count
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th ng-click="Sort('total_positive')">B1
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th ng-click="Sort('total_neutral')">B2
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th ng-click="Sort('total_negative')">B3
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px">Details</th>
                          <th style="padding:10px">Download</th>
                          <th style="padding:10px; padding-right: 25px;">Send</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="ttemplate in transactionalTemplateData | orderBy:sort:reversesort" track
                          by "$index">
                          <td>{{$index+serial}}</td>
                          <!-- <td style="text-align: center;">{{ttemplate.template_id}}</td> -->
                          <td style="text-align: center; text-transform: capitalize;">{{ttemplate.template_name}}</td>
                          <td style="text-align: center;">{{ttemplate.days_count}}</td>
                          <td style="text-align: center;">{{ttemplate.total_users}}({{tttemplate.Unique_send}})</td>
                          <td style="text-align: center;">{{ttemplate.total_delivered}}</td>
                          <td style="text-align: center;">{{ttemplate.total_read}}</td>
                          <td style="text-align: center;">{{ttemplate.unique_button_count}}</td>
                          <td style="text-align: center;">{{ttemplate.total_positive}}</td>
                          <td style="text-align: center;">{{ttemplate.total_neutral}}</td>
                          <td style="text-align: center;">{{ttemplate.total_negative}}</td>
                          <td style="text-align: center;"><button
                              ng-click="getTransactionalTemplateViewDetail(ttemplate.template_id,pagination.current,ttemplate.template_name,dateRangeModel.start_dates=' ',dateRangeModel.end_dates=' ')"
                              data-toggle="modal" type="button" class="btn btn-danger">View
                            </button>
                          </td>
                          <!-- <td style="text-align: center;"><button type="button" ng-click="gettransactionalTemplateSummaryDownload(ttemplate.template_id)"
                              class="btn btn-danger">Download</button>
                          </td> -->
                          <td style="text-align: center;">
                            <a
                              ng-href="{{APIBaseUrl}}v0/ui/mca-bot/template-date-wise-template-summary/?template_id={{ttemplate.template_id}}">
                              <button data-toggle="modal" type="button" class="btn btn-danger">Download
                              </button>
                            </a>
                          </td>
                          <td style="text-align: center;"><button
                              ng-click="getFormUpload(ttemplate.template_id,ttemplate.template_name)"
                              data-target="#viewModal" data-toggle="modal" type="button" class="btn btn-danger">Send
                            </button>
                          </td>
                        </tr>

                        <!-- <tr colspan="9">
                            <td></td>
                            <td><input ng-model="f.name" class="form-control" placeholder="Search">
                              <hr>
                            </td>
                            <td></td>
                            <td></td>
                            <td><input ng-model="f.campaign_status" class="form-control" placeholder="Search">
                              <hr>
                            </td>

                          </tr> -->

                        <!-- <tbody> -->
                        <!-- <tr
                            dir-paginate="campaign in leadsDataCampaigns|filter : searchQuery | filter : f | orderBy:sort:reversesort | itemsPerPage:10 track by $index ">
                            <td>{{$index + 1}}</td>
                            <td style="width:200px;" class="col-md-2">{{campaign.name}}</td>
                            <td>{{campaign.start_date|limitTo:10|date:mediumDate}}</td>
                            <td ng-if="campaign.campaign_status == 'completed'" style="text-transform:capitalize">
                              {{campaign.end_date|limitTo:10|date:mediumDate}}</td>
                            <td ng-if="campaign.campaign_status != 'completed'">NA</td>
                            
                            <td ng-if="campaign.campaign_status == 'on_hold'" style="text-transform:capitalize">OnHold
                            </td>
                            <td ng-if="campaign.campaign_status != 'on_hold'" style="text-transform:capitalize">
                              {{campaign.campaign_status}}</td>
                            <td style="width:100px;" class="col-md-2">{{campaign.supplier_count}}</td>
                            <td style="width:100px;" class="col-md-2">{{campaign.flat_count}}</td>
                            <td style="width:100px;" class="col-md-2">{{campaign.total_leads}}</td>
                            <td style="width:100px;" class="col-md-2">{{campaign.hot_leads}}</td>
                            <td>
                              <button class="btn btn-danger"
                                ng-click="viewLeadsForSelectedCampaign(campaign,campaign.campaign_id)">View
                                Leads</button>
                            </td>
                            <td>
                              <button class="btn btn-danger" ng-click="getFormDetails(campaign.campaign_id, 'email')"
                                data-target="#sendEmailModal" data-toggle="modal">Email Leads</button>
                            </td>
                            <td>
                              <button class="btn btn-danger" ng-click="getFormDetails(campaign.campaign_id)"
                                data-target="#sendEmailModal" data-toggle="modal">Download Leads</button>
                            </td>
                          </tr> -->

                        <!-- </tbody> -->
                      </tbody>
                    </table>
                    <div ng-if="transactionalTemplateData.length == 0">
                      <h4 style="text-align: center; color: red; margin-top: 10px;">
                        No Record.
                      </h4>
                    </div>
                  </div>
                  <center>
                    <a href=" {{APIBaseUrl}}v0/ui/mca-bot/download-template-summary/"><button style="margin: 10px;"
                        data-toggle="modal" type="button" class="btn btn-danger">Download
                        Summary
                      </button>
                    </a>
                  </center>
                </div>
                <!--/First Page-->

                <!--Second Page-->
                <div ng-if="viewTemplateSummaryTable">
                  <div class="panel panel-default">
                    <div class="col-md-12 ">
                      <div ng-model="viewDaywise" ng-change="getTransactionalTemplateViewDetail()"
                        style="color: #8e1921; text-align: center; margin: 10px; text-transform:capitalize">
                        <h4><b>Template Name: </b>{{view_template.template_name}}</h4>
                        <h5><b>Template ID: </b>{{view_template.template_id}}</h5>
                      </div>
                      <!--clender + back button-->
                      <div class="col-md-12" print-remove style="margin-top: 10px; margin-bottom: 10px;">
                        <div class="col-md-3 col-sm-2 d-flex mobile-p-0 mobile-m-5">
                          <input type="text" style="color:#000000; margin-bottom: 0px;" class="field"
                            uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY" ng-change="changeStartDate()"
                            ng-model="dateRangeModel.start_dates" is-open="isDatepickerOpen"
                            datepicker-options="datepickerOptions" ng-required="true" close-text="Close"
                            alt-input-formats="altInputFormats">
                          <button type="button" style="margin-bottom: 0px !important ;margin-left: 15px"
                            class="pl-2 smallBtn calendar" ng-click="isDatepickerOpen = !isDatepickerOpen">
                            <i class="glyphicon glyphicon-calendar"></i>
                          </button>
                        </div>
                        <div class="col-md-3 col-sm-2 d-flex mobile-p-0 mobile-m-5">
                          <input type="text" style="color:#000000; margin-bottom: 0px;" class="field"
                            uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY" ng-change="changeEndDate()"
                            ng-model="dateRangeModel.end_dates" is-open="isEndDateOpen" datepicker-options="options"
                            ng-required="true" close-text="Close" alt-input-formats="altInputFormats">
                          <button type="button" style="margin-bottom: 0px !important ;margin-left: 15px"
                            class="pl-2 smallBtn calendar" ng-disabled="!dateRangeModel.start_dates"
                            ng-click="isEndDateOpen = !isEndDateOpen">
                            <i class="glyphicon glyphicon-calendar"></i>
                          </button>
                        </div>
                        <div class="col-md-1 col-sm-1">
                          <button class="btn btn-danger"
                            ng-disabled="!dateRangeModel.start_dates && !dateRangeModel.end_dates"
                            ng-click="getTransactionalTemplateViewDetail(view_template.template_id,next_page,view_template.template_name,dateRangeModel.start_dates,dateRangeModel.end_dates)">
                            Submit</button>
                        </div>
                        <div class="col-md-5 col-sm-5 mobile-p-10 mobile-m-5">
                          <div style="text-align: right;">
                            <button class="btn btn-danger" ng-click="backToTemplateData()">Back To Template</button>
                          </div>
                        </div>
                      </div>
                      <!--end of clender + back button-->
                    </div>
                  </div>
                  <!-- <input type="text" class="form-control " placeholder="search"
                    ng-change="getTransactionalTemplateViewDetail(template_id,viewSearch,pagination.current)"
                    ng-model="viewSearch" ng-if="template_id"> -->
                  <div class="table-responsive" style="width: 100%; overflow-y: scroll;" ng-model="viewDaywise"
                    ng-change="getTransactionalTemplateViewDetail()">
                    <!-- <div  ng-model="viewDaywise" ng-change="getTransactionalTemplateViewDetail()" style="color: #8e1921; text-align: center; margin: 10px;" >
                    <h2>Template Name:{{view_template.template_name}}</h2>
                    <h3 ><b>Template ID:{{view_template.template_id}}</b></h3>
                  </div> -->
                    <!-- <input type="text" class="form-control " placeholder="search"
                      ng-change="getTransactionalTemplateViewDetail()" ng-model="formData.activesearch"
                      > -->

                    <!-- <div>
                      <span ng-show="transactionalTemplateDropdown.bot" style="color:black">
                        <h4>BOT:{{transactionalTemplateDropdown.bot}}</h4>
                      </span><br>
                      <span ng-show="transactionalTemplateDropdown.location" style="color:black">
                        <h4>Location:{{transactionalTemplateDropdown.location}}</h4>
                      </span><br>
                      <span ng-show="transactionalTemplateDropdown.pinCode" style="color:black">
                        <h4>PinCode:{{transactionalTemplateDropdown.pinCode}}</h4>
                      </span><br>
                      <span ng-show="transactionalTemplateDropdown.typeofCustomer" style="color:black">
                        <h4>Type of Customer:{{transactionalTemplateDropdown.typeofCustomer}}</h4>
                      </span><br>
                      <span ng-show="transactionalTemplateDropdown.category" style="color:black">
                        <h4>Category:{{transactionalTemplateDropdown.category}}</h4>
                      </span><br>

                    </div> -->
                    <table class="table">
                      <thead>
                        <tr>
                          <th style="padding:10px">Index</th>
                          <th style="padding:10px" ng-click="Sort('start_date')">Sent Date
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_users')">Sent(Unique Count)
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_delivered')">Delivered
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_read')">Read
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('unique_button_count')">Unique Count
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_positive')">B1
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_neutral')">B2
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="Sort('total_negative')">B3
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px">View</th>
                          <th style="padding:10px">Download User</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          dir-paginate="tdtemplate in transactionalTemplateDataDetail | orderBy:sort:reversesort | itemsPerPage:itemsPerPage"
                          total-items="totalCount" current-page="pagination.current" track by "$index">

                          <td style="text-align: center;">{{$index+serial}}</td>
                          <td style="text-align: center;">{{tdtemplate.sent_date | date : "dd-MM-yyyy"}}</td>
                          <td style="text-align: center;">{{tdtemplate.total_users}}({{tdtemplate.Unique_send}})</td>
                          <td style="text-align: center;">{{tdtemplate.total_delivered}}</td>
                          <td style="text-align: center;">{{tdtemplate.total_read}}</td>
                          <td style="text-align: center;">{{tdtemplate.unique_button_count}}</td>
                          <td style="text-align: center;">{{tdtemplate.total_positive}}</td>
                          <td style="text-align: center;">{{tdtemplate.total_neutral}}</td>
                          <td style="text-align: center;">{{tdtemplate.total_negative}}</td>
                          <td style="text-align: center;"><button
                              ng-click="getTransactionalTemplateUserDetail(view_template.template_id,tdtemplate.sent_date,1,view_template.template_name)"
                              data-toggle="modal" type="button" class="btn btn-danger">View
                            </button>
                          </td>
                          <td style="text-align: center;">
                            <a
                              ng-href="{{APIBaseUrl}}v0/ui/mca-bot/download-template-user-summary/?template_id={{tdtemplate.template_id}}&date={{tdtemplate.sent_date}}">
                              <button data-toggle="modal" type="button" class="btn btn-danger">Download
                              </button>
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div ng-if="transactionalTemplateDataDetail.length == 0">
                      <h4 style="text-align: center; color: red;">
                        No Record.
                      </h4>
                    </div>

                  </div>

                  <!-- <center> -->
                  <!-- <dir-pagination-controls max-size="2" on-page-change="pageChanged(newPageNumber)"
                        boundary-links="true">
                      </dir-pagination-controls> -->
                  <!-- 
                    <dir-pagination-controls max-size="2"
                      on-page-change="viewSummryPageChanged(template_id,viewSearch,pagination.current)"
                      boundary-links="true">
                    </dir-pagination-controls>
                  </center> -->

                </div>
                <!--/Second Page-->


                <!--Third Page-->
                <!-- <div ng-if="!viewTemplateSummaryTable"> -->
                <div ng-if="viewUserSummaryTable">
                  <div class="panel panel-default">
                    <div ng-model="userSearch" ng-change="getTransactionalTemplateUserDetail()"
                      style="color: #8e1921; text-align: center; margin: 10px; text-transform: capitalize; ">
                      <h4><b>Template Name: </b>{{user_view.template_name}}</h4>
                      <h5><b>Sent Date: </b>{{user_view.sent_date | date : "dd-MM-yyyy"}}</h5>
                    </div>
                    <div style="margin: 10px;text-align: right;">
                      <button class="btn btn-danger"
                        ng-click="backToDatewiseData(user_view.template_id,1,user_view.template_name,s_date='', e_date='')">Back
                        To Previous</button>
                    </div>
                  </div>

                  <input type="text" class="form-control " placeholder="search" ng-model="userSearch"
                    ng-change="getTransactionalTemplateUserDetail(user_view.template_id,user_view.sent_date,pagination.current,user_view.template_name,userSearch)">
                  <br>
                  <div class="table-responsive" style="width: 100%;overflow-y: scroll;" ng-model="userSearch"
                    ng-change="getTransactionalTemplateViewDetail()">

                    <table class="table templateUserSummary">
                      <thead>
                        <tr>
                          <th style="padding:10px">Index</th>
                          <th style="padding:10px">User Name</th>
                          <th style="padding:10px">What's app Name</th>
                          <th style="padding:10px">Phone Number</th>
                          <th style="padding:10px" ng-click="SortFromBackend('total_positive')">B1
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="SortFromBackend('total_neutral')">B2
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px" ng-click="SortFromBackend('total_negative')">B3
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px">Status
                            <!-- <i class="icon-sort" style="color:white;"></i> -->
                          </th>
                          <th style="padding:10px;" ng-click="Sort('updated_at')">Responsed At
                            <i class="icon-sort" style="color:white;"></i>
                          </th>
                          <th style="padding:10px">Call Status</th>
                          <th style="padding:10px">Agent Name</th>
                          <th style="padding:10px">Comments</th>
                          <th style="padding:10px">Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          dir-paginate=" tmp in transactionalTemplateUserData| itemsPerPage:itemsPerPage | orderBy:sort:reversesort"
                          total-items="totalCount" current-page="pagination.current" track by "$index">

                          <td style="text-align: center;">{{$index+serial}}</td>
                          <td style="text-align: center;">{{tmp.user_name}}</td>
                          <td style="text-align: center;">{{tmp.whatsapp_name}}</td>
                          <td style="text-align: center;">{{tmp.phone_number}}</td>
                          <td style="text-align: center;">{{tmp.total_positive}}</td>
                          <td style="text-align: center;">{{tmp.total_neutral}}</td>
                          <td style="text-align: center;">{{tmp.total_negative}}</td>
                          <td style="text-align: center;">{{tmp.status}}</td>
                          <!-- <td style="text-align: center;">{{tmp.created_at}}</td> -->
                          <td style="text-align: center; line-height: 1.5; width: 100px;">{{tmp.updated_at}}</td>
                          <td style="text-align: center;">
                            <select class="form-control" value="tmp.call_status" ng-model="tmp.call_status"
                              ng-change="updateCallStatus(tmp.call_status,tmp)">
                              <option value="">Select Status</option>
                              <option value="{{value}}" ng-repeat="value in CallStatusList">{{value}}</option>
                            </select>
                          </td>
                          <td style="text-align: center;">
                            {{tmp.agent_name}}
                          </td>
                          <td style="text-align: center;">
                            <!-- {{tmp.comment.length>0?tmp.comment[tmp.comment.length-1].comment:'NA'}} -->
                            <p style="color: #000;">{{ tmp.comment[tmp.comment.length-1].comment | limitTo: 20
                              }}<span>{{tmp.comment[tmp.comment.length-1].comment.length > 20 ? '  ...' : ''}}
                                <md-tooltip class="tool-box">{{tmp.comment[tmp.comment.length-1].comment}}</md-tooltip>
                              </span>
                            </p>
                          </td>
                          <td style="text-align: center;">
                            <i class='fas fa-phone-alt' style="font-size:20px;color: #000000;" ng-click="CallTemplate(tmp)"></i>
                            <!-- <a ng-click="userDetail(tmp)">Intervene</a> -->
                            <!-- <a  ng-click="userDetail(tmp)" href="#/interveneTemplate/{{tmp.phone_number}}">Chat</a> -->
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div ng-if="transactionalTemplateUserData.length == 0">
                      <h4 style="text-align: center; color: red;">
                        No Record.
                      </h4>
                    </div>

                  </div>

                  <center>
                    <dir-pagination-controls max-size="2" ng-model="userSearch"
                      on-page-change="viewUserPageChanged(user_view.template_id,user_view.sent_date,pagination.current,user_view.template_name,userSearch)"
                      boundary-links="true">
                    </dir-pagination-controls>
                  </center>
                </div>
                <!-- CallTemplate Modal Start -->
                <div id="CallTemplate" class="modal fade theme-modal">
                  <div class="modal-dialog quick-call-model">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Quick Call</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="row quick-call-form">
                        <!-- <hr style="border: 1px solid ; border-width: 1px 0px 0px 0px"> -->
                        <div class="col-md-6" style="border-right: 1px solid #0000008c">
                          <form name="myForm" ng-submit="OnQuickCall(CallModel)">
                            <div class=" ">
                              <div class="row">
                                <div class="col-md-12">
                                  <div class="form-group">
                                    <label> Phone Number</label>
                                    <input class="form-control" disabled ng-model="CallModel.destination_number"
                                      placeholder="Phone Number" type="text">
                                  </div>
                                </div>
                                <div class="col-md-12">
                                  <div class="form-group">
                                    <label> Select Agent</label>
                                    <select class="form-control" ng-model="CallModel.agent_number" name="Agent"
                                      required>
                                      <option value="">Select Agent</option>
                                      <option value="{{value.follow_me_number}}"
                                        ng-repeat="value in DialerAgentList.data">
                                        {{value.name}}</option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-md-12">
                                  <div class="form-group">
                                    <label> Select Number</label>
                                    <select class="form-control" ng-model="CallModel.caller_id" name="Number" required>
                                      <option value="">Select Number</option>
                                      <option value="{{value.tollfree_number}}" ng-repeat="value in DialerCallerIds">
                                        {{value.tollfree_number}}</option>
                                    </select>
                                  </div>
                                </div>

                              </div>
                            </div>
                            <div class="modal-footer text-center">
                              <button type="submit" style="margin-top: 10px;"
                                class="btn btn-danger smll-btn-cmt">Call</button>
                            </div>
                          </form>
                        </div>
                        <div class="col-md-6">
                          <div class="">
                            <div class="form-group d-flex align-items-center">
                              <label style="    white-space: nowrap; margin-right: 12px;"> Select Status</label>
                              <select class="form-control" value="viewComments.call_status"
                                ng-model="viewComments.call_status"
                                ng-change="updateCallStatus(viewComments.call_status,viewComments)">
                                <option value="">Select Status</option>
                                <option value="{{value}}" ng-repeat="value in CallStatusList">{{value}}</option>
                              </select>
                            </div>
                          </div>
                          <h4 style="font-size: 14x !important; font-weight: 600;">View Comments</h4>
                          <div class="table-h-scroll">
                            <table class="table-data">
                              <tr ng-repeat="item in viewComments.comment">
                                <td>
                                  <div>
                                    <p style="color: #000;">{{item.comment}}</p>
                                  </div>
                                  <div>
                                    <img ng-src="{{userIcon}}">
                                    <!-- <b>{{userInfo.username}}:</b> -->
                                    <b>{{item.user}}:</b>
                                    <span><small>{{item.date|date:'medium'}}</small></span>
                                  </div>
                                </td>
                              </tr>
                            </table>
                          </div>
                          <div style="margin-top: 10px;">
                            <textarea style="margin-bottom: 0px !important;" class="field" rows="2" cols="200"
                              ng-model="UserComment.comment" value="UserComment" placeholder="Write here.."></textarea>
                            <button style="margin-top: 10px;" class="btn btn-danger smll-btn-cmt" type="button"
                              ng-click="AddUserComment(UserComment)">Add
                              Comment</button>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <!--CallTemplate Modal End  -->
                <!--/Third Page-->

                <!-- </div> -->
                <div id="viewModal" class="modal fade">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" ng-if="submitLeadType">{{campaignNameOnImageModal}} Send Leads To Email</h4> -->
                        <div style="display: flex; padding: 10px 0px; ">
                          <h5 style="width: 70%;"><b>BOT Name : </b>MCA </h5><br>
                          <h5 class="modal-title" ng-change="getFormUpload()" style="text-transform: capitalize;">
                            <b>Template Name :
                            </b>{{current_template.template_name}}
                          </h5><br>
                          <span>
                            <button data-target="#messageViewModal" data-toggle="modal" type="button" name="button"
                              class="btn btn-primary">View Message
                            </button>
                          </span>
                        </div>
                        <div class="modal-body">
                          <div>
                            <div class="check-field" style="padding: 10px;">
                              <table class="table">
                                <thead>
                                  <tr>
                                    <th>Sr. No.</th>
                                    <th>Column No.</th>
                                    <th>Column Name</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td style="text-align: center;">1</td>
                                    <td style="text-align: center;">1</td>
                                    <td style="text-align: center;">Name</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">2</td>
                                    <td style="text-align: center;">2</td>
                                    <td style="text-align: center;">Designation</td>
                                  </tr>
                                  <tr>
                                    <td style="text-align: center;">3</td>
                                    <td style="text-align: center;">3</td>
                                    <td style="text-align: center;">City</td>
                                  </tr>
                                </tbody>
                              </table>

                            </div>
                            <br>
                            <center>
                              <!-- <button type="button" name="button" class="btn btn-danger"
                                ng-click="getFormUpload(current_template.template_id)">Upload CSV</button> -->
                              <form method="post">
                                <input type="file" id="myFile" name="filename" accept=".csv"
                                  ngf-select="uploadFiles($file)">
                                <div style="padding-top: 15px;">
                                  <button type="button" name="button" class="btn btn-danger"
                                    ng-click="getFormUpload(current_template.template_id)">Send
                                    <!-- <input type="submit"> -->
                                  </button>
                                </div>
                              </form>
                            </center>
                            <br>
                            <center>
                              <h5 style="color: #8e1921;"><b><u>-:Note:-</u> </b></h5>
                              <div style="text-align: center;">
                                <h6><b> 1.Please Upload CSV File.</b></h6>
                                <b>
                                  <h6> 2.Upload opted in CSV file using above format.
                                </b></h6>
                              </div>


                            </center>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- <div class="viewLeadstable" ng-if="!showCampaigns"> -->
                <!-- <button class="btn btn-danger" ng-click="backToCampaign()">Back To Campaigns</button> -->
                <!-- </br><br>
                  <input type="text" class="form-control" ng-model="searchData" placeholder="search">
                  <div class="table-responsive">
                    <div class="panel-heading content-title" style="height:70px">
                      <h3 style="background:'red'">Leads of {{CampaignNameofLeads}}</h3>
                      <div class="row">
                        <span class="pull-left"><label for="heading"><small>Campaign Owner :
                            </small><span><small>{{campaignOwner}}</small> </span></label></span>
                        <span class="pull-right"><label for="heading"><small>Principal Vendor :
                            </small><span><small>{{principalVendor}}</small></span></label></span>
                      </div>
                    </div>
                    <br />
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Index</th>
                          <th ng-repeat="header in selectedCampaignLeads.headers">{{header.key_name}}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          dir-paginate="lead in selectedCampaignLeads.values | filter : searchData | filter : Code | itemsPerPage:20 track by $index">
                          <td>{{$index + 1}}</td>
                          <td ng-repeat="alias in lead">{{alias.value}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div> -->
                <!-- <br /><br />
                <div style="text-align:center">
                  <dir-pagination-controls max-size="7" direction-links="true" boundary-links="true">
                  </dir-pagination-controls>
                </div>
                <br /> <br />
                <button ng-if="!showCampaigns" class="btn btn-danger"
                  ng-click="getPrintLeadsInExcelData(campaignIdForLeads)" data-target="#printLeadsInExcelModal"
                  data-toggle="modal">Print Leads In Excel</button> -->

                <div id="messageViewModal" class="modal fade">
                  <div class="modal-dialog">
                    <div class="modal-content" style="top:30px; margin: 5px 15px;">
                      <div class="modal-header">
                        <center>
                          <h5 style="width: 70%;"><b>BOT Name : </b>MCA </h5><br>
                        </center>
                        <div class="modal-body">

                        </div>
                      </div>
                    </div>
                  </div>
                </div>




              </div>

              <!--Footer-->
              <div class="page-end">
                <center>
                  <div class="content">

                    <p style="margin-bottom:10px;">
                      <b style="font-size:x-large;  text-decoration: underline; color: #000000; ">-:NOTE:-</b>
                    <ol>

                      <div class="row">
                        <div class="col-xs-4">
                          <b>1. Days Sent</b>: Total Templates (Days sent)
                        </div>
                        <div class="col-xs-4">
                          <b>2.Template Sent</b> : Total Template Sent
                        </div>
                        <div class="col-xs-4">
                          <b>3. Send Template</b>: Upload User Sheet
                        </div>
                      </div>
                      <br>
                      <div class="row">
                        <div class="col-xs-4">
                          <b>4. Positive</b> : Total positive Response
                        </div>
                        <div class="col-xs-4">
                          <b> 5. Neutral </b>: Total Neutral Response
                        </div>
                        <div class="col-xs-4">

                        </div>
                        <b>6. Negative </b>:Total Negative Response
                      </div>
                      <br>
                      <div class="row">
                        <div class="col-xs-4">
                          <b>7. Details </b>: View Template Details
                        </div>
                        <div class="col-xs-4">
                          <b>8. Download </b>: Download Response(Date Wise)
                        </div>
                        <div class="col-xs-4">
                          <b>9. Download User </b>: Download User Response
                        </div>
                      </div>
                    </ol>
                    </p>
                  </div>
                </center>
              </div>
              <!--/Footer-->

            </uib-tab>
            <!--/Transactional template tab-->

            <!-- START : BOOKING ENGINE -->
            <uib-tab ng-click="getCampaigns()" index="3">
              <uib-tab-heading>
                <h5>End User</h5>
              </uib-tab-heading>
              <div class="container-fluid">

                <div class="row">
                  <div class="panel panel-default" style="color:'0000ff'">
                    <div class="col-md-12">
                      <div class="panel-heading" style="background:#cb1925 !important">
                        Pipeline Details
                      </div>
                      <br />
                      <div class="col-md-3">
                        <div class="panel-group" id="accordion">
                          <div class="panel panel-default">
                            <div class="row" style="width:100%;margin-left:0px;">
                              <h4 class="panel-title">
                                <select class="form-control" ng-model="selectedVendor.name"
                                  ng-change="getCampaignsByVendor()">
                                  <option value="">Select Vendor</option>
                                  <option value="{{vendor.vendor_id}}">All</option>
                                  <option value="{{vendor.vendor_id}}" ng-repeat="vendor in vendorsData">
                                    {{vendor.principal_vendor}}</option>
                                </select>
                              </h4>
                            </div>
                            <div class="animate-show">
                              <div class="panel-bodyDashboard camp-menu-content">
                                <table class="table">
                                  <tr ng-repeat="vendors in vendorsData">
                                    {{vendors}}
                                  </tr>
                                </table>
                              </div>
                            </div>

                            <div class="panel panel-default">
                              <div class="row" style="width:100%;margin-left:0px; margin-top:8px;">
                                <h4 class="panel-title">
                                  <select class="form-control" name="supplierType" ng-model="selectedSupplierType.code"
                                    value="supplierType.value" ng-change="setSupplierType()">
                                    <option value="">Select Supplier Type</option>
                                    <option value="{{supplierType.value}}"
                                      ng-selected="selectedSupplierType == supplierType.value"
                                      ng-repeat="supplierType in supplierTypeCode">{{supplierType.name}}</option>
                                  </select>
                                </h4>
                              </div>
                            </div>
                          </div>
                          <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.ongoing.status)">
                            <div class="panel-heading">
                              <h4 class="panel-title">
                                Ongoing Campaigns
                              </h4>
                            </div>
                            <div id="ongoing" class="animate-show" ng-show="campaignStatus.ongoing.value">
                              <div class="panel-bodyDashboard camp-menu-content">
                                <table class="table">
                                  <tr ng-repeat="campaign in campaignData.ongoing_campaigns | orderBy: 'name'">
                                    <td ng-click="getBookingCampaigns(campaign)">
                                      {{campaign.name}}
                                    </td>
                                  </tr>
                                </table>
                              </div>
                            </div>
                          </div>

                          <div class="panel panel-default">
                            <div class="panel-heading" ng-click="getCampaignsMenu(campaignStatus.upcoming.status)">
                              <h4 class="panel-title">
                                Upcoming Campaigns
                              </h4>
                            </div>
                            <div id="upcoming" class="animate-show" ng-show="campaignStatus.upcoming.value">
                              <div class="panel-bodyDashboard camp-menu-content">
                                <table class="table">
                                  <tr ng-repeat="campaign in campaignData.upcoming_campaigns | orderBy: 'name'">
                                    <td ng-click="getBookingCampaigns(campaign)">
                                      {{campaign.name}}
                                    </td>
                                  </tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="col-md-9 campaigndetailtable">
                        <div class="" ng-if="!selectedBookingCampaignName">
                          <label>Please Select the Campaign</label>
                        </div>
                        <div class="panel-heading" ng-if="selectedBookingCampaignName"
                          style="background:#cb1925 !important;height:70px;">
                          <h3>{{selectedBookingCampaignName}}</h3>
                          <div class="row">
                            <span class="pull-left"><label for="heading"><small>Campaign Owner :
                                </small><span><small>{{campaignOwner}}</small> </span></label></span>
                            <span class="pull-right"><label for="heading"><small>Principal Vendor :
                                </small><span><small>{{principalVendor}}</small></span></label></span>
                          </div>
                        </div>

                        <div class="campaigndetailtable" ng-if="bookingPhases">
                          <div class="table-responsive">
                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'B to C'">
                              <thead>
                                <tr>
                                  <!-- <th><small>Phase Details</small></th>
                <th><small>Confirmed Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Verbally Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Followup Required <br>(Total {{flat_count_header}})</small></th>
                <th><small>Total <br>(Total {{flat_count_header}})</small></th> -->
                                  <th>
                                    <small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].phase_details}}</small>
                                  </th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].confirmed_booked}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].verbally_booked}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].followup_required}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-if="bookingPhases.last_completed_phase">
                                  <td>
                                    <div class="">
                                      <small>Last Completed Phase No :
                                        {{bookingPhases.last_completed_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.last_completed_phase.start_date|limitTo:14|date:mediumDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.last_completed_phase.end_date|limitTo:14|date:mediumDate}}</small>
                                    </div>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.confirmed_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.confirmed_booked.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.confirmed_booked.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.confirmed_booked.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.confirmed_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.verbally_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.verbally_booked.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.verbally_booked.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.verbally_booked.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.verbally_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.followup_required.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.followup_required.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.followup_required.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.followup_required.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.followup_required.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-if="bookingPhases.ongoing_phase">
                                  <td>
                                    <div class="">
                                      <small>Ongoing Phase No : {{bookingPhases.ongoing_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.ongoing_phase.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.ongoing_phase.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.confirmed_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.confirmed_booked.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.confirmed_booked.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.confirmed_booked.flat_count}})
                                      </a></small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.confirmed_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.verbally_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.verbally_booked.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.verbally_booked.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.verbally_booked.flat_count}})</small>
                                    </a>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.verbally_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.followup_required.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.followup_required.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.followup_required.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.followup_required.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.followup_required.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.ongoing_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-repeat="item in bookingPhases.upcoming_phases"
                                  ng-if="bookingPhases.upcoming_phases.length">
                                  <td>
                                    <div class="">
                                      <small>Upcoming Phase No : {{item.phase_no}}</small> </br>
                                      <small>Start Date : {{item.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date : {{item.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="item.confirmed_booked.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.confirmed_booked.supplier_data,'Upcoming Phase')">
                                        {{item.confirmed_booked.supplier_count}}
                                        ({{item.confirmed_booked.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.confirmed_booked.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.verbally_booked.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.verbally_booked.supplier_data,'Upcoming Phase')">
                                        {{item.verbally_booked.supplier_count}}
                                        ({{item.verbally_booked.flat_count}})</a></small></td>
                                  <td ng-if="item.verbally_booked.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.followup_required.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.followup_required.supplier_data,'Upcoming Phase')">
                                        {{item.followup_required.supplier_count}}
                                        ({{item.followup_required.flat_count}})</small></td>
                                  <td ng-if="item.followup_required.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.total_pipeline.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.total_pipeline.supplier_data,'Upcoming Phase')">
                                        {{item.total_pipeline.supplier_count}} ({{item.total_pipeline.flat_count}})
                                      </a></small></td>
                                  <td ng-if="item.total_pipeline.supplier_data.length == 0"><small>0</small></td>
                                </tr>
                              </tbody>
                            </table>

                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'B to B'">
                              <thead>
                                <tr>
                                  <!-- <th><small>Phase Details</small></th>
                  <th><small>Confirmed Booked <br>(Total {{flat_count_header}})</small></th>
                  <th><small>Verbally Booked <br>(Total {{flat_count_header}})</small></th>
                  <th><small>Followup Required <br>(Total {{flat_count_header}})</small></th>
                  <th><small>Total <br>(Total {{flat_count_header}})</small></th> -->
                                  <th>
                                    <small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].phase_details}}</small>
                                  </th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].decision_pending}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].meeting_fixed}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].meeting_converted}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-if="bookingPhases.last_completed_phase">
                                  <td>
                                    <div class="">
                                      <small>Last Completed Phase No :
                                        {{bookingPhases.last_completed_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.last_completed_phase.start_date|limitTo:14|date:mediumDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.last_completed_phase.end_date|limitTo:14|date:mediumDate}}</small>
                                    </div>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.decision_pending.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.decision_pending.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.decision_pending.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.decision_pending.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.decision_pending.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.meeting_fixed.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.meeting_fixed.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.meeting_fixed.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.meeting_fixed.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.meeting_fixed.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.meeting_converted.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.meeting_converted.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.meeting_converted.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.meeting_converted.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.meeting_converted.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-if="bookingPhases.ongoing_phase">
                                  <td>
                                    <div class="">
                                      <small>Ongoing Phase No : {{bookingPhases.ongoing_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.ongoing_phase.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.ongoing_phase.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.decision_pending.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.decision_pending.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.decision_pending.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.decision_pending.flat_count}})
                                      </a></small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.decision_pending.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.meeting_fixed.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.meeting_fixed.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.meeting_fixed.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.meeting_fixed.flat_count}})</small>
                                    </a>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.meeting_fixed.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.meeting_converted.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.meeting_converted.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.meeting_converted.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.meeting_converted.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.meeting_converted.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.ongoing_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-repeat="item in bookingPhases.upcoming_phases"
                                  ng-if="bookingPhases.upcoming_phases.length">
                                  <td>
                                    <div class="">
                                      <small>Upcoming Phase No : {{item.phase_no}}</small> </br>
                                      <small>Start Date : {{item.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date : {{item.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="item.decision_pending.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.decision_pending.supplier_data,'Upcoming Phase')">
                                        {{item.decision_pending.supplier_count}}
                                        ({{item.decision_pending.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.decision_pending.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.meeting_fixed.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.meeting_fixed.supplier_data,'Upcoming Phase')">
                                        {{item.meeting_fixed.supplier_count}}
                                        ({{item.meeting_fixed.flat_count}})</a></small></td>
                                  <td ng-if="item.meeting_fixed.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.meeting_converted.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.meeting_converted.supplier_data,'Upcoming Phase')">
                                        {{item.meeting_converted.supplier_count}}
                                        ({{item.meeting_converted.flat_count}})</small></td>
                                  <td ng-if="item.meeting_converted.supplier_data.length == 0"><small>0</small></td>
                                  <td ng-if="item.total_pipeline.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.total_pipeline.supplier_data,'Upcoming Phase')">
                                        {{item.total_pipeline.supplier_count}} ({{item.total_pipeline.flat_count}})
                                      </a></small></td>
                                  <td ng-if="item.total_pipeline.supplier_data.length == 0"><small>0</small></td>
                                </tr>
                              </tbody>
                            </table>

                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'Others'">
                              <thead>
                                <tr>

                                  <th>
                                    <small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].phase_details}}</small>
                                  </th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].complete_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].emergency_situation}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].open}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].partial_building_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].partial_floor_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].partial_house_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.summary_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-if="bookingPhases.last_completed_phase">
                                  <td>
                                    <div class="">
                                      <small>Last Completed Phase No :
                                        {{bookingPhases.last_completed_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.last_completed_phase.start_date|limitTo:14|date:mediumDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.last_completed_phase.end_date|limitTo:14|date:mediumDate}}</small>
                                    </div>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.complete_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.complete_lockdown.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.complete_lockdown.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.complete_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.complete_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.emergency_situation.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.emergency_situation.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.emergency_situation.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.emergency_situation.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.emergency_situation.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.last_completed_phase.open.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.open.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.open.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.open.flat_count}})
                                      </a></small>
                                  </td>
                                  <td ng-if="bookingPhases.last_completed_phase.open.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_building_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.partial_building_lockdown.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.partial_building_lockdown.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.partial_building_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_building_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_floor_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.partial_floor_lockdown.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.partial_floor_lockdown.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.partial_floor_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_floor_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_house_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.partial_house_lockdown.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.partial_house_lockdown.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.partial_house_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.partial_house_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.last_completed_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.last_completed_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.last_completed_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.last_completed_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-if="bookingPhases.ongoing_phase">
                                  <td>
                                    <div class="">
                                      <small>Ongoing Phase No : {{bookingPhases.ongoing_phase.phase_no}}</small> </br>
                                      <small>Start Date :
                                        {{bookingPhases.ongoing_phase.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date :
                                        {{bookingPhases.ongoing_phase.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.complete_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.complete_lockdown.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.complete_lockdown.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.complete_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.complete_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.ongoing_phase.emergency_situation.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.emergency_situation.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.emergency_situation.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.emergency_situation.flat_count}})</small>
                                    </a>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.emergency_situation.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.open.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.open.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.open.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.open.flat_count}})</small></td>
                                  <td ng-if="bookingPhases.ongoing_phase.open.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_building_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.partial_building_lockdown.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.partial_building_lockdown.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.partial_building_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_building_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_floor_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.partial_floor_lockdown.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.partial_floor_lockdown.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.partial_floor_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_floor_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_house_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.partial_house_lockdown.supplier_data,'Ongoing Phase')">
                                        {{bookingPhases.ongoing_phase.partial_house_lockdown.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.partial_house_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.ongoing_phase.partial_house_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>



                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.ongoing_phase.total_pipeline.supplier_data,'Last Completed Phase')">
                                        {{bookingPhases.ongoing_phase.total_pipeline.supplier_count}}
                                        ({{bookingPhases.ongoing_phase.total_pipeline.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.ongoing_phase.total_pipeline.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                                <tr ng-repeat="item in bookingPhases.upcoming_phases"
                                  ng-if="bookingPhases.upcoming_phases.length">
                                  <td>
                                    <div class="">
                                      <small>Upcoming Phase No : {{item.phase_no}}</small> </br>
                                      <small>Start Date : {{item.start_date|limitTo:10|date:fullDate}}</small></br>
                                      <small>End Date : {{item.end_date|limitTo:10|date:fullDate}}</small>
                                    </div>
                                  </td>
                                  <td ng-if="item.complete_lockdown.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.complete_lockdown.supplier_data,'Upcoming Phase')">
                                        {{item.complete_lockdown.supplier_count}}
                                        ({{item.complete_lockdown.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.complete_lockdown.supplier_data.length == 0"><small>0</small></td>


                                  <td ng-if="item.emergency_situation.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.emergency_situation.supplier_data,'Upcoming Phase')">
                                        {{item.emergency_situation.supplier_count}}
                                        ({{item.emergency_situation.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.emergency_situation.supplier_data.length == 0"><small>0</small></td>

                                  <td ng-if="item.open.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.open.supplier_data,'Upcoming Phase')">
                                        {{item.open.supplier_count}} ({{item.open.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.open.supplier_data.length == 0"><small>0</small></td>

                                  <td ng-if="item.partial_building_lockdown.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.partial_building_lockdown.supplier_data,'Upcoming Phase')">
                                        {{item.partial_building_lockdown.supplier_count}}
                                        ({{item.partial_building_lockdown.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.partial_building_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td ng-if="item.partial_floor_lockdown.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.partial_floor_lockdown.supplier_data,'Upcoming Phase')">
                                        {{item.partial_floor_lockdown.supplier_count}}
                                        ({{item.partial_floor_lockdown.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.partial_floor_lockdown.supplier_data.length == 0"><small>0</small>
                                  </td>

                                  <td ng-if="item.partial_house_lockdown.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.partial_house_lockdown.supplier_data,'Upcoming Phase')">
                                        {{item.partial_house_lockdown.supplier_count}}
                                        ({{item.partial_house_lockdown.flat_count}})</a>
                                    </small> </td>
                                  <td ng-if="item.partial_house_lockdown.supplier_data.length == 0"><small>0</small>
                                  </td>


                                  <td ng-if="item.total_pipeline.supplier_data.length != 0"><small><a
                                        ng-click="getSuppliersOfBookingDetails(item.total_pipeline.supplier_data,'Upcoming Phase')">
                                        {{item.total_pipeline.supplier_count}} ({{item.total_pipeline.flat_count}})
                                      </a></small></td>
                                  <td ng-if="item.total_pipeline.supplier_data.length == 0"><small>0</small></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="panel-heading campaigndetailtable" ng-if="bookingPhases"
                            style="background:#cb1925 !important">
                            <h4>Pipelined Suppliers </h4>
                          </div>
                          <div class="table-responsive">
                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'B to C'">
                              <thead>
                                <tr>

                                  <!-- <th><small>Confirmed Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Not Initiated <br>(Total {{flat_count_header}})</small></th>
                <th><small>Followup Required <br>(Total {{flat_count_header}})</small></th>
                <th><small>Verbally Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Rejected <br>(Total {{flat_count_header}})</small></th>
                <th><small>Total <br>(Total {{flat_count_header}})</small></th> -->
                                  <th>
                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].confirmed_booked}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>

                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].not_initiated}}
                                      <br>(Total {{flat_count_header}})</small></th>

                                  <th>
                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].followup_required}}
                                      <br>(Total {{flat_count_header}})</small>

                                  </th>
                                  <th>
                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].verbally_booked}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].rejected}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>

                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.confirmed_booked.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.confirmed_booked.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.confirmed_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>




                                  <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.not_initiated.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.not_initiated.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.not_initiated.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length == 0">
                                    <small>0</small>
                                  </td> -->



                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.followup_required.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.followup_required.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.followup_required.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.followup_required.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.followup_required.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>





                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.verbally_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.verbally_booked.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.verbally_booked.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.verbally_booked.flat_count}})</small>
                                    </a>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.verbally_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>




                                  <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.rejected.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.rejected.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.rejected.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.total_booked.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.total_booked.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.total_booked.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                              </tbody>
                            </table>

                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'B to B'">
                              <thead>
                                <tr>
                                  <!-- <th><small>Confirmed Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Not Initiated <br>(Total {{flat_count_header}})</small></th>
                <th><small>Followup Required <br>(Total {{flat_count_header}})</small></th>
                <th><small>Verbally Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Rejected <br>(Total {{flat_count_header}})</small></th>
                <th><small>Total <br>(Total {{flat_count_header}})</small></th> -->
                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].decision_pending}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>

                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].not_initiated}}
                                      <br>(Total {{flat_count_header}})</small></th>

                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].meeting_converted}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>
                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].meeting_fixed}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].rejected}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>

                                  <!-- <td ng-if="bookingPhases.pipeline_suppliers.decision_pending.supplier_data.length != 0"><small><a ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.decision_pending.supplier_data,'Pipelined')">
                    {{bookingPhases.pipeline_suppliers.decision_pending.supplier_count}} ({{bookingPhases.ongoing_phase.decision_pending.flat_count}})
                    </a></small>
                  </td> -->
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.decision_pending.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.decision_pending.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.decision_pending.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.decision_pending.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.decision_pending.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.not_initiated.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.not_initiated.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.not_initiated.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.not_initiated.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.meeting_converted.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.meeting_converted.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.meeting_converted.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.meeting_converted.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.meeting_converted.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td ng-if="bookingPhases.pipeline_suppliers.meeting_fixed.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.meeting_fixed.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.meeting_fixed.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.meeting_fixed.flat_count}})</small>
                                    </a>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.meeting_fixed.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.rejected.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.rejected.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.rejected.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.rejected.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.total_booked.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.total_booked.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.total_booked.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                              </tbody>
                            </table>

                            <table class="table table-bordered" ng-if="bookingPhases.type_of_end_customer == 'Others'">
                              <thead>
                                <tr>
                                  <!-- <th><small>Confirmed Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Not Initiated <br>(Total {{flat_count_header}})</small></th>
                <th><small>Followup Required <br>(Total {{flat_count_header}})</small></th>
                <th><small>Verbally Booked <br>(Total {{flat_count_header}})</small></th>
                <th><small>Rejected <br>(Total {{flat_count_header}})</small></th>
                <th><small>Total <br>(Total {{flat_count_header}})</small></th> -->
                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].complete_lockdown}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>

                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].emergency_situation}}
                                      <br>(Total {{flat_count_header}})</small></th>

                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].open}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>
                                  <th>

                                    <small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].partial_building_lockdown}}
                                      <br>(Total {{flat_count_header}})</small>
                                  </th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].partial_floor_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].partial_house_lockdown}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                  <th><small>{{bookingPhases.breakup_header[bookingPhases.type_of_end_customer].total}}
                                      <br>(Total {{flat_count_header}})</small></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>

                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.complete_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.complete_lockdown.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.complete_lockdown.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.complete_lockdown.flat_count}})
                                      </a></small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.complete_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.emergency_situation.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.emergency_situation.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.emergency_situation.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.emergency_situation.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.emergency_situation.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td ng-if="bookingPhases.pipeline_suppliers.open.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.open.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.open.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.open.flat_count}})</small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.open.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_building_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.partial_building_lockdown.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.partial_building_lockdown.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.partial_building_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_building_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>


                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_floor_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.partial_floor_lockdown.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.partial_floor_lockdown.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.partial_floor_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_floor_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_house_lockdown.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.partial_house_lockdown.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.partial_house_lockdown.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.partial_house_lockdown.flat_count}})</small>
                                  </td>
                                  <td
                                    ng-if="bookingPhases.pipeline_suppliers.partial_house_lockdown.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>




                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length != 0">
                                    <small><a
                                        ng-click="getSuppliersOfBookingDetails(bookingPhases.pipeline_suppliers.total_booked.supplier_data,'Pipelined')">
                                        {{bookingPhases.pipeline_suppliers.total_booked.supplier_count}}
                                        ({{bookingPhases.pipeline_suppliers.total_booked.flat_count}})
                                      </a>
                                    </small>
                                  </td>
                                  <td ng-if="bookingPhases.pipeline_suppliers.total_booked.supplier_data.length == 0">
                                    <small>0</small>
                                  </td>

                                </tr>
                              </tbody>
                            </table>
                          </div>


                          <div class="campaigndetailtable" ng-if="headerForSupplierBookings">
                            <div class="panel-heading" style="background:#cb1925 !important">
                              {{headerForSupplierBookings}} Supplier Details
                            </div>
                            <div class="table-responsive">
                              <table class="table table-bordered">
                                <thead>
                                  <tr>
                                    <th>Index</th>
                                    <th>Supplier Name</th>
                                    <th>{{flat_count_header}}</th>
                                    <th>{{tower_count_header}}</th>
                                    <th>Type Of</br>Supplier</th>
                                    <th>Area(SubArea)</th>
                                    <th>Status</th>
                                    <th>Map Details</th>
                                    <th>
                                      Comments
                                    </th>
                                    <th>Inventory Counts</th>
                                    <th>Freebies</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr ng-repeat="supplier in bookingSuppliersData | orderBy: 'society_name'">
                                    <td>{{$index + 1}}</td>
                                    <td ng-if="supplier.society_name">{{supplier.society_name}}</td>
                                    <td ng-if="supplier.name">{{supplier.name}}</td>
                                    <td>{{supplier.flat_count}}</td>
                                    <td>{{supplier.tower_count}}</td>
                                    <td>
                                      <span
                                        ng-if="supplier.society_type_quality">{{supplier.society_type_quality}}</span>
                                      <span ng-if="supplier.quality_rating">{{supplier.quality_rating}}</span>
                                    </td>

                                    <!-- <td >
                        <span ng-if="supplier.society_locality">{{supplier.society_locality}} ({{supplier.subarea}})</span>
                        <span ng-if="supplier.locality_rating">{{supplier.locality_rating}} ({{supplier.subarea}})</span>
                       </td> -->
                                    <td>
                                      <span>{{supplier.area}} ({{supplier.subarea}})</span>
                                    </td>
                                    <td>{{supplierBookingStatus[supplier.booking_status] ||'Not Initiated'}}</td>
                                    <td><a
                                        href="https://www.google.com/maps/?q=+{{supplier.latitude}}+{{supplier.longitude}}"
                                        target="_blank">View Details</a></td>
                                    <td>
                                      <div class="comment" ng-if="comments[supplier.space_id]">
                                        <b>{{comments[supplier.space_id].external.username}} </b> <span> <br>
                                          <small>
                                            {{comments[supplier.space_id].external.created_on |
                                            date}}</small></span><br>
                                        <small>{{comments[supplier.space_id].external.comment.slice(0,20)}}</small>
                                      </div>
                                      <br><a ng-click="viewBookingComments(supplier)">View / Add Comments</a>
                                    </td>
                                    <td>Poster : {{supplier.inventory_counts.POSTER}}<br>
                                      Flyer : {{supplier.inventory_counts.FLIER}}<br>
                                      Standee: {{supplier.inventory_counts.STANDEE}}<br>
                                      Stall : {{supplier.inventory_counts.STALL}}
                                    </td>
                                    <td ng-if="supplier.freebies">
                                      <div style="width:130px" class="" ng-repeat="freebies in supplier.freebies">
                                        {{$index + 1}} : {{freebies}}<br>
                                      </div>
                                    </td>
                                    <td ng-if="supplier.freebies === null">No Freebies</td>

                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                          <!-- <div class="row" permission = "[permissions.brandingEmailButton]">
          <button type="button" name="button" class="col-md-12 btn btn-danger" data-toggle="modal" data-target="#sendBookingEngineEmailModal">Click here to Send Emails</button>
         </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </uib-tab>

            <!--START : Performance Metrics -->
            <uib-tab ng-click="getCampaigns()" index="4">
              <uib-tab-heading>
                <h5 style="margin-left:-10px;">Template Info</h5>

              </uib-tab-heading>

              <div class="container-fluid" print-section>
                <!-- <div class="row pull-right">
                      <a href="#/dynamicGraphs" target="_blank">Click for Dynamic Graphs</a>
                    </div> -->
                <div class="row">
                  <div class="panel panel-default" style="color:'0000ff'">
                    <div class="col-md-12">
                      <div class="row zeroLeads" ng-if="!campaignInventories && !showSelection" print-remove>
                        <h1>Please Select Campaign</h1>
                      </div>
                      <div class="col-md-12" print-remove>
                        <!-- <div class="button" type="button" ng-click="campaignWiseSummary()">
                              <div class="panel-heading">
                                    All Campaigns
                              </div>
                            </div> -->
                        <div class="col-md-8" print-remove>
                          <label for="" style="color:#000000;">Select Date Range</label>
                          <!-- <input type="date"  style="color:#000000;" ng-model="dateRangeModel.start_date">
                            <input type="date" style="color:#000000;" ng-model="dateRangeModel.end_date"> -->
                          <div class="col-md-4">
                            <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
                              placeholder="DD/MM/YYYY" ng-change="changeStartDate()"
                              ng-model="dateRangeModel.start_dates" is-open="isDatepickerOpen"
                              datepicker-options="datepickerOptions" ng-required="true" close-text="Close"
                              alt-input-formats="altInputFormats">
                            <button type="button" class="smallBtn calendar"
                              ng-click="isDatepickerOpen = !isDatepickerOpen">
                              <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                          </div>
                          <div class="col-md-4">
                            <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
                              placeholder="DD/MM/YYYY" ng-change="changeEndDate()" ng-model="dateRangeModel.end_dates"
                              is-open="isEndDateOpen" datepicker-options="options" ng-required="true" close-text="Close"
                              alt-input-formats="altInputFormats">
                            <button type="button" class="smallBtn calendar" ng-disabled="!dateRangeModel.start_dates"
                              ng-click="isEndDateOpen = !isEndDateOpen">
                              <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                          </div>
                          <button class="btn btn-danger"
                            ng-disabled="!dateRangeModel.start_dates && !dateRangeModel.end_dates"
                            ng-click="getCampaignDateWiseSummary()">Submit</button>

                        </div>
                        <!-- comm -->
                        <!-- <div class="col-md-3 right">
                              <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.overall.status)">
                                <div class="button" type="button" ng-click="getCampaignWiseSummary()">
                                  <div class="panel-heading">
                                        All Campaigns
                                  </div>
                                </div>
                                <div id="overall" class="animate-show" ng-show="campaignStatus.overall.value">
                                    <div class="panel-bodyDashboard camp-menu-content">
                                      <table class="table">

                                      </table>
                                    </div>
                                </div>
                              </div>
                            </div> -->
                        <!-- comm -->

                        <div class="col-md-3 right" style="margin-bottom: 10px;">
                          <h4 class="panel-title">
                            <select class="form-control" name="supplierType" ng-model="selectedSupplierType.code"
                              value="supplierType.value" ng-change="setSupplierType('performance')">
                              <option value="{{supplierType.value}}"
                                ng-selected="selectedSupplierType == supplierType.value"
                                ng-repeat="supplierType in supplierTypeCodePerformanceDetail">{{supplierType.name}}
                              </option>
                            </select>
                          </h4>
                        </div>

                      </div>
                      <br /><br /><br />
                      <br />
                      <div class="panel-group" print-remove>
                        <div class="col-md-12">
                          <div class="col-md-3">
                            <div class="panel panel-default"
                              ng-click="getCampaignsMenu(campaignStatus.completed.status)">
                              <div class="button" type="button">
                                <div class="panel-heading">
                                  Completed Campaigns
                                </div>
                              </div>

                              <div id="completed" class="animate-show" ng-show="campaignStatus.completed.value">
                                <div class="panel-bodyDashboard camp-menu-content">
                                  <table class="table">
                                    <tr ng-repeat="campaign in campaignData.completed_campaigns | orderBy: 'name'">
                                      <td>
                                        <!-- <md-menu> -->
                                        <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                          {{campaign.name}}
                                        </div>

                                      </td>
                                    </tr>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3">

                            <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.ongoing.status)">
                              <div class="button" type="button">
                                <div class="panel-heading">
                                  Ongoing Campaigns
                                </div>
                              </div>
                              <div id="ongoing" class="animate-show" ng-show="campaignStatus.ongoing.value">
                                <div class="panel-bodyDashboard camp-menu-content">
                                  <table class="table">
                                    <tr ng-repeat="campaign in campaignData.ongoing_campaigns | orderBy: 'name'">
                                      <td>
                                        <!-- <md-menu> -->
                                        <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                          {{campaign.name}}
                                        </div>

                                      </td>
                                    </tr>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3">
                            <div class="panel panel-default" ng-click="getCampaignsMenu(campaignStatus.onhold.status)">
                              <div class="button" type="button">
                                <div class="panel-heading">
                                  OnHold Campaigns
                                </div>
                              </div>
                              <div id="onhold" class="animate-show" ng-show="campaignStatus.onhold.value">
                                <div class="panel-bodyDashboard camp-menu-content">
                                  <table class="table">
                                    <tr ng-repeat="campaign in campaignData.onhold_campaigns | orderBy: 'name'">
                                      <td>
                                        <!-- <md-menu> -->
                                        <div class="" ng-click="getLeadsByCampaign(campaign.campaign ,campaign)">
                                          {{campaign.name}}
                                        </div>
                                        <!-- <md-menu-content width="4">
                                                         <md-menu-item>
                                                           <md-button ng-click="getLeadsByCampaign(campaign.campaign)">
                                                             Lead
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                         <md-menu-item ng-click="getontimelocation(ontimelocation.showdrop.status)">
                                                           <md-button ng-click="getCampaignFilters(campaign.campaign)">
                                                             Inventory
                                                           </md-button>
                                                         </md-menu-item>
                                                         <md-menu-divider></md-menu-divider>
                                                       </md-menu-content> -->
                                        <!-- </md-menu> -->
                                      </td>
                                    </tr>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3">
                            <div class="panel panel-default"
                              ng-click="getCompareCampaigns(compCampaigns.campaigns.status)">
                              <div class="button" type="button">
                                <div class="panel-heading">
                                  Compare Campaigns
                                </div>
                              </div>
                              <!-- <div  class="animate-show" ng-show="graphicalComparision.leads.value">
                                            <div class="panel-bodyDashboard camp-menu-content">
                                              <div id="displayedFocus" class="panel panel-danger" style="width:60%;margin-left:50px;">
                                                <button class="btn btn-danger" name="button" style="width:100%;" ng-click="getCompareCampaigns(compCampaigns.campaigns.status)">LEADS</button>
                                              </div>
                                              <div id="displayedFocus" class="panel panel-danger" style="width:60%;text-align:center;margin-left:50px;">
                                                <button class="btn btn-danger" name="button" style="width:100%;">INVENTORY</button>
                                              </div>
                                            </div>
                                        </div> -->
                            </div>
                          </div>
                          <br />

                        </div>
                      </div>
                      <br /><br /><br />
                      <div class="col-lg-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:30px;">
                        <br /> <br />
                        <div class="panel-heading content-title" style="height:70px">
                          <h3 for="heading">Leads of {{CampaignLeadsName}}</h3>
                          <div class="row">
                            <span class="pull-left"><label for="heading"><small>Campaign Owner :
                                </small><span><small>{{campaignOwner}}</small> </span></label></span>
                            <span class="pull-right"><label for="heading"><small>Principal Vendor :
                                </small><span><small>{{principalVendor}}</small></span></label></span>
                          </div>
                        </div>
                        <br /><br />
                        <div class="row pull-center" print-remove>
                          <label for="" style="color:#000000;">Select Date Range</label>
                          <label for="" style="color:#000000;">From Date :</label>
                          <input type="date" style="color:#000000;" ng-model="dateRangeModel.start_date">
                          <label for="" style="color:#000000;">To Date :</label>
                          <input type="date" style="color:#000000;" ng-model="dateRangeModel.end_date">
                          <button class="btn btn-danger"
                            ng-click="getLeadsByCampaign(campaignIdForPerfMetrics,campaignInfoForPerfMetrics)">Submit</button>

                        </div>
                        <br /><br />
                        <div class="col-lg-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:50px;">
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="Flat">Summary Report</label>
                              </div>
                            </div>
                            <div class="campaigndetailtable">
                              <div class="table-responsive">
                                <table class="table table-striped" st-table="LeadsByCampaign" st-safe-src="Data">
                                  <thead>
                                    <tr>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Details</th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last Week
                                      </th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Week
                                      </th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Week
                                      </th>
                                    </tr>
                                  </thead>
                                  <tbody style="text-align:center;">
                                    <tr>
                                      <td><small style="font-weight:bold">{{flat_count_header}}</small></td>
                                      <td>{{Data.overall_data.flat_count || 'NA'}}</td>
                                      <td>{{Data.last_week.flat_count || 'NA'}}</td>
                                      <td>{{Data.last_two_weeks.flat_count || 'NA'}}</td>
                                      <td>{{Data.last_three_weeks.flat_count || 'NA'}}</td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Supplier Count</small></td>
                                      <td>{{Data.overall_data.supplier_count || 'NA'}}</td>
                                      <td>{{Data.last_week.supplier_count || 'NA'}}</td>
                                      <td>{{Data.last_two_weeks.supplier_count || 'NA'}}</td>
                                      <td>{{Data.last_three_weeks.supplier_count || 'NA'}}</td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Total Leads</small></td>
                                      <td>{{Data.overall_data.total_leads || 'NA'}}</td>
                                      <td>{{Data.last_week.total_leads || 'NA'}}</td>
                                      <td>{{Data.last_two_weeks.total_leads || 'NA'}}</td>
                                      <td>{{Data.last_three_weeks.total_leads || 'NA'}}</td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Total Leads %</small></td>
                                      <td ng-if="Data.overall_data.flat_count">
                                        {{(Data.overall_data.total_leads/Data.overall_data.flat_count) *100 |
                                        limitTo:5 }} %</td>
                                      <td ng-if="!Data.overall_data.flat_count">NA</td>

                                      <td ng-if="Data.last_week.flat_count">
                                        {{(Data.last_week.total_leads/Data.last_week.flat_count) *100 | limitTo:5}} %
                                      </td>
                                      <td ng-if="!Data.last_week.flat_count">NA</td>

                                      <td ng-if="Data.last_two_weeks.flat_count">
                                        {{(Data.last_two_weeks.total_leads/Data.last_two_weeks.flat_count) *100 |
                                        limitTo:5 }} %</td>
                                      <td ng-if="!Data.last_two_weeks.flat_count">NA</td>

                                      <td ng-if="Data.last_three_weeks.flat_count">
                                        {{(Data.last_three_weeks.total_leads/Data.last_three_weeks.flat_count) *100 |
                                        limitTo:5 }} %</td>
                                      <td ng-if="!Data.last_three_weeks.flat_count">NA</td>

                                      <!-- </tr>
                                      <tr>
                                      <td><small style="font-weight:bold">Total Hot Leads</small></td>
                                      <td>{{Data.overall_data.total_hot_leads || 'NA'}}</td>
                                      <td>{{Data.last_week.total_hot_leads || 'NA'}}</td>
                                      <td>{{Data.last_two_weeks.total_hot_leads || 'NA'}}</td>
                                      <td>{{Data.last_three_weeks.total_hot_leads || 'NA'}}</td>
                                      </tr>
                                      <tr>
                                      <td><small style="font-weight:bold">Hot Leads % </small></td>
                                      <td ng-if="Data.overall_data.flat_count">{{(Data.overall_data.total_hot_leads/Data.overall_data.flat_count) *100 | limitTo:5}} %</td>
                                      <td ng-if="!Data.overall_data.flat_count">NA</td>

                                      <td ng-if="Data.last_week.flat_count">{{(Data.last_week.total_hot_leads/Data.last_week.flat_count) *100 | limitTo:5 }} %</td>
                                      <td ng-if="!Data.last_week.flat_count">NA</td>

                                      <td ng-if="Data.last_two_weeks.flat_count">{{(Data.last_two_weeks.total_hot_leads/Data.last_two_weeks.flat_count) *100 | limitTo:5 }} %</td>
                                      <td ng-if="!Data.last_two_weeks.flat_count">NA</td>

                                      <td ng-if="Data.last_three_weeks.flat_count">{{(Data.last_three_weeks.total_hot_leads/Data.last_three_weeks.flat_count) *100 | limitTo:5  || 'NA'}} %</td>
                                      <td ng-if="!Data.last_three_weeks.flat_count">NA</td>

                                      </tr>

                                      <tr>
                                        <td><small style="font-weight:bold">{{Data.overall_data.key_hot_level_3 || 'Total Bookings Confirmed'}}</small></td>
                                        <td>{{Data.overall_data.is_hot_level_3 || 'NA'}}</td>
                                        <td>{{Data.last_week.is_hot_level_3 || 'NA'}}</td>
                                        <td>{{Data.last_two_weeks.is_hot_level_3 || 'NA'}}</td>
                                        <td>{{Data.last_three_weeks.is_hot_level_3 || 'NA'}}</td>
                                      </tr>
                                      <tr>
                                        <td><small style="font-weight:bold">{{Data.overall_data.key_hot_level_4 || 'Total Orders Punched'}}</small></td>
                                        <td>{{Data.overall_data.is_hot_level_4 || 'NA'}}</td>
                                        <td>{{Data.last_week.is_hot_level_4 || 'NA'}}</td>
                                        <td>{{Data.last_two_weeks.is_hot_level_4 || 'NA'}}</td>
                                        <td>{{Data.last_three_weeks.is_hot_level_4 || 'NA'}}</td>
                                        </tr> -->

                                    <tr ng-repeat="(key, item) in Data.overall_data.hot_level_keys">
                                      <td><small style="font-weight:bold">{{item}}</small></td>
                                      <td>{{Data.overall_data.hot_level_values[key] || 'NA'}}</td>
                                      <td>{{Data.last_week.hot_level_values[key] || 'NA'}}</td>
                                      <td>{{Data.last_two_weeks.hot_level_values[key] || 'NA'}}</td>
                                      <td>{{Data.last_three_weeks.hot_level_values[key] || 'NA'}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                                <br><br />
                                <table class="table table-striped" st-table="LeadsByCampaign" st-safe-src="Data">
                                  <div class="panel panel-primary">
                                    <div class="panel-heading content-title">
                                      <label for="Flat">Summary Report Statistical Details</label>
                                    </div>
                                  </div>
                                  <thead>
                                    <tr>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Type</th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last Week
                                      </th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Week
                                      </th>
                                      <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Week
                                      </th>
                                    </tr>
                                  </thead>
                                  <tbody style="text-align:center;">
                                    <tr>
                                      <td><small style="font-weight:bold">Mean of Leads</small></td>
                                      <td ng-if="Data.overall_data.supplier_stats.total.percentage_by_flat">
                                        {{Data.overall_data.supplier_stats.total.percentage_by_flat | limitTo:5}} %
                                      </td>
                                      <td ng-if="!Data.overall_data.supplier_stats.total.percentage_by_flat">NA</td>

                                      <td ng-if="Data.last_week.supplier_stats.total.percentage_by_flat">
                                        {{Data.last_week.supplier_stats.total.percentage_by_flat | limitTo:5 }} %
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.percentage_by_flat >= Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.percentage_by_flat < Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats.total.percentage_by_flat">NA</td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats.total.percentage_by_flat">
                                        {{Data.last_two_weeks.supplier_stats.total.percentage_by_flat | limitTo:5 }} %
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.percentage_by_flat >= Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.percentage_by_flat < Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats.total.percentage_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats.total.percentage_by_flat">
                                        {{Data.last_three_weeks.supplier_stats.total.percentage_by_flat | limitTo:5 }}
                                        %
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.percentage_by_flat >= Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.percentage_by_flat < Data.overall_data.supplier_stats.total.percentage_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats.total.percentage_by_flat">NA
                                      </td>

                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Median of Leads</small></td>
                                      <td ng-if="Data.overall_data.supplier_stats.total.median_percent_by_flat">
                                        {{Data.overall_data.supplier_stats.total.median_percent_by_flat | limitTo:5}}
                                        %</td>
                                      <td ng-if="!Data.overall_data.supplier_stats.total.median_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_week.supplier_stats.total.median_percent_by_flat">
                                        {{Data.last_week.supplier_stats.total.median_percent_by_flat | limitTo:5 }} %
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.median_percent_by_flat >= Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.median_percent_by_flat < Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats.total.median_percent_by_flat">NA </td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats.total.median_percent_by_flat">
                                        {{Data.last_two_weeks.supplier_stats.total.median_percent_by_flat | limitTo:5
                                        }} %
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.median_percent_by_flat >= Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.median_percent_by_flat < Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats.total.median_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats.total.median_percent_by_flat">
                                        {{Data.last_three_weeks.supplier_stats.total.median_percent_by_flat |
                                        limitTo:5}} %
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.median_percent_by_flat >= Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"
                                          style="color: #15ff15 !important;"></span>
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.median_percent_by_flat < Data.overall_data.supplier_stats.total.median_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"
                                          style="color: #B20000 !important;"></span>
                                      </td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats.total.median_percent_by_flat">
                                        NA</td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Mode of Leads</small></td>
                                      <td ng-if="Data.overall_data.supplier_stats.total.mode_percent_by_flat">
                                        {{Data.overall_data.supplier_stats.total.mode_percent_by_flat | limitTo:5 }} %
                                      </td>
                                      <td ng-if="!Data.overall_data.supplier_stats.total.mode_percent_by_flat">NA</td>

                                      <td ng-if="Data.last_week.supplier_stats.total.mode_percent_by_flat">
                                        {{Data.last_week.supplier_stats.total.mode_percent_by_flat | limitTo:5 }} %
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.mode_percent_by_flat >= Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_week.supplier_stats.total.mode_percent_by_flat < Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats.total.mode_percent_by_flat">NA </td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats.total.mode_percent_by_flat">
                                        {{Data.last_two_weeks.supplier_stats.total.mode_percent_by_flat | limitTo:5 }}
                                        %
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.mode_percent_by_flat >= Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats.total.mode_percent_by_flat < Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats.total.mode_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats.total.mode_percent_by_flat">
                                        {{Data.last_three_weeks.supplier_stats.total.mode_percent_by_flat |
                                        limitTo:5}} %
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.mode_percent_by_flat >= Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats.total.mode_percent_by_flat < Data.overall_data.supplier_stats.total.mode_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats.total.mode_percent_by_flat">NA
                                      </td>

                                    </tr>
                                  </tbody>
                                  <tbody ng-repeat="(key, item) in Data.overall_data.hot_level_keys">
                                    <tr>
                                      <td>
                                        <small style="font-weight:bold">Mean Of {{item}}</small>
                                      </td>
                                      <td>
                                        {{Data.overall_data.supplier_stats[key].mean_percent_by_flat | limitTo:5 }} %
                                      </td>
                                      <td ng-if="Data.last_week.supplier_stats[key].mean_percent_by_flat">
                                        {{Data.last_week.supplier_stats[key].mean_percent_by_flat | limitTo:5 }} %
                                        <span
                                          ng-if="Data.last_week.supplier_stats[key].mean_percent_by_flat >= Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_week.supplier_stats[key].mean_percent_by_flat < Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats[key].mean_percent_by_flat">NA</td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats[key].mean_percent_by_flat">
                                        {{Data.last_two_weeks.supplier_stats[key].mean_percent_by_flat | limitTo:5 }}
                                        %
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats[key].mean_percent_by_flat >= Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_two_weeks.supplier_stats[key].mean_percent_by_flat < Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats[key].mean_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats[key].mean_percent_by_flat ">
                                        {{Data.last_three_weeks.supplier_stats[key].mean_percent_by_flat | limitTo:5}}
                                        %
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats[key].mean_percent_by_flat >= Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-up green"></span>
                                        <span
                                          ng-if="Data.last_three_weeks.supplier_stats[key].mean_percent_by_flat < Data.overall_data.supplier_stats[key].mean_percent_by_flat"
                                          class="glyphicon glyphicon-arrow-down red"></span>
                                      </td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats[key].mean_percent_by_flat">NA
                                      </td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Median of {{item}}</small></td>
                                      <td ng-if="Data.overall_data.supplier_stats[key].median_percent_by_flat">
                                        {{Data.overall_data.supplier_stats[key].median_percent_by_flat | limitTo:5 }}
                                        %</td>
                                      <td ng-if="!Data.overall_data.supplier_stats[key].median_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_week.supplier_stats[key].median_percent_by_flat">
                                        {{Data.last_week.supplier_stats[key].median_percent_by_flat | limitTo:5 }} %
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats[key].median_percent_by_flat">NA</td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats[key].median_percent_by_flat">
                                        {{Data.last_two_weeks.supplier_stats[key].median_percent_by_flat | limitTo:5}}
                                        %</td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats[key].median_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats[key].median_percent_by_flat">
                                        {{Data.last_three_weeks.supplier_stats[key].median_percent_by_flat | limitTo:5
                                        }} %</td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats[key].median_percent_by_flat">NA
                                      </td>
                                    </tr>
                                    <tr>
                                      <td><small style="font-weight:bold">Mode of {{item}}</small></td>
                                      <td ng-if="Data.overall_data.supplier_stats[key].mode_percent_by_flat">
                                        {{Data.overall_data.supplier_stats[key].mode_percent_by_flat | limitTo:5 }} %
                                      </td>
                                      <td ng-if="!Data.overall_data.supplier_stats[key].mode_percent_by_flat">NA</td>

                                      <td ng-if="Data.last_week.supplier_stats[key].mode_percent_by_flat">
                                        {{Data.last_week.supplier_stats[key].mode_percent_by_flat | limitTo:5 }} %
                                      </td>
                                      <td ng-if="!Data.last_week.supplier_stats[key].mode_percent_by_flat">NA</td>

                                      <td ng-if="Data.last_two_weeks.supplier_stats[key].mode_percent_by_flat">
                                        {{Data.last_two_weeks.supplier_stats[key].mode_percent_by_flat | limitTo:5 }}
                                        %</td>
                                      <td ng-if="!Data.last_two_weeks.supplier_stats[key].mode_percent_by_flat">NA
                                      </td>

                                      <td ng-if="Data.last_three_weeks.supplier_stats[key].mode_percent_by_flat ">
                                        {{Data.last_three_weeks.supplier_stats[key].mode_percent_by_flat | limitTo:5}}
                                        %</td>
                                      <td ng-if="!Data.last_three_weeks.supplier_stats[key].mode_percent_by_flat">NA
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                <br />
                              </div>
                            </div>
                          </div>
                          <div class="col-lg-6">
                            <div class="panel panel-primary">
                              <div class="panel-heading content-title">
                                <label for="flat graph">Summary Report Graph</label>
                              </div>
                            </div>
                            <div class="row">

                              <div class="outerFlat" ng-if="!dateRangeModel.start_date">
                                <div class="innerFlat" ng-if="!dateRangeModel.start_date">
                                  <nvd3 options="locationChartOptions" data="sortedLocationData['summary']"
                                    ng-if="togglesortedGraphs['summary']"></nvd3>
                                  <nvd3 options="weeklyStackedBarData" data="stackedBarThreeWeeksChart"
                                    ng-if="!togglesortedGraphs['summary']"></nvd3>
                                </div>
                              </div>
                              <div ng-if="dateRangeModel.start_date">
                                <div ng-if="dateRangeModel.start_date">
                                  <nvd3 options="locationChartOptions" data="sortedLocationData['weekly']"
                                    ng-if="togglesortedGraphs['weekly']"></nvd3>
                                  <nvd3 options="weeklyStackedBarData" data="stackedBarThreeWeeksChart"
                                    ng-if="!togglesortedGraphs['weekly']"></nvd3>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <br /><br />

                        <div class="col-lg-6">
                          <div class="panel panel-primary">
                            <div class="panel-heading content-title">
                              <label for="Flat">{{flat}} Summary Details</label>
                            </div>
                          </div>
                          <div class="campaigndetailtable">
                            <div class="table-responsive">
                              <table class="table table-striped" st-table="LeadsByCampaign" st-safe-src="Data">
                                <thead>
                                  <tr>
                                    <th style="background:#8e1921 !important;color:#ffffff !important;">Details</th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">Overall
                                      Campaign <br>Total</th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{flat_count_header}} <br> <small style="color:#ffffff !important">
                                        {{Data.overall_data.supplier_size_categories.min.text}} </small></th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{flat_count_header}} <br><small
                                        style="color:#ffffff !important">{{Data.overall_data.supplier_size_categories.medium.text}}</small>
                                    </th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{flat_count_header}} <br> <small style="color:#ffffff !important">
                                        {{Data.overall_data.supplier_size_categories.max.text}}</small></th>
                                  </tr>
                                </thead>
                                <tbody style="text-align:center;">
                                  <tr>
                                    <td><small style="font-weight:bold">Supplier Count</small></td>
                                    <td>{{Data.overall_data.supplier_count}}</td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].suppliers}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].suppliers}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.typ].suppliers}}
                                    </td>
                                  </tr>
                                  <tr>
                                    <td><small style="font-weight:bold">{{flat_count_header}}</small></td>
                                    <td>{{Data.overall_data.flat_count}}</td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type]['flat_count']}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type]['flat_count']}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.type]['flat_count']}}
                                    </td>
                                  </tr>
                                  <tr>
                                    <td><small style="font-weight:bold">Total Leads (%)</small></td>
                                    <td ng-if="Data.overall_data.total_leads">{{Data.overall_data.total_leads}} <br>
                                      <small style="font-weight:bold">({{(Data.overall_data.total_leads /
                                        Data.overall_data.flat_count) * 100 |limitTo:5}} %)</small>
                                    </td>
                                    <td ng-if="!Data.overall_data.total_leads">NA</td>

                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.min.type]['flat_count'] != 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{(Data.flat_data[Data.overall_data.supplier_size_categories.min.type].total
                                        /
                                        Data.flat_data[Data.overall_data.supplier_size_categories.min.type]['flat_count'])
                                        * 100 |limitTo:5}} %)</small>
                                    </td>
                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.min.type]['flat_count'] == 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].total}}
                                        %)</small>
                                    </td>

                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.medium.type]['flat_count'] != 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{(Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].total
                                        /
                                        Data.flat_data[Data.overall_data.supplier_size_categories.medium.type]['flat_count'])
                                        * 100 |limitTo:5}} %)</small>
                                    </td>
                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.medium.type]['flat_count'] == 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].total
                                        }} %)</small>
                                    </td>

                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.max.type]['flat_count'] != 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{(Data.flat_data[Data.overall_data.supplier_size_categories.max.type].total
                                        /
                                        Data.flat_data[Data.overall_data.supplier_size_categories.max.type]['flat_count'])
                                        * 100 |limitTo:5}} %)</small>
                                    </td>
                                    <td
                                      ng-if="Data.flat_data[Data.overall_data.supplier_size_categories.max.type]['flat_count'] == 0">
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.type].total}}
                                      <br> <small
                                        style="font-weight:bold">({{Data.flat_data[Data.overall_data.supplier_size_categories.max.type].total}}
                                        %)</small>
                                    </td>

                                  </tr>
                                </tbody>
                                <tbody ng-repeat="(key, item) in Data.overall_data.hot_level_keys">
                                  <tr>
                                    <td><small style="font-weight:bold">Total {{item}} (%)</small></td>
                                    <td>{{Data.overall_data.hot_level_values[key]}}</td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].hot_level_values[key]}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].hot_level_values[key]}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.type].hot_level_values[key]}}
                                    </td>
                                  </tr>

                                  <tr>
                                    <td><small style="font-weight:bold">Total {{item}} Ratio (%)</small></td>
                                    <td>({{Data.overall_data.hot_level_values[key]/Data.overall_data.total_leads *
                                      100|limitTo:5}} %)</td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.min.type].hot_level_values[key]}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.medium.type].hot_level_values[key]}}
                                    </td>
                                    <td>
                                      {{Data.flat_data[Data.overall_data.supplier_size_categories.max.type].hot_level_values[key]}}
                                    </td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                          <br>
                        </div>
                        <div class="col-lg-6">
                          <div class="panel panel-primary">
                            <div class="panel-heading content-title">
                              <label for="flat graph">{{flat}} Graph Summary</label>
                            </div>
                          </div>
                          <div class="row">
                            <select class="form-control" ng-change="sortData('flatData',sortModel)" ng-model="sortModel"
                              print-remove>
                              <option value="" disabled>Select For Sorting</option>
                              <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                            </select>
                            <div class="outerFlat" ng-if="!dateRangeModel">
                              <div class="innerFlat" ng-if="!dateRangeModel">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['flatData']"
                                  ng-if="togglesortedGraphs['flatData']"></nvd3>
                                <nvd3 options="stackedBarChartFlatWise" data="stackedBarFLatCountChart"
                                  ng-if="!togglesortedGraphs['flatData']"></nvd3>
                              </div>
                            </div>
                            <div ng-if="dateRangeModel">
                              <div ng-class="{'innerFlat': !dateRangeModel.start_date}">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['flatData']"
                                  ng-if="togglesortedGraphs['flatData']"></nvd3>
                                <nvd3 options="stackedBarChartFlatWise" data="stackedBarFLatCountChart"
                                  ng-if="!togglesortedGraphs['flatData']"></nvd3>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <br /><br />
                      <div class="col-lg-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:50px;">
                        <div class="col-lg-6">
                          <div class="panel panel-primary">
                            <div class="panel-heading content-title">
                              <label for="Location">Location Summary Details</label>
                            </div>
                          </div>
                          <div class="campaigndetailtable">
                            <div class="table-responsive">
                              <table class="table table-striped" st-table="LeadsByCampaign.locality_data"
                                st-safe-src="localityData">
                                <thead>
                                  <tr>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Area
                                    </th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Count
                                    </th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{flat_count_header}}</th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads
                                      <br>(%)
                                    </th>
                                    <!-- <th style="background:#8e1921 !important;color:#ffffff !important">Hot Leads <br> (%)</th>
                                        <th style="background:#8e1921 !important;color:#ffffff !important">Hot Leads Ratio <br> (%)</th>
                                        <th style="background:#8e1921 !important;color:#ffffff !important">Total Bookings Confirmed</th>
                                        <th style="background:#8e1921 !important;color:#ffffff !important">Total Orders Punched</th> -->
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{Data.overall_data.hot_level_keys['is_hot_level_1']}} <br> (%)</th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important">
                                      {{Data.overall_data.hot_level_keys['is_hot_level_1']}} Ratio <br> (%)</th>
                                    <th style="background:#8e1921 !important;color:#ffffff !important"
                                      ng-repeat="(key, item) in Data.overall_data.hot_level_keys"
                                      ng-if="key!='is_hot_level_1'">{{item}} <br> (%)</th>
                                  </tr>
                                </thead>
                                <tbody style="text-align:center;">
                                  <tr ng-repeat="(key,data) in localityData">
                                    <td style="font-weight:bold">{{key}}</td>
                                    <td>{{data.suppliers}}</td>
                                    <td>{{data['flat_count']}}</td>
                                    <td>{{data.total}} <br> <small style="font-weight:bold">({{ getPercent(data.total,
                                        data['flat_count'])|limitTo:5}} %)</small> </td>

                                    <td>{{data.interested}} <br> <small
                                        style="font-weight:bold">({{getPercent(data.interested,
                                        data['flat_count'])|limitTo:5}} %)</small></td>

                                    <td>{{data.hot_leads_percentage |limitTo:4}} %</td>

                                    <td ng-repeat="(key, item) in Data.overall_data.hot_level_keys"
                                      ng-if="key!='is_hot_level_1'">{{data.hot_level_values[key]}} <br> <small
                                        style="font-weight:bold">({{getPercent(data.hot_level_values[key],
                                        data['flat_count'])|limitTo:5}} %)</small></td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                          <br>
                        </div>

                        <div class="col-lg-6" style="overflow:auto">
                          <div class="panel panel-primary">
                            <div class="panel-heading content-title">
                              <label for="flat graph">Location Graph Summary</label>
                            </div>
                          </div>
                          <div class="row">
                            <select class="form-control" ng-change="sortData('location',sortModel)" ng-model="sortModel"
                              print-remove>
                              <option value="" disabled>Select For Sorting</option>
                              <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                            </select>
                            <div class="outerLocation" ng-if="!dateRangeModel.start_date">
                              <div class="innerLocation" ng-if="!dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['location']"
                                  ng-if="togglesortedGraphs['location']"></nvd3>
                                <nvd3 options="stackedBarChartLocationWise" data="stackedBarLocationCountChart"
                                  ng-if="!togglesortedGraphs['location']"></nvd3>
                              </div>
                            </div>
                            <div ng-if="dateRangeModel.start_date">
                              <div ng-if="dateRangeModel.start_date">
                                <nvd3 options="locationChartOptions" data="sortedLocationData['location']"
                                  ng-if="togglesortedGraphs['location']"></nvd3>
                                <nvd3 options="stackedBarChartLocationWise" data="stackedBarLocationCountChart"
                                  ng-if="!togglesortedGraphs['location']"></nvd3>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:140px;">
                        <div class="panel-heading content-title">
                          <h4 style="text-align: center">Leads Per Society</h4>
                        </div>

                        <div class="col-md-12" ng-scrollable>
                          <select class="form-control" ng-change="sortData('supplier',sortModel)" ng-model="sortModel"
                            print-remove>
                            <option value="" disabled>Select For Sorting</option>
                            <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                          </select>
                          <div class="outerSociety" ng-if="!dateRangeModel.start_date">
                            <div class="innerSociety" ng-if="!dateRangeModel.start_date">
                              <nvd3 options="locationChartOptions" data="sortedLocationData['supplier']"
                                ng-if="togglesortedGraphs['supplier']"></nvd3>
                              <nvd3 options="stackedBarChartSocietyWise" data="stackedBarChartSupplierData"
                                ng-if="!togglesortedGraphs['supplier']"></nvd3>
                            </div>
                          </div>
                          <div class="outerSociety" ng-if="dateRangeModel.start_date">
                            <div class="innerSociety" ng-if="dateRangeModel.start_date">
                              <nvd3 options="locationChartOptions" data="sortedLocationData['supplier']"
                                ng-if="togglesortedGraphs['supplier']"></nvd3>
                              <nvd3 options="stackedBarChartSocietyWise" data="stackedBarChartSupplierData"
                                ng-if="!togglesortedGraphs['supplier']"></nvd3>
                            </div>
                          </div>
                        </div>
                        <!-- <div class="col-md-6">
                          <nvd3 options="variableoptions" data="stackedBarChartSupplierData"></nvd3>
                          </div> -->
                      </div>

                      <!-- <br /><br /> -->
                      <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.leads" style="margin-top:50px;">
                        <div class="panel-heading content-title">
                          <h4 style="text-align: center"> Leads By Date </h4>
                        </div>
                        <div class="col-md-12" ng-scrollable>
                          <select class="form-control" ng-change="sortData('datewise',sortModel)" ng-model="sortModel"
                            print-remove>
                            <option value="" disabled>Select For Sorting</option>
                            <option ng-repeat="item in leadsByDateMenu" value="{{item.id}}">{{item.name}}</option>
                          </select>
                          <div class="outerSociety" ng-if="!dateRangeModel.start_date">
                            <div class="innerSociety" ng-if="!dateRangeModel.start_date">
                              <nvd3 options="locationChartOptions" data="sortedLocationData['datewise']"
                                ng-if="togglesortedGraphs['datewise']"></nvd3>
                              <nvd3 options="stackedBarChartDateWise" data="stackedBarChartDateData"
                                ng-if="!togglesortedGraphs['datewise']"></nvd3>
                            </div>
                          </div>
                          <div class="outerSociety" ng-if="dateRangeModel.start_date">
                            <div class="innerSociety" ng-if="dateRangeModel.start_date">
                              <nvd3 options="locationChartOptions" data="sortedLocationData['datewise']"
                                ng-if="togglesortedGraphs['datewise']"></nvd3>
                              <nvd3 options="stackedBarChartDateWise" data="stackedBarChartDateData"
                                ng-if="!togglesortedGraphs['datewise']"></nvd3>
                            </div>
                          </div>
                        </div>
                      </div>

                      <br />
                      <div class="row" ng-if="showPerfMetrics == perfMetrics.leads">
                        <!-- <button type="button" class="col-md-3 btn btn-danger pull-right" name="button" ng-click="getDistributionGraphsStatics()">Click here for Distribution Graphs</button> -->

                        <div class="col-md-12" style="margin-top:50px;">
                          <div class="col-md-12">
                            <div class="panel-heading content-title">
                              <h4 style="text-align: center">Distributed Leads and Hot Leads Graphs of
                                {{CampaignLeadsName}}</h4>
                            </div>
                            <div class="col-md-12" ng-scrollable>
                              <div class="outerdistributed">
                                <div class="innerdistributed">
                                  <nvd3 options="lineChartLeadsDistributed" data="lineChartForLeadsDistributedGraphs">
                                  </nvd3>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-12" ng-scrollable>
                              <div class="outerdistributed">
                                <div class="innerdistributed">
                                  <nvd3 options="lineChartLeadsDistributed2" data="lineChartForLeadsDistributedGraphs2">
                                  </nvd3>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12" style="margin-top:10px;">
                            <div class="panel-heading content-title">
                              <h4 style="text-align: center">Summary for Distributed Leads and Hot Leads Statistics of
                                {{CampaignLeadsName}}</h4>
                            </div>
                            <table class="table table-striped" st-table="LeadsByCampaign" st-safe-src="Data">
                              <thead>
                                <tr>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Types</th>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Mean</th>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Median</th>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Mode</th>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Standard
                                    Deviation</th>
                                  <th style="background:#8e1921 !important;color:#ffffff !important">Variance</th>
                                </tr>
                              </thead>
                              <tbody style="text-align:center;">
                                <tr>
                                  <td style="font-weight:bold">Leads</td>
                                  <td>{{Data.overall_data.supplier_stats.total.percentage_by_flat | limitTo:5}} %</td>
                                  <td>{{Data.overall_data.supplier_stats.total.median_percent_by_flat | limitTo:5}} %
                                  </td>
                                  <td>{{Data.overall_data.supplier_stats.total.mode_percent_by_flat | limitTo:5}} %
                                  </td>
                                  <td>{{standardDeviationLeads | limitTo:5}} %</td>
                                  <td>{{varianceLeads | limitTo:5}} %</td>
                                </tr>
                                <tr>
                                  <td style="font-weight:bold">{{Data.overall_data.hot_level_keys["is_hot_level_1"]}}
                                  </td>
                                  <td>{{Data.overall_data.supplier_stats.interested.percentage_by_flat | limitTo:5}} %
                                  </td>
                                  <td>{{Data.overall_data.supplier_stats.interested.median_percent_by_flat |
                                    limitTo:5}} %</td>
                                  <td>{{Data.overall_data.supplier_stats.interested.mode_percent_by_flat | limitTo:5}}
                                    %</td>
                                  <td>{{standardDeviationHotLeads | limitTo:5}} %</td>
                                  <td>{{varianceHotLeads | limitTo:5}} %</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>

                      <!-- strt with dynamic graph -->
                      <div class="row col-md-12" ng-if="dynamicGraphsUI">
                        <div style="color:#000000;margin-left:20px;" class="assign-date">
                          <input type="checkbox" ng-model="applyClickedFilters.value" value="true"
                            ng-change="changeApplyFilters()">
                          <label>
                            <h4>Apply Filters<h4>
                          </label>
                        </div>


                        <!-- strt with dynamic graph -->
                        <form name="form" ng-if="applyClickedFilters.value">
                          <div class="row panel panel-default" ng-if="dynamicGraphsUI">
                            <div class="col-md-12">
                              <div class="col-md-4">
                                <div class="panel panel-danger">
                                  <div class="panel-heading" style="background:#cb1925">Filter by Time</div>
                                  <div class="panel-body">
                                    <br /><br />
                                    <small>
                                      <div class="row" style="margin-left:-50px;color:#000000;">
                                        <input type="checkbox" name="" value="" style="margin-left:10px;"
                                          ng-click="DisabledClicked()" ng-checked="!selectAnyPhase"> Date Range
                                        <!-- <label for="" style="margin-left:10px;"> Date Range</label> -->
                                        <br />
                                        <div class="col-md-12">
                                          <div class="form-group" ng-show="selectAnyDate" ng-hide="selectAnyPhase"
                                            ng-model="selectAnyDate">
                                            <label><small> Start Date : </small></label>
                                            <!-- <span><small><input type="date" ng-click="DisabledClicked()" style="width:110px !important" ng-model="graphSelection.dateRange.startDate"></small></span> -->
                                            <span>
                                              <input type="text" style="color:#000000;" class="field"
                                                uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY"
                                                ng-change="changeFilterStartDate()"
                                                ng-model="graphSelection.dateRange.startDate" is-open="isDatepickerOpen"
                                                datepicker-options="datepickerOptions" ng-required="true"
                                                close-text="Close" alt-input-formats="altInputFormats">
                                              <button type="button" class="smallBtn calendar"
                                                ng-click="isDatepickerOpen = !isDatepickerOpen">
                                                <i class="glyphicon glyphicon-calendar"></i>
                                              </button>

                                            </span>
                                          </div>
                                        </div>
                                        <div class="col-md-12">
                                          <div class="form-group" ng-show="selectAnyDate" ng-hide="selectAnyPhase"
                                            ng-model="selectAnyDate">
                                            <label><small> End Date :</small></label>
                                            <!-- <span><small><input type="date" ng-click="DisabledClicked()" style="width:110px !important" ng-model="graphSelection.dateRange.endDate"></small></span> -->
                                            <label><input type="text" style="color:#000000;" class="field"
                                                uib-datepicker-popup="dd/MM/yyyy" placeholder="DD/MM/YYYY"
                                                ng-change="changeFilterEndDate()"
                                                ng-model="graphSelection.dateRange.endDate" is-open="isEndDateOpen"
                                                datepicker-options="options" ng-required="true" close-text="Close"
                                                alt-input-formats="altInputFormats">
                                              <button type="button" class="smallBtn calendar"
                                                ng-disabled="!graphSelection.dateRange.startDate"
                                                ng-click="isEndDateOpen = !isEndDateOpen">
                                                <i class="glyphicon glyphicon-calendar"></i>
                                              </button>
                                            </label>
                                          </div>
                                        </div>
                                        <p style="text-align:center;color:#cb1925;font-weight: bold;">OR</p>
                                        <input type="checkbox" name="" value="" style="margin-left:10px;"
                                          ng-click="DisabledClickedPhase()" ng-checked="!selectAnyDate"> Phase
                                        <!-- <label for="" style="margin-left:10px;">Phase</label> -->
                                        <br />
                                        <div class="col-md-6">
                                          <div class="form-group" ng-show="selectAnyPhase" ng-hide="selectAnyDate"
                                            ng-model="selectAnyPhase">
                                            <label><small> Start : </small></label>
                                            <span><small><input type="text" ng-click="DisabledClickedPhase()"
                                                  style="width:110px !important" placeholder="1" width="110px;"
                                                  ng-model="graphSelection.phaseRange.start"></small>
                                            </span>
                                          </div>
                                        </div>
                                        <div class="col-md-6">
                                          <div class="form-group" ng-show="selectAnyPhase" ng-hide="selectAnyDate"
                                            ng-model="selectAnyPhase">
                                            <label><small> End :</small></label>
                                            <span><small><input type="text" ng-click="DisabledClickedPhase()"
                                                  style="width:110px !important" placeholder="87"
                                                  ng-model="graphSelection.phaseRange.end"></small>
                                            </span>
                                          </div>
                                        </div>

                                      </div>
                                      <!-- <div class="row" style="color:#808080;margin-left:10px">

                            </div> -->

                                    </small>

                                  </div>
                                </div>
                                <br />

                              </div>
                              <div class="col-md-4" style="color:#808080;">
                                <div class="panel panel-danger">
                                  <div class="panel-heading" style="background:#cb1925">Filter By Parameters</div>
                                  <div class="panel-body">
                                    <br /><br />
                                    <div class="row form-group" style="color:#000000">
                                      <small>
                                        <input type="checkbox" ng-model="checkboxCheckedSociety"
                                          ng-click="societyParamsCheck('society',checkboxCheckedSociety)"> Supplier
                                        Parameters
                                        <select class="form-control" ng-click="DisabledClickedSociety()"
                                          ng-model="graphSelection.specificParam.society"
                                          ng-if="checkboxCheckedSociety">
                                          <option value="" ng-disabled=true>Select</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="qualitytype"
                                            ng-click="societyTypeDrop">Type of Society</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="sizeOfFlats"
                                            ng-click="flatTypeDrop">Size of Society</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="flatType"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            Type of Flats</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="flatPrice"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            Price of Flats</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="flatRent"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            Rent of Flats</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="noOfCitizen"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            No of Senior Citizen
                                          </option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="noOfChildren"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            No of Children</option>
                                          <option ng-if="selectedSupplierType.code == 'RS'" value="workingWomen"
                                            ng-click="flatTypeDrop" ng-disabled="graphSelection.specificParam.society">
                                            Percentage Working
                                            Women</option>


                                          <option ng-if="selectedSupplierType.code == 'RE'" value="sizeOfRetailStore"
                                            ng-click="flatTypeDrop">Size of Retail Store</option>
                                          <option ng-if="selectedSupplierType.code == 'CP'" value="sizeOfCorporate"
                                            ng-click="flatTypeDrop">Size of Corporate</option>
                                          <option ng-if="selectedSupplierType.code == 'BS'" value="sizeOfBusShelter"
                                            ng-click="flatTypeDrop">Size of Bus Shelter</option>
                                          <option ng-if="selectedSupplierType.code == 'GY'" value="sizeOfGym"
                                            ng-click="flatTypeDrop">Size of Gym</option>
                                          <option ng-if="selectedSupplierType.code == 'SA'" value="sizeOfSaloon"
                                            ng-click="flatTypeDrop">Size of Saloon</option>


                                        </select>
                                        <br />
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'qualitytype' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="typeOfSocietyLists" extra-settings="settingsForDynamicGraphSociety"
                                            selected-model="selectedTypeOfSocieties"
                                            translation-texts="selected_baselines_customTexts_qualityTypesociety"
                                            events="events"></span>
                                        </div>
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfFlats' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfFlatsLists" extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfFlats"
                                            events="events"></span>
                                        </div>

                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfRetailStore' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfRetailStoreLists"
                                            extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfRetailStore"
                                            events="events"></span>
                                        </div>
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfCorporate' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfCorporateLists"
                                            extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfCorporate"
                                            events="events"></span>
                                        </div>
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfBusShelter' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfBusShelterLists"
                                            extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfBusShelter"
                                            events="events"></span>
                                        </div>
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfGym' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfGymLists" extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfGym"
                                            events="events"></span>
                                        </div>
                                        <div class="row"
                                          ng-if="graphSelection.specificParam.society == 'sizeOfSaloon' && checkboxCheckedSociety">
                                          <span class="multiselectDropdown"
                                            style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                                            options="sizeOfSaloonLists" extra-settings="settingsForDynamicGraphFlatType"
                                            selected-model="selectedSizeOfFlats"
                                            translation-texts="selected_baselines_customTexts_sizeOfSaloon"
                                            events="events"></span>
                                        </div>

                                        <br />
                                        <p style="text-align:center;color:#cb1925;font-weight: bold;">OR</p>

                                        <br />
                                        <input type="checkbox" ng-value="true" ng-model="checkboxChecked"
                                          ng-click="societyParamsCheck('booking',checkboxChecked)"> Booking Parameters
                                        <br />
                                        <div class="col-md-3 pull-left" ng-click="DisabledClickedBooking()"
                                          style="margin-left:-20px;" ng-if="checkboxChecked">
                                          <span class="multiselectParentDropdown" ng-dropdown-multiselect=""
                                            options="BookingParametersLists"
                                            extra-settings="settingsForDynamicGraphBookingParameters"
                                            selected-model="selectedbookingParameters"
                                            translation-texts="selected_baselines_customTexts_booking_parameters"
                                            events="events"></span>
                                        </div>

                                        <div class="row"
                                          ng-if="graphSelection.specificParam.booking == 'freebies' && checkboxChecked"
                                          style="margin-left:30px">
                                          <span style="color:red;width:100%;margin-left:-20px;"
                                            ng-dropdown-multiselect="" options="freebiesLists" class="col-md-6"
                                            extra-settings="settingsForDynamicGraphCity"
                                            selected-model="selectedFreebies"
                                            translation-texts="selected_baselines_customTexts_freebies"
                                            events="events"></span>
                                        </div>
                                      </small>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-4">
                                <div class="panel panel-danger">
                                  <div class="panel-heading" style="background:#cb1925">Filter By City</div>
                                  <div class="panel-body">
                                    <br /><br />
                                    <div class="row form-group" style="color:#000000;">
                                      <small>
                                        <!-- <p style="color:#000000;">Select City :</p> -->
                                        <input type="checkbox" name="" value="" ng-model="checkboxCheckedCity"
                                          ng-checked="!checkboxCheckedVendor"> Select City
                                        <br />
                                        <div class="col-md-3 pull-left" ng-click="DisabledClickedCity()"
                                          ng-show="checkboxCheckedCity" ng-hide="checkboxCheckedVendor">
                                          <span class="multiselectParentDropdown"
                                            style="color:red;width:100%;margin-left:-20px;" ng-dropdown-multiselect=""
                                            options="cityLists" class="col-md-6"
                                            extra-settings="settingsForDynamicGraphCity"
                                            selected-model="selectedCities_temp"
                                            translation-texts="selected_baselines_customTexts_city"
                                            events="events"></span>
                                        </div>
                                      </small>
                                    </div>
                                    <div class="col-md-6 pull-left" ng-if="graphSelection.locality == 'locality'">
                                      <span class="multiselectParentDropdown"
                                        style="color:red;width:100%;margin-left:-20px;" ng-dropdown-multiselect=""
                                        options="localityList" class="col-md-6"
                                        extra-settings="settingsForDynamicGraphVendor"
                                        selected-model="selectedLocalities"
                                        translation-texts="selected_baselines_customTexts_vendor"
                                        events="events"></span>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6" style="color:#808080;" ng-if="selectedCities_temp.length">
                                        <br />
                                        <div class="row">
                                          <p style="color:#808080;">Select Campaign</p>
                                          <span class="multiselectDropdown" style="color:red;width:100%;"
                                            ng-dropdown-multiselect="" options="dynamicValuesCampaigns" class="col-md-6"
                                            extra-settings="settingsForDynamicGraph"
                                            selected-model="selectedDynamicCampaigns"
                                            translation-texts="selected_baselines_customTexts"
                                            events="eventsForDynamicGraphCampaign"></span>
                                        </div>
                                        <br />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <p style="color:#cb1925;text-align:center;font-weight: bold;">OR</p>
                                <br />
                                <div class="panel panel-danger" style="color:#000000;">
                                  <div class="panel-heading" style="background:#cb1925">Filter By Vendor</div>
                                  <div class="panel-body">
                                    <br /><br />
                                    <div class="row form-group">
                                      <small>
                                        <!-- <p style="color:#000000;">Select Vendors :</p> -->
                                        <input type="checkbox" name="" value="" ng-model="checkboxCheckedVendor"
                                          ng-checked="!checkboxCheckedCity"> Select Vendor
                                        <br />
                                        <div class="col-md-3 pull-left" ng-click="DisabledClickedVendor()"
                                          ng-show="checkboxCheckedVendor" ng-hide="checkboxCheckedCity">
                                          <span class="multiselectParentDropdown"
                                            style="color:red;width:100%;margin-left:-20px;" ng-dropdown-multiselect=""
                                            options="vendorsList" class="col-md-6"
                                            extra-settings="settingsForDynamicGraphVendor"
                                            selected-model="selectedVendors"
                                            translation-texts="selected_baselines_customTexts_vendor"
                                            events="events"></span>
                                        </div>
                                      </small>
                                      <small>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6" style="color:#808080;" ng-if="selectedVendors.length">
                                        <br />
                                        <div class="row">
                                          <p style="color:#808080;">Select Campaign</p>
                                          <span class="multiselectDropdown" style="color:red;width:100%;"
                                            ng-dropdown-multiselect="" options="dynamicValuesVendor" class="col-md-6"
                                            extra-settings="settingsForDynamicGraph"
                                            selected-model="selectedDynamicCampaigns"
                                            translation-texts="selected_baselines_customTexts"
                                            events="eventsForDynamicGraphCampaign"></span>
                                        </div>
                                        <br />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <!--second row headers  -->
                              <div class="col-md-12 row panel panel-default">
                                <div class="col-md-6">
                                  <div class="panel-heading">
                                    Include Suppliers By Lead Counts
                                  </div>
                                  <div class="panel-body">
                                    <div class="row">
                                      </br>
                                      <p style="color:#808080;">Select</p>
                                      <span class="multiselectDropdown" style="color:red;width:100%;"
                                        ng-dropdown-multiselect="" options="graphParams" class="col-md-6"
                                        extra-settings="settingsForGraphParams"
                                        selected-model="selectedDynamicGraphParams"
                                        translation-texts="selected_baselines_customTexts_graphParams"
                                        events="eventsForDynamicGraphCampaign"></span>
                                    </div>
                                  </div>
                                  <br /><br />
                                </div>
                                <div class="col-md-4"></div>
                                <div class="col-md-2"></div>
                              </div>



                              <br /><br />
                              <div class="row">
                                <div class="form-group">
                                  <span><small>
                                      <div class="col-md-12">
                                        <button type="button" name="button" class="col-md-9 btn btn-danger pull-left"
                                          ng-model="checkAllElements" ng-click="getGenericGraphData()"
                                          ng-disabled="selectedDynamicCampaigns.length == 0">Submit</button>
                                        <button class="col-md-3 btn btn-primary pull-right"
                                          ng-click="clearDatesFromDynamicGraph()">Reset All</button>
                                    </small>
                                </div>
                                </span>
                              </div>
                            </div>

                          </div>
                          <div class="col-md-12" style="margin-top:20px;">
                            <div class="col-md-12">

                              <div class="panel-heading content-title" style="height:70px;">
                                Graph Based On Filters
                                <div class="row">
                                  <br />
                                  <p ng-if="selectAnyDate" style="color:#fff">Date :
                                    {{graphSelection.dateRange.startDate | date : 'mediumDate'}} -
                                    {{graphSelection.dateRange.endDate | date : 'mediumDate'}}</p>
                                  <p ng-if="selectAnyPhase" style="color:#fff">Phase :
                                    {{graphSelection.phaseRange.start}} - Phase : {{graphSelection.phaseRange.end}}
                                  </p>
                                </div>
                                <br />
                              </div>
                              <br />
                              <div class="row" style="color:#123456;">
                                <div class="col-md-12">
                                  <div class="col-md-2">
                                    <input type="checkbox" style="width:20px;height:20px;" value="leadsValues"
                                      ng-model="graphSelection.Yvalues.leadsPerc" ng-click="changeDynamicGraph()">
                                    <small> LEADS %</small>
                                  </div>
                                  <div class="col-md-2">
                                    <input type="checkbox" style="width:20px;height:20px;" value="hotleadsValues"
                                      ng-model="graphSelection.Yvalues.hotleadsPerc" ng-click="changeDynamicGraph()">
                                    <small> HOT LEADS %</small>
                                  </div>
                                  <!-- <div class="col-md-2">
                             <input type="checkbox" style="width:20px;height:20px;" value="hotleadsValues" ng-model="graphSelection.Yvalues.meetingFixedPerc" ng-click="changeDynamicGraph()"> <small> MEETING FIXED %</small>
                           </div> -->
                                  <div class="col-md-3">
                                    <input type="checkbox" style="width:20px;height:20px;" value="hotleadsValues"
                                      ng-model="graphSelection.Yvalues.meetingCompletedPerc"
                                      ng-click="changeDynamicGraph()"> <small> Booking Confirmed %</small>
                                  </div>
                                  <div class="col-md-3">
                                    <input type="checkbox" style="width:20px;height:20px;" value="hotleadsValues"
                                      ng-model="graphSelection.Yvalues.conversionPerc" ng-click="changeDynamicGraph()">
                                    <small> Order Punched %</small>
                                  </div>
                                </div>
                              </div>
                              <br />
                              <br />
                              <br />
                              <div class="row" ng-if="stackedBarChartDynamicData">
                                <select class="form-control" name="" ng-model="dynamicGraphSelectedOrder.value"
                                  ng-change="sortDynamicData('ASC')">
                                  <option value="" disabled>Select Order</option>
                                  <option value="">All</option>
                                  <option value="{{value}}" ng-repeat="value in yValues">
                                    {{dynamicGraphYValuesMap[value]}}</option>
                                </select>
                              </div>
                              <br />
                              <div class="row" ng-if="dynamicGraphSelectedOrder.value">
                                <button ng-click="sortDynamicData('ASC')" class="btn btn-danger">Ascending</button>
                                <button ng-click="sortDynamicData('DESC')" class="btn btn-danger">Descending</button>
                              </div>
                              <br />
                              <div class="panel panel-danger">
                                <div class="dynamicOuterGraphs">
                                  <div class="dynamicInnerGraphs">
                                    <nvd3 options="stackedBarChartForDynamic" data="stackedBarChartDynamicData"
                                      ng-if="!dynamicGraphSelectedOrder.value"></nvd3>
                                    <nvd3 options="dynamicSortedGraphOptions" data="dynamicSortedGraphData"
                                      ng-if="dynamicGraphSelectedOrder.value"></nvd3>
                                    <div class="panel-heading content-title" ng-if="!showCumulativeSummaryGraphs">
                                      <label for="Location">Cumulative Summary Graph</label>
                                    </div>
                                    <nvd3 options="stackedBarChartForDynamicSummary"
                                      data="stackedBarChartDynamicDataSummary" ng-if="!showCumulativeSummaryGraphs">
                                    </nvd3>
                                  </div>
                                  <div class="dynamicInnerGraphs" style="height:500px;" ng-if="cumulativeOrder">
                                    <select class="form-control" ng-model="selectedOrderKey"
                                      ng-change="changeCumulativeOrderKey(selectedOrderKey)">
                                      <option ng-repeat="key in cumulativeOrderCampaignKeys" value="{{key}}">{{key}}
                                      </option>
                                    </select>
                                    <div class="col-md-12"
                                      ng-repeat=" graphData in lineChartForCumulativeOrder track by $index">
                                      <div class="col-md-8 cumulativeChart">
                                        <nvd3 options="lineChartGraphCumulativeOrder[$index]" data="graphData"></nvd3>
                                      </div>
                                      <div class="col-md-4 cumulativeChart">
                                        <table class="table table-responsive table-bordered cumulativeGraphTable">
                                          <thead>
                                            <tr>
                                              <th>Days</th>
                                              <th> Count</th>
                                              <th>Percentage %</th>
                                            </tr>
                                            <tr ng-repeat="data in cumulativeTableData[$index]">
                                              <th>{{data.key}}</th>
                                              <td>{{data.sum}}</td>
                                              <td>{{data.perct}}</td>
                                            </tr>
                                          </thead>
                                        </table>
                                      </div>

                                    </div>
                                    <div class="col-md-12"
                                      ng-repeat="graphData1 in cumulativeLineChartOrderSummary track by $index"
                                      ng-if="!showCumulativeSummaryGraphs">
                                      <div class="panel-heading content-title" ng-if="$index == 0">
                                        <label for="Location">Cumulative Summary Graph</label>
                                      </div>

                                      {{graphData1}}
                                      <div class="col-md-8 cumulativeChart">
                                        <nvd3 options="lineChartGraphCumulativeOrderSummary[$index]" data="graphData1">
                                        </nvd3>
                                      </div>
                                      <div class="col-md-4 cumulativeChart">
                                        <table class="table table-responsive table-bordered cumulativeGraphTable">
                                          <thead>
                                            <tr>
                                              <th>Days</th>
                                              <th> Count</th>
                                              <th>Percentage %</th>
                                            </tr>
                                            <tr ng-repeat="data in cumulativeTableDataSummary[$index]">
                                              <th>{{data.key}}</th>
                                              <td>{{data.sum}}</td>
                                              <td>{{data.perct}}</td>
                                            </tr>
                                          </thead>
                                        </table>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                      </div>
                      </form>
                    </div>
                    <!-- end with dynamic graph -->
                    <br />
                    <br />

                    <!-- start with graph filtered table wise  -->

                    <div class="col-lg-12"
                      ng-if="applyClickedFilters.value && initialDynamicGraphData.lower_group_data.length"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Campaign Filtered with Weekly Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer20')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer20" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Details</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                <th ng-repeat="data in campaignOverallSummary">{{data.name}}</th>
                                <!-- <th style="background:#8e1921 !important;color:#ffffff !important">Last Week</th>
              <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Weeks</th>
              <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Weeks</th> -->
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr>
                                <td><small style="font-weight:bold">{{flat_count_header}}</small></td>
                                <td>{{getOverallSummaryData('flatCount') || 'NA'}}</td>
                                <td ng-repeat="data in campaignOverallSummary">{{data.flatCount}}</td>
                                <!-- <td>{{WeeklyVendorMISLastWeekSummary.flat_count || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast2WeekSummary.flat_count || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast3WeekSummary.flat_count || 'NA'}}</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Total Leads</small></td>
                                <td>{{getOverallSummaryData('totalLeads') || 'NA'}}</td>
                                <td ng-repeat="data in campaignOverallSummary">{{data.totalLeads}}</td>
                                <!-- <td>{{WeeklyVendorMISLastWeekSummary.total || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast2WeekSummary.total || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast3WeekSummary.total || 'NA'}}</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Hot Leads</small></td>
                                <td>{{getOverallSummaryData('hotLeads') || 'NA'}}</td>
                                <td ng-repeat="data in campaignOverallSummary">{{data.hotLeads}}</td>
                                <!-- <td>{{WeeklyVendorMISLastWeekSummary.interested || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast2WeekSummary.interested || 'NA'}}</td>
          <td>{{WeeklyVendorMISLast3WeekSummary.interested || 'NA'}}</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Cost Per Leads <br> (Leads %)</small></td>
                                <td>{{getOverallSummaryData('costPerLeads')}} <br>
                                  ({{getOverallSummaryData('leadsPerc')}}) %</td>
                                <td ng-repeat="data in campaignOverallSummary">
                                  {{data.costPerLeads}}<br>({{data.leadsPerc}})</td>
                                <!-- <td>({{(WeeklyVendorMISLastWeekSummary.total / WeeklyVendorMISLastWeekSummary.flat_count)  * 100 | limitTo:5}}) %</td>
          <td>({{(WeeklyVendorMISLast2WeekSummary.total / WeeklyVendorMISLast2WeekSummary.flat_count)  * 100 | limitTo:5}}) %</td>
          <td>({{(WeeklyVendorMISLast3WeekSummary.total / WeeklyVendorMISLast3WeekSummary.flat_count)  * 100 | limitTo:5}}) %</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Cost Per Hot Leads <br> (Hot Leads %)</small></td>
                                <td>{{getOverallSummaryData('costPerHotLeads')}} <br>
                                  ({{getOverallSummaryData('hotLeadsPerc')}}) %</td>
                                <td ng-repeat="data in campaignOverallSummary">
                                  {{data.costPerHotLeads}}<br>({{data.hotLeadsPerc}})</td>
                                <!-- <td>{{(WeeklyVendorMISLastWeekSummary.interested / WeeklyVendorMISLastWeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast2WeekSummary.interested / WeeklyVendorMISLast2WeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast3WeekSummary.interested / WeeklyVendorMISLast3WeekSummary.flat_count)  * 100 | limitTo:5}} %</td> -->
                              </tr>

                              <!-- <tr>

          <td><small style="font-weight:bold">Cost Per Meeting Fixed <br> (Meeting Fixed %)</small></td>
          <td>{{initalDynamicTableData['cost_flat/hotness_level_2']}} <br> ({{initalDynamicTableData['hot_lead/flat*100'] | limitTo:5}}) %</td>
          <td>{{(WeeklyVendorMISLastWeekSummary.interested / WeeklyVendorMISLastWeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast2WeekSummary.interested / WeeklyVendorMISLast2WeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast3WeekSummary.interested / WeeklyVendorMISLast3WeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          </tr> -->
                              <tr>
                                <td><small style="font-weight:bold">Cost Per Booking Confirmed <br> (Booking Confirmed
                                    %)</small></td>
                                <td>{{getOverallSummaryData('costPerBookingConfirmed')}} <br>
                                  ({{getOverallSummaryData('bookingConfirmedPerc')}}) %</td>
                                <td ng-repeat="data in campaignOverallSummary">
                                  {{data.costPerBookingConfirmed}}<br>({{data.bookingConfirmedPerc}})</td>
                                <!-- <td>{{(WeeklyVendorMISLastWeekSummary.interested / WeeklyVendorMISLastWeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast2WeekSummary.interested / WeeklyVendorMISLast2WeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast3WeekSummary.interested / WeeklyVendorMISLast3WeekSummary.flat_count)  * 100 | limitTo:5}} %</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Cost Per Orders Punched <br> (Orders Punched
                                    %)</small></td>
                                <td>{{getOverallSummaryData('costPerOrdersPunched')}} <br>
                                  ({{getOverallSummaryData('ordersPunchedPerc')}}) %</td>
                                <td ng-repeat="data in campaignOverallSummary">
                                  {{data.costPerOrdersPunched}}<br>({{data.ordersPunchedPerc}})</td>
                                <!-- <td>{{(WeeklyVendorMISLastWeekSummary.interested / WeeklyVendorMISLastWeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast2WeekSummary.interested / WeeklyVendorMISLast2WeekSummary.flat_count)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast3WeekSummary.interested / WeeklyVendorMISLast3WeekSummary.flat_count)  * 100 | limitTo:5}} %</td> -->
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Hot Leads Ratio (%)</small></td>
                                <td>{{ getOverallSummaryData('ratio')}} %</td>
                                <td ng-repeat="data in campaignOverallSummary">{{ data.ratio }} %</td>
                                <!-- <td>{{(WeeklyVendorMISLastWeekSummary.interested / WeeklyVendorMISLastWeekSummary.total)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast2WeekSummary.interested / WeeklyVendorMISLast2WeekSummary.total)  * 100 | limitTo:5}} %</td>
          <td>{{(WeeklyVendorMISLast3WeekSummary.interested / WeeklyVendorMISLast3WeekSummary.total)  * 100 | limitTo:5}} %</td> -->
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12"
                      ng-if="applyClickedFilters.value && initialDynamicGraphData.lower_group_data.length"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Campaign Filtered Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer20')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer20" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Quality Type</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">
                                  {{flat_count_header}} Type</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Hot Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Cost Per Leads <br>
                                  (%)</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Cost Per Hot Leads
                                  <br> (%)
                                </th>
                                <!-- <th style="background:#8e1921 !important;color:#ffffff !important">Cost Per Meeting Fixed  <br> (%) </th> -->
                                <th style="background:#8e1921 !important;color:#ffffff !important">Cost Per Booking
                                  Confirmed <br> (%)</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Cost Per Order
                                  Punched <br> (%)</th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in campaignFilteredSummaryData">
                                <!-- <tr ng-repeat="(key,data) in campaignFilteredSummaryData" > -->
                                <td ng-if="!data.city && !data.vendor_name" style="text-transform: capitalize">
                                  {{data.campaign_name}}</td>
                                <td ng-if="data.city" style="text-transform: capitalize">{{data.city}}</td>
                                <td ng-if="data.vendor_name" style="text-transform: capitalize">{{data.vendor_name}}
                                </td>
                                <td ng-if="data.qualitytype">{{data.qualitytype}}</td>
                                <td ng-if="!data.qualitytype">NA</td>
                                <td ng-if="data.flattype">{{data.flattype}}</td>
                                <td ng-if="!data.flattype">NA</td>
                                <td>{{data.lead}}</td>
                                <td>{{data.hot_lead}}</td>
                                <td>{{roundOfPrecisionTwo(data['flat*cost_flat/lead'])}} <br>
                                  ({{roundOfPrecisionTwo(data['lead/flat*100'])}})</td>
                                <td>{{roundOfPrecisionTwo(data['flat*cost_flat/hot_lead'])}} <br>
                                  ({{roundOfPrecisionTwo(data['hot_lead/flat*100'])}})</td>
                                <!-- <td>{{data['flat*cost_flat/hotness_level_2']}} <br> ({{data['hotness_level_2/flat*100']}} %)</td> -->
                                <td>{{roundOfPrecisionTwo(data['flat*cost_flat/total_booking_confirmed'])}}
                                  <br>({{roundOfPrecisionTwo(data['total_booking_confirmed/flat*100'])}})
                                </td>
                                <td>{{roundOfPrecisionTwo(data['flat*cost_flat/total_orders_punched'])}} <br>
                                  ({{roundOfPrecisionTwo(data['total_orders_punched/flat*100'])}})</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <!-- end with graph filtered table wise -->


                    <!-- Start Weekly VendorMaster (ALL Cities)-->
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Master Vendor wise Summary</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer11')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <br />
                          <table class="table table-striped" id="customer11" st-table="vendorSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Details</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last Week</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Weeks</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Weeks</th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr>
                                <td><small style="font-weight:bold">{{flat_count_header}}</small></td>
                                <td>{{WeeklyVendorMISOverallSummary.flat_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLastWeekSummary.flat_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast2WeekSummary.flat_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast3WeekSummary.flat_count || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Supplier Count</small></td>
                                <td>{{WeeklyVendorMISOverallSummary.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLastWeekSummary.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast2WeekSummary.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast3WeekSummary.total_supplier_count || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Total Leads</small></td>
                                <td>{{WeeklyVendorMISOverallSummary.total || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLastWeekSummary.total || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast2WeekSummary.total || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast3WeekSummary.total || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Total Leads in %</small></td>
                                <td>{{(WeeklyVendorMISOverallSummary.total / WeeklyVendorMISOverallSummary.flat_count)
                                  * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLastWeekSummary.total /
                                  WeeklyVendorMISLastWeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast2WeekSummary.total /
                                  WeeklyVendorMISLast2WeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast3WeekSummary.total /
                                  WeeklyVendorMISLast3WeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Mean of Leads</small></td>
                                <td>{{WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat || 'NA' |
                                  limitTo:5}} %</td>
                                <td>{{WeeklyVendorMISLastWeekSummary.total_leads_analytics.percentage_by_flat || 'NA'
                                  | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLastWeekSummary.total_leads_analytics.percentage_by_flat > WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLastWeekSummary.total_leads_analytics.percentage_by_flat < WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>

                                </td>
                                <td>{{WeeklyVendorMISLast2WeekSummary.total_leads_analytics.percentage_by_flat || 'NA'
                                  | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLast2WeekSummary.total_leads_analytics.percentage_by_flat > WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLast2WeekSummary.total_leads_analytics.percentage_by_flat < WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyVendorMISLast3WeekSummary.total_leads_analytics.percentage_by_flat || 'NA'
                                  | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLast3WeekSummary.total_leads_analytics.percentage_by_flat > WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLast3WeekSummary.total_leads_analytics.percentage_by_flat < WeeklyVendorMISOverallSummary.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                              </tr>
                            </tbody>
                            <tbody ng-repeat="(key, value) in WeeklyVendorMISOverallSummary.lead_keys">
                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}}</small></td>
                                <td>{{WeeklyVendorMISOverallSummary[key] || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLastWeekSummary[key] || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast2WeekSummary[key] || 'NA'}}</td>
                                <td>{{WeeklyVendorMISLast3WeekSummary[key] || 'NA'}}</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}} in %</small></td>
                                <td>{{(WeeklyVendorMISOverallSummary[key] / WeeklyVendorMISOverallSummary.flat_count)
                                  * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLastWeekSummary[key] /
                                  WeeklyVendorMISLastWeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast2WeekSummary[key] /
                                  WeeklyVendorMISLast2WeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast3WeekSummary[key] /
                                  WeeklyVendorMISLast3WeekSummary.flat_count) * 100 | limitTo:5}} %</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}} Ratio (%)</small></td>
                                <td>{{(WeeklyVendorMISOverallSummary[key] / WeeklyVendorMISOverallSummary.total) * 100
                                  | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLastWeekSummary[key] / WeeklyVendorMISLastWeekSummary.total) *
                                  100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast2WeekSummary[key] / WeeklyVendorMISLast2WeekSummary.total) *
                                  100 | limitTo:5}} %</td>
                                <td>{{(WeeklyVendorMISLast3WeekSummary[key] / WeeklyVendorMISLast3WeekSummary.total) *
                                  100 | limitTo:5}} %</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Mean of Hotness {{$index+1}}</small></td>
                                <td>{{WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat || 'NA' |
                                  limitTo:5}} %</td>
                                <td>{{WeeklyVendorMISLastWeekSummary.analytics[key].percentage_by_flat || 'NA' |
                                  limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLastWeekSummary.analytics[key].percentage_by_flat > WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLastWeekSummary.analytics[key].percentage_by_flat < WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyVendorMISLast2WeekSummary.analytics[key].percentage_by_flat || 'NA' |
                                  limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLast2WeekSummary.analytics[key].percentage_by_flat > WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLast2WeekSummary.analytics[key].percentage_by_flat < WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyVendorMISLast3WeekSummary.analytics[key].percentage_by_flat || 'NA' |
                                  limitTo:5}} %
                                  <span
                                    ng-if="WeeklyVendorMISLast3WeekSummary.analytics[key].percentage_by_flat > WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyVendorMISLast3WeekSummary.analytics[key].percentage_by_flat < WeeklyVendorMISOverallSummary.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <!-- End Weekly VenodorMaster (ALL CITIES)-->


                    <!-- start with vendor wise  -->

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads  && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Vendor Wise Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer10')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer10" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Vendor Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">
                                  {{flat_count_header}}</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads <br>in
                                  %</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key,data) in overallVendorSummary.overall.lead_keys">
                                  Hotness {{$index+1}}
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key,data) in overallVendorSummary.overall.lead_keys">
                                  Hotness {{$index+1}} <br> in %
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key,data) in overallVendorSummary.overall.lead_keys">
                                  Hotness {{$index+1}} <br> (%)
                                </th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in overallVendorSummary" ng-if="key != 'overall'">
                                <td style="text-transform: capitalize">{{vendorSummary.vendor_details[key].name}}</td>
                                <td>{{data.flat_count}}</td>
                                <td>{{data.total_supplier_count}}</td>
                                <td>{{data.total}}</td>
                                <td ng-if="data.flat_count != 0">{{(data.total / data.flat_count) * 100 | limitTo:5}}%
                                </td>
                                <td ng-if="data.flat_count == 0">NA</td>
                                <td ng-repeat="(key1,data1) in overallVendorSummary.overall.lead_keys">
                                  {{data[key1]}}
                                </td>
                                <td ng-repeat="(key1,data1) in overallVendorSummary.overall.lead_keys">
                                  <span ng-if="data.flat_count != 0">{{(data[key1] / data.flat_count) * 100 |
                                    limitTo:5 }}%</span>
                                  <span ng-if="data.flat_count == 0">NA</span>
                                </td>
                                <td ng-repeat="(key1,data1) in overallVendorSummary.overall.lead_keys">
                                  {{(data[key1] / data.total) * 100 | limitTo:5 }}%
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <!-- end with vendor wise -->

                    <!-- start of vendor graphical summary -->
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads  && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="flat graph">Overall Vendor Graph Summary</label>
                        </div>
                      </div>
                      <div class="row">
                        <!-- <select class="form-control" ng-change="sortData('overall',sortModel)"  ng-model="sortModel" print-remove>
           <option value="" disabled>Select For Sorting</option>
            <option ng-repeat="item in sortMenu" value="{{item.id}}" >{{item.name}}</option>
          </select> -->

                        <div class="outerVendor" ng-if="!dateRangeModel.start_date">
                          <div class="innerVendor" ng-if="!dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['overall']"
                              ng-if="togglesortedGraphs['overall']"></nvd3>
                            <nvd3 options="OverallVendorStackedBarChart" data="stackedBarAllVendorWiseChart"
                              ng-if="!togglesortedGraphs['overall']"></nvd3>
                          </div>
                        </div>
                        <div ng-if="dateRangeModel.start_date">
                          <div ng-if="dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['overall']"
                              ng-if="togglesortedGraphs['overall']"></nvd3>
                            <nvd3 options="OverallVendorStackedBarChart" data="stackedBarAllVendorWiseChart"
                              ng-if="!togglesortedGraphs['overall']"></nvd3>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- end of vendor graphical summary -->
                    <!-- Start Weekly Master (ALL Cities)-->
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads  && !applyClickedFilters.value">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Master City Wise Summary</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer1')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <br />
                          <table class="table table-striped" id="customer1" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Details</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last Week</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Weeks</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Weeks</th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr>
                                <td><small style="font-weight:bold">{{flat_count_header}}</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns.flat_count || 'NA'}}</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns.flat_count || 'NA'}}</td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns.flat_count || 'NA'}}</td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns.flat_count || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Supplier Count</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns.total_supplier_count || 'NA'}}</td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns.total_supplier_count || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Total Leads</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns.total || 'NA'}}</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns.total || 'NA'}}</td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns.total || 'NA'}}</td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns.total || 'NA'}}</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Total Leads in %</small></td>
                                <td>{{(WeeklyMISOverallSummary.all_campaigns.total /
                                  WeeklyMISOverallSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLastWeekSummary.all_campaigns.total /
                                  WeeklyMISLastWeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast2WeekSummary.all_campaigns.total /
                                  WeeklyMISLast2WeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast3WeekSummary.all_campaigns.total /
                                  WeeklyMISLast3WeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                              </tr>
                              <tr>
                                <td><small style="font-weight:bold">Mean of Leads</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat
                                  || 'NA' | limitTo:5}} %</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat
                                  || 'NA' | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLastWeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLastWeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>

                                </td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat
                                  || 'NA' | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLast2WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLast2WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat
                                  || 'NA' | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLast3WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLast3WeekSummary.all_campaigns.total_leads_analytics.percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                              </tr>
                            </tbody>
                            <tbody ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}}</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns[key] || 'NA'}}</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns[key] || 'NA'}}</td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns[key] || 'NA'}}</td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns[key] || 'NA'}}</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}} in %</small></td>
                                <td>{{(WeeklyMISOverallSummary.all_campaigns[key] /
                                  WeeklyMISOverallSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLastWeekSummary.all_campaigns[key] /
                                  WeeklyMISLastWeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast2WeekSummary.all_campaigns[key] /
                                  WeeklyMISLast2WeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast3WeekSummary.all_campaigns[key] /
                                  WeeklyMISLast3WeekSummary.all_campaigns.flat_count) * 100 | limitTo:5}} %</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Hotness {{$index+1}} Ratio (%)</small></td>
                                <td>{{(WeeklyMISOverallSummary.all_campaigns[key] /
                                  WeeklyMISOverallSummary.all_campaigns.total) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLastWeekSummary.all_campaigns[key] /
                                  WeeklyMISLastWeekSummary.all_campaigns.total) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast2WeekSummary.all_campaigns[key] /
                                  WeeklyMISLast2WeekSummary.all_campaigns.total) * 100 | limitTo:5}} %</td>
                                <td>{{(WeeklyMISLast3WeekSummary.all_campaigns[key] /
                                  WeeklyMISLast3WeekSummary.all_campaigns.total) * 100 | limitTo:5}} %</td>
                              </tr>

                              <tr>
                                <td><small style="font-weight:bold">Mean of Hotness {{$index+1}}</small></td>
                                <td>{{WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat || 'NA'
                                  | limitTo:5}} %</td>
                                <td>{{WeeklyMISLastWeekSummary.all_campaigns.analytics[key].percentage_by_flat || 'NA'
                                  | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLastWeekSummary.all_campaigns.analytics[key].percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLastWeekSummary.all_campaigns.analytics[key].percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyMISLast2WeekSummary.all_campaigns.analytics[key].percentage_by_flat ||
                                  'NA' | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLast2WeekSummary.all_campaigns.analytics[key].percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLast2WeekSummary.all_campaigns.analytics[key].percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td>{{WeeklyMISLast3WeekSummary.all_campaigns.analytics[key].percentage_by_flat ||
                                  'NA' | limitTo:5}} %
                                  <span
                                    ng-if="WeeklyMISLast3WeekSummary.all_campaigns.analytics[key].percentage_by_flat > WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="WeeklyMISLast3WeekSummary.all_campaigns.analytics[key].percentage_by_flat < WeeklyMISOverallSummary.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <!-- End Weekly Master (ALL CITIES)-->

                    <!-- < Start Overall Campaign Wise Summary> -->
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Overall Campaign Wise Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer2')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer2" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">
                                  {{flat_count_header}}</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads <br>in
                                  %</th>

                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}}
                                </th>

                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} <br> in %
                                </th>

                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} Ratio <br> (%)
                                </th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in overallCampaignSummary">
                                <td style="font-weight:bold">{{data.name}}</td>
                                <td>{{data.flat_count}}</td>
                                <td>{{data.total_supplier_count}}</td>
                                <td>{{data.total}}</td>
                                <td ng-if="data.flat_count != 0">{{(data.total / data.flat_count) * 100 | limitTo:5}}%
                                </td>
                                <td ng-if="data.flat_count == 0">NA</td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{data[key1]}}
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  <span ng-if="data.flat_count != 0">{{(data[key1] / data.flat_count) * 100 |
                                    limitTo:5 }}%</span>
                                  <span ng-if="data.flat_count == 0">NA</span>
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{(data[key1] / data.total) * 100 | limitTo:5 }}%
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Overall Statistical Details</label>
                        </div>
                      </div>
                      <br>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer3')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>

                          <table class="table table-striped" id="customer3" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Type</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Overall</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last Week</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 2 Week</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Last 3 Week</th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr>
                                <td><small style="font-weight:bold">Mean of Leads</small></td>
                                <td
                                  ng-if="campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  {{campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat |
                                  limitTo:5}} %</td>
                                <td
                                  ng-if="!campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  NA</td>

                                <td
                                  ng-if="campaignSummary.last_week.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  {{campaignSummary.last_week.all_campaigns.total_leads_analytics.percentage_by_flat |
                                  limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_week.all_campaigns.total_leads_analytics.percentage_by_flat > campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_week.all_campaigns.total_leads_analytics.percentage_by_flat < campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td
                                  ng-if="!campaignSummary.last_week.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  NA</td>

                                <td
                                  ng-if="campaignSummary.last_two_weeks.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  {{campaignSummary.last_two_weeks.all_campaigns.total_leads_analytics.percentage_by_flat
                                  | limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_two_weeks.all_campaigns.total_leads_analytics.percentage_by_flat > campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_two_weeks.all_campaigns.total_leads_analytics.percentage_by_flat < campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td
                                  ng-if="!campaignSummary.last_two_weeks.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  NA </td>

                                <td
                                  ng-if="campaignSummary.last_three_weeks.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  {{campaignSummary.last_three_weeks.all_campaigns.total_leads_analytics.percentage_by_flat
                                  | limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_three_weeks.all_campaigns.total_leads_analytics.percentage_by_flat > campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_three_weeks.all_campaigns.total_leads_analytics.percentage_by_flat < campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td
                                  ng-if="!campaignSummary.last_three_weeks.all_campaigns.total_leads_analytics.percentage_by_flat">
                                  NA </td>
                              </tr>

                              <tr ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                <td><small style="font-weight:bold">Mean of Hotness {{$index+1}}</small></td>
                                <td ng-if="campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat">
                                  {{campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat |
                                  limitTo:5}} %</td>
                                <td ng-if="!campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat">
                                  NA</td>

                                <td ng-if="campaignSummary.last_week.all_campaigns.analytics[key].percentage_by_flat">
                                  {{campaignSummary.last_week.all_campaigns.analytics[key].percentage_by_flat |
                                  limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_week.all_campaigns.analytics[key].percentage_by_flat > campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_week.all_campaigns.analytics[key].percentage_by_flat < campaignSummary.overall.all_campaigns.total_leads_analytics.percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td ng-if="!campaignSummary.last_week.all_campaigns.analytics[key].percentage_by_flat">
                                  NA</td>

                                <td
                                  ng-if="campaignSummary.last_two_weeks.all_campaigns.analytics[key].percentage_by_flat">
                                  {{campaignSummary.last_two_weeks.all_campaigns.analytics[key].percentage_by_flat |
                                  limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_two_weeks.all_campaigns.analytics[key].percentage_by_flat > campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_two_weeks.all_campaigns.analytics[key].percentage_by_flat < campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td
                                  ng-if="!campaignSummary.last_two_weeks.all_campaigns.analytics[key].percentage_by_flat">
                                  NA </td>

                                <td
                                  ng-if="campaignSummary.last_three_weeks.all_campaigns.analytics[key].percentage_by_flat">
                                  {{campaignSummary.last_three_weeks.all_campaigns.analytics[key].percentage_by_flat |
                                  limitTo:5 }} %
                                  <span
                                    ng-if="campaignSummary.last_three_weeks.all_campaigns.analytics[key].percentage_by_flat > campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-up green"></span>
                                  <span
                                    ng-if="campaignSummary.last_three_weeks.all_campaigns.analytics[key].percentage_by_flat < campaignSummary.overall.all_campaigns.analytics[key].percentage_by_flat"
                                    class="glyphicon glyphicon-arrow-down red"></span>
                                </td>
                                <td
                                  ng-if="!campaignSummary.last_three_weeks.all_campaigns.analytics[key].percentage_by_flat">
                                  NA </td>
                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;overflow:auto">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="flat graph">Overall Graph Summary</label>
                        </div>
                      </div>
                      <div class="row">
                        <select class="form-control" ng-change="sortData('overall',sortModel)" ng-model="sortModel"
                          print-remove>
                          <option value="" disabled>Select For Sorting</option>
                          <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                        </select>
                        <div class="outer" ng-if="!dateRangeModel.start_date">
                          <div class="inner" ng-if="!dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['overall']"
                              ng-if="togglesortedGraphs['overall']"></nvd3>
                            <nvd3 options="OverallSummaryStackedBarChart" data="stackedBarAllCampaignWiseChart"
                              ng-if="!togglesortedGraphs['overall']"></nvd3>
                          </div>
                        </div>
                        <div ng-if="dateRangeModel.start_date">
                          <div ng-if="dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['overall']"
                              ng-if="togglesortedGraphs['overall']"></nvd3>
                            <nvd3 options="OverallSummaryStackedBarChart" data="stackedBarAllCampaignWiseChart"
                              ng-if="!togglesortedGraphs['overall']"></nvd3>
                          </div>
                        </div>
                      </div>
                    </div>

                    <br /><br />
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:50px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Week Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer4')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer4" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">
                                  {{flat_count_header}}</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads <br>in
                                  %</th>

                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}}
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} <br> in %
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} Ratio <br> (%)
                                </th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in lastWeekCampaignSummary">
                                <td style="font-weight:bold">{{data.name}}</td>
                                <td>{{data.flat_count}}</td>
                                <td>{{data.total_supplier_count}}</td>
                                <td>{{data.total}}</td>
                                <td ng-if="data.flat_count != 0">{{(data.total / data.flat_count) * 100 | limitTo:5}}%
                                </td>
                                <td ng-if="data.flat_count == 0">NA</td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{data[key1]}}
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  <span ng-if="data.flat_count != 0">{{(data[key1] / data.flat_count) * 100 |
                                    limitTo:5 }}%</span>
                                  <span ng-if="data.flat_count == 0">NA</span>
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{(data[key1] / data.total) * 100 | limitTo:5 }}%
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Week Statistical Details</label>
                        </div>
                      </div>
                      <br> <br>
                      <table class="table table-striped" st-table="campaignSummary">
                        <thead>
                          <tr>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Mean of Leads</th>

                            <th style="background:#8e1921 !important;color:#ffffff !important"
                              ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                              Mean of Hotness {{$index+1}}
                            </th>
                          </tr>
                        </thead>
                        <tbody style="text-align:center;">
                          <tr ng-repeat="(key,data) in lastWeekCampaignSummary">
                            <td style="font-weight:bold">{{data.name}}</td>
                            <td ng-if="data.total_leads_analytics.percentage_by_flat">
                              {{data.total_leads_analytics.percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-if="!data.total_leads_analytics.percentage_by_flat">NA</td>

                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="data.analytics[key1].percentage_by_flat">
                              {{data.analytics[key1].percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="!data.analytics[key1].percentage_by_flat">NA</td>

                          <tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="flat graph">Last Week Graph Summary</label>
                        </div>
                      </div>
                      <div class="row">
                        <select class="form-control" ng-change="sortData('thisweek',sortModel)" ng-model="sortModel"
                          print-remove>
                          <option value="" disabled>Select For Sorting</option>
                          <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                        </select>
                        <div class="outerLastWeekSummary" ng-if="!dateRangeModel.start_date">
                          <div class="innerLastWeekSummary" ng-if="!dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['thisweek']"
                              ng-if="togglesortedGraphs['thisweek']"></nvd3>
                            <nvd3 options="thisWeekSummaryStackedBarChart" data="stackedBarLastWeekChart"
                              ng-if="!togglesortedGraphs['thisweek']"></nvd3>
                          </div>
                        </div>
                        <div ng-if="dateRangeModel.start_date">
                          <div ng-if="dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['thisweek']"
                              ng-if="togglesortedGraphs['thisweek']"></nvd3>
                            <nvd3 options="thisWeekSummaryStackedBarChart" data="stackedBarLastWeekChart"
                              ng-if="!togglesortedGraphs['thisweek']"></nvd3>
                          </div>
                        </div>
                      </div>
                    </div>

                    <br /><br />

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Two Weeks Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer5')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer5" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Unit Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Society Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads <br>in
                                  %</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}}
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} <br> in %
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} Ratio <br> (%)
                                </th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in last2WeeksCampaignSummary">
                                <td style="font-weight:bold">{{data.name}}</td>
                                <td>{{data.flat_count}}</td>
                                <td>{{data.total_supplier_count}}</td>
                                <td>{{data.total}}</td>
                                <td ng-if="data.flat_count != 0">{{(data.total / data.flat_count) * 100 | limitTo:5}}%
                                </td>
                                <td ng-if="data.flat_count == 0">NA</td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{data[key1]}}
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  <span ng-if="data.flat_count != 0">{{(data[key1] / data.flat_count) * 100 |
                                    limitTo:5 }}%</span>
                                  <span ng-if="data.flat_count == 0">NA</span>
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{(data[key1] / data.total) * 100 | limitTo:5 }}%
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Two Week Statistical Details</label>
                        </div>
                      </div>
                      <br> <br>
                      <table class="table table-striped" st-table="campaignSummary">
                        <thead>
                          <tr>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Mean of Leads</th>
                            <th style="background:#8e1921 !important;color:#ffffff !important"
                              ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                              Mean of Hotness {{$index+1}}
                            </th>
                          </tr>
                        </thead>
                        <tbody style="text-align:center;">
                          <tr ng-repeat="(key,data) in last2WeeksCampaignSummary">
                            <td style="font-weight:bold">{{data.name}}</td>
                            <td ng-if="data.total_leads_analytics.percentage_by_flat">
                              {{data.total_leads_analytics.percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-if="!data.total_leads_analytics.percentage_by_flat">NA</td>

                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="data.analytics[key1].percentage_by_flat">
                              {{data.analytics[key1].percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="!data.analytics[key1].percentage_by_flat">NA</td>

                          <tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="flat graph">Last Two Week Graph Summary</label>
                        </div>
                      </div>
                      <div class="row">
                        <select class="form-control" ng-change="sortData('last2week',sortModel)" ng-model="sortModel"
                          print-remove>
                          <option value="" disabled>Select For Sorting</option>
                          <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                        </select>
                        <div class="outerLastWeek" ng-if="!dateRangeModel.start_date">
                          <div class="innerLastWeek" ng-if="!dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['last2week']"
                              ng-if="togglesortedGraphs['last2week']"></nvd3>
                            <nvd3 options="last2WeekSummaryStackedBarChart" data="stackedBarLast2WeeksChart"
                              ng-if="!togglesortedGraphs['last2week']"></nvd3>
                          </div>
                        </div>
                        <div ng-if="dateRangeModel.start_date">
                          <div ng-if="dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['last2week']"
                              ng-if="togglesortedGraphs['last2week']"></nvd3>
                            <nvd3 options="last2WeekSummaryStackedBarChart" data="stackedBarLast2WeeksChart"
                              ng-if="!togglesortedGraphs['last2week']"></nvd3>
                          </div>
                        </div>
                      </div>
                    </div>

                    <br /><br />

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Three Weeks Summary Details</label>
                        </div>
                      </div>
                      <div class="campaigndetailtable">
                        <div class="table-responsive">
                          <button class="btn btn-danger pull-right" ng-click="exportToExcel('#customer6')"><span
                              class="glyphicon glyphicon-download-alt"></span></button>
                          <table class="table table-striped" id="customer6" st-table="campaignSummary">
                            <thead>
                              <tr>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">
                                  {{flat_count_header}}</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Supplier Count</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important">Total Leads <br>in
                                  %</th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}}
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} <br> in %
                                </th>
                                <th style="background:#8e1921 !important;color:#ffffff !important"
                                  ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  Hotness {{$index+1}} Ratio <br> (%)
                                </th>
                              </tr>
                            </thead>
                            <tbody style="text-align:center;">
                              <tr ng-repeat="(key,data) in last3WeeksCampaignSummary">
                                <td style="font-weight:bold">{{data.name}}</td>
                                <td>{{data.flat_count}}</td>
                                <td>{{data.total_supplier_count}}</td>
                                <td>{{data.total}}</td>
                                <td ng-if="data.flat_count != 0">{{(data.total / data.flat_count) * 100 | limitTo:5}}%
                                </td>
                                <td ng-if="data.flat_count == 0">NA</td>
                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{data[key1]}}
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  <span ng-if="data.flat_count != 0">{{(data[key1] / data.flat_count) * 100 |
                                    limitTo:5 }}%</span>
                                  <span ng-if="data.flat_count == 0">NA</span>
                                </td>

                                <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                                  {{(data[key1] / data.total) * 100 | limitTo:5 }}%
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="Location">Last Three Week Statistical Details</label>
                        </div>
                      </div>
                      <br> <br>
                      <table class="table table-striped" st-table="campaignSummary">
                        <thead>
                          <tr>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Campaign Name</th>
                            <th style="background:#8e1921 !important;color:#ffffff !important">Mean of Leads</th>
                            <th style="background:#8e1921 !important;color:#ffffff !important"
                              ng-repeat="(key, value) in WeeklyMISOverallSummary.all_campaigns.lead_keys">
                              Mean of Hotness {{$index+1}}
                            </th>
                          </tr>
                        </thead>
                        <tbody style="text-align:center;">
                          <tr ng-repeat="(key,data) in last3WeeksCampaignSummary">
                            <td style="font-weight:bold">{{data.name}}</td>
                            <td ng-if="data.total_leads_analytics.percentage_by_flat">
                              {{data.total_leads_analytics.percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-if="!data.total_leads_analytics.percentage_by_flat">NA</td>

                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="data.analytics[key1].percentage_by_flat">
                              {{data.analytics[key1].percentage_by_flat | limitTo:5 }} %</td>
                            <td ng-repeat="(key1, value1) in WeeklyMISOverallSummary.all_campaigns.lead_keys"
                              ng-if="!data.analytics[key1].percentage_by_flat">NA</td>

                          <tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="col-lg-12" ng-if="selectAllCampaignLeads && !applyClickedFilters.value"
                      style="margin-top:20px;">
                      <div class="panel panel-primary">
                        <div class="panel-heading content-title">
                          <label for="flat graph">Last Three Week Graph Summary</label>
                        </div>
                      </div>
                      <div class="row">
                        <select class="form-control" ng-change="sortData('last3week',sortModel)" ng-model="sortModel"
                          print-remove>
                          <option value="" disabled>Select For Sorting</option>
                          <option ng-repeat="item in sortMenu" value="{{item.id}}">{{item.name}}</option>
                        </select>
                        <div class="outerLastWeek" ng-if="!dateRangeModel.start_date">
                          <div class="innerLastWeek" ng-if="!dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['last3week']"
                              ng-if="togglesortedGraphs['last3week']"></nvd3>
                            <nvd3 options="last3WeekSummaryStackedBarChart" data="stackedBarLast3WeeksChart"
                              ng-if="!togglesortedGraphs['last3week']"></nvd3>
                          </div>
                        </div>
                        <div ng-if="dateRangeModel.start_date">
                          <div ng-if="dateRangeModel.start_date">
                            <nvd3 options="locationChartOptions" data="sortedLocationData['last3week']"
                              ng-if="togglesortedGraphs['last3week']"></nvd3>
                            <nvd3 options="last3WeekSummaryStackedBarChart" data="stackedBarLast3WeeksChart"
                              ng-if="!togglesortedGraphs['last3week']"></nvd3>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- strt with dynamic graph -->

                    <!-- end with dynamic graph -->
                    <!--START : COMPARE CAMPAIGNS LIST  -->
                    <div class="col-md-12" ng-show="campaignStatus.compare_campaigns.value" print-remove>
                      <br />
                      <div class="col-md-2 pull-right">
                        <button class="btn btn-primary" style="margin-left:20px"
                          ng-click="getCompareCampaignChartData()">COMPARE</button>
                      </div>
                      <div class="col-md-2 pull-right">
                        <span style="color:red;width:100%;margin-left:-20px;" ng-dropdown-multiselect=""
                          options="mergedarray" class="col-md-6" extra-settings="searchSelectAllSettings"
                          selected-model="searchSelectAllModel" translation-texts="selected_baselines_customTexts"
                          events="events"></span>
                      </div>
                    </div>
                    <!--END : COMPARE CAMPAIGNS LIST  -->



                    <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv"
                      style="margin-left:5px;margin-right:-7px;" print-remove>
                      <div class="panel-heading content-title">
                        <div class="col-md-7">
                          <h4> Release Inventory </h4>
                        </div>
                      </div>
                      <div class="col-md-8" ng-if="performanceMetricsData.total.release != 0">
                        <circular-progress value="activityInvPerfData.release"
                          max="performanceMetricsData.total.release" orientation="1" radius="80" stroke="20"
                          base-color="#ffff00" progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                          label="{{activityInvPerfData.release / performanceMetricsData.total.release * 100|limitTo:3}}%">
                        </circular-progress>
                      </div>
                      <div class="col-md-4" ng-if="performanceMetricsData.total.release != 0">
                        <table class="table table-responsive table-bordered pieChart-table">
                          <tbody>
                            <tr>
                              <td>Release / Total</td>
                            </tr>
                            <tr>
                              <td>{{activityInvPerfData.release}} / {{performanceMetricsData.total.release}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="row notassigned" ng-if="performanceMetricsData.total.release == 0">
                        <h1>NOT ASSIGNED !!</h1>
                      </div>
                    </div>

                    <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime"
                      is-disabled="performanceMetricsData.release.actual==0">
                      <div class="panel-heading content-title">
                        <div class="col-md-10">
                          <h4> On Time for Release Inventory </h4>
                        </div>
                      </div>
                      <div class="col-md-8" ng-if="activityInvPerfData.release != 0">
                        <circular-progress value="performanceMetricsData.actual.release.ontime"
                          max="activityInvPerfData.release" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                          progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                          label="{{performanceMetricsData.actual.release.ontime / activityInvPerfData.release * 100|limitTo:3}}%">
                        </circular-progress>
                      </div>
                      <div class="col-md-4" ng-if="activityInvPerfData.release != 0">
                        <table class="table table-responsive table-bordered pieChart-table">
                          <tbody>
                            <tr>
                              <td>OnTime / Released</td>
                            </tr>
                            <tr>
                              <td>{{performanceMetricsData.actual.release.ontime}} / {{activityInvPerfData.release}}
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="row notassigned" ng-if="activityInvPerfData.release == 0">
                        <h1>NOT ASSIGNED !!</h1>
                      </div>
                    </div>

                    <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                      <div class="panel-heading content-title">
                        <div class="col-md-10">
                          <h4> On Location for Release Inventory </h4>
                        </div>
                      </div>
                      <div class="col-md-8" ng-if="activityInvPerfData.release != 0">
                        <circular-progress value="performanceMetricsData.actual.release.onLocation"
                          max="activityInvPerfData.release" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                          progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                          label="{{performanceMetricsData.actual.release.onLocation / activityInvPerfData.release * 100|limitTo:5}}">
                        </circular-progress>
                      </div>
                      <div class="col-md-4" ng-if="activityInvPerfData.release != 0">
                        <table class="table table-responsive table-bordered pieChart-table">
                          <tbody>
                            <tr>
                              <td>OnLocation / Released</td>
                            </tr>
                            <tr>
                              <td>{{performanceMetricsData.actual.release.onLocation}} /
                                {{activityInvPerfData.release}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="row notassigned" ng-if="activityInvPerfData.release == 0">
                        <h1>NOT ASSIGNED !!</h1>
                      </div>
                    </div>

                  </div>

                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> Audit Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="performanceMetricsData.total.audit != 0">
                      <circular-progress value="activityInvPerfData.audit" max="performanceMetricsData.total.audit"
                        orientation="1" radius="80" stroke="20" base-color="#ffff00" progress-color="#00ff00"
                        iterations="100" animation="easeInOutCubic"
                        label="{{activityInvPerfData.audit / performanceMetricsData.total.audit * 100|limitTo:3}}%">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="performanceMetricsData.total.audit != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>Audited / Total</td>
                          </tr>
                          <tr>
                            <td>{{activityInvPerfData.audit}} / {{performanceMetricsData.total.audit}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="performanceMetricsData.total.audit == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>
                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.inv">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> Closure Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="performanceMetricsData.total.closure != 0">
                      <circular-progress value="activityInvPerfData.closure" max="performanceMetricsData.total.closure"
                        orientation="1" radius="80" stroke="20" base-color="#ffff00" progress-color="#00ff00"
                        iterations="100" animation="easeInOutCubic"
                        label="{{activityInvPerfData.closure / performanceMetricsData.total.closure * 100|limitTo:3}}%">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="performanceMetricsData.total.closure != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>Closed / Total</td>
                          </tr>
                          <tr>
                            <td>{{activityInvPerfData.closure}} / {{performanceMetricsData.total.closure}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="performanceMetricsData.total.closure == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>

                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> On Time for Audit Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="activityInvPerfData.audit != 0">
                      <circular-progress value="performanceMetricsData.actual.audit.ontime"
                        max="activityInvPerfData.audit" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                        progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                        label="{{performanceMetricsData.actual.audit.ontime / activityInvPerfData.audit * 100|limitTo:3}}%">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="activityInvPerfData.audit != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>OnTime / Audit</td>
                          </tr>
                          <tr>
                            <td>{{performanceMetricsData.actual.audit.ontime}} / {{activityInvPerfData.audit}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="activityInvPerfData.audit == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>
                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.ontime"
                    is-disabled="performanceMetricsData.closure.actual==0">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> On Time for Closure Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="activityInvPerfData.closure != 0">
                      <circular-progress value="performanceMetricsData.actual.closure.ontime"
                        max="activityInvPerfData.closure" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                        progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                        label="{{performanceMetricsData.actual.closure.ontime / activityInvPerfData.closure * 100|limitTo:3}}%">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="activityInvPerfData.closure != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>OnTime / Closed</td>
                          </tr>
                          <tr>
                            <td>{{performanceMetricsData.actual.closure.ontime}} / {{activityInvPerfData.closure}}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="activityInvPerfData.closure == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>



                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> On Location for Audit Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="activityInvPerfData.audit != 0">
                      <circular-progress value="performanceMetricsData.actual.audit.onLocation"
                        max="activityInvPerfData.audit" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                        progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                        label="{{performanceMetricsData.actual.audit.onLocation / activityInvPerfData.audit * 100|limitTo:5}}">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="activityInvPerfData.audit != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>OnLocation / Audit</td>
                          </tr>
                          <tr>
                            <td>{{performanceMetricsData.actual.audit.onLocation}} / {{activityInvPerfData.audit}}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="activityInvPerfData.audit == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>
                  <div class="col-md-6" ng-if="showPerfMetrics == perfMetrics.onlocation">
                    <div class="panel-heading content-title">
                      <div class="col-md-10">
                        <h4> On Location for Closure Inventory </h4>
                      </div>
                    </div>
                    <div class="col-md-8" ng-if="activityInvPerfData.closure != 0">
                      <circular-progress value="performanceMetricsData.actual.closure.onLocation"
                        max="activityInvPerfData.closure" orientation="1" radius="80" stroke="20" base-color="#ffff00"
                        progress-color="#00ff00" iterations="100" animation="easeInOutCubic"
                        label="{{performanceMetricsData.actual.closure.onLocation / activityInvPerfData.closure * 100|limitTo:5}}">
                      </circular-progress>
                    </div>
                    <div class="col-md-4" ng-if="activityInvPerfData.closure != 0">
                      <table class="table table-responsive table-bordered pieChart-table">
                        <tbody>
                          <tr>
                            <td>OnLocation / Closed</td>
                          </tr>
                          <tr>
                            <td>{{performanceMetricsData.actual.closure.onLocation}} / {{activityInvPerfData.closure}}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="row notassigned" ng-if="activityInvPerfData.closure == 0">
                      <h1>NOT ASSIGNED !!</h1>
                    </div>
                  </div>
                  <!--leads perf metrics  -->


                  <div class="col-md-12" ng-if="showPerfMetrics == perfMetrics.multipleLeads" style="margin-top:50px;">
                    <div class="panel-heading content-title">
                      <div class="col-md-12">
                        <h4>Comparison Of Average Leads (Percentage)</h4>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <nvd3 options="stackedBarChartOptions" data="stackedBarChartcampaignsData"></nvd3>
                    </div>
                  </div>

                </div>
                <!--End : Performance metrics  -->
                <br><br>
                <div class="row" ng-if="showReportBtn && !applyClickedFilters.value" print-remove>
                  <div class="col-md-6">
                    <button class="btn btn-danger active notify" print-btn
                      style="text-align:right;margin-left:30px;margin-top:20px;">Print Report</button>

                  </div>

                  <div class="col-md-6" ng-if="userInfo.is_superuser">
                    <div class="row">
                      <label style="color:#ffffff;">Select Report</label>
                      <input type="file" ngf-select="uploadFiles($file, 1)" class="buttonfile btn btn-primary"
                        accept=".pdf" ng-if="showReportBtn" />
                    </div>
                    <br />
                    <div class="row" ng-if="selectDate">
                      <div class="row col-md-6">
                        <label for="startDate" style="color:#000000;">Select Start Date :<input type="date"
                            class="form-control" ng-model="reportData.reportStartDate" style="color:#000000"></label>
                      </div>
                      <div class="row col-md-6">
                        <label for="endDate" style="color:#000000;">Select End Date :<input type="date"
                            class="form-control" ng-model="reportData.reportEndDate" style="color:#000000"></label>
                        <div class="row">
                          <button ng-click="sendReport()" ng-if="showReportBtn" class="btn btn-danger pull-right"
                            ng-if="userInfo.is_superuser">Submit</button>
                        </div>
                      </div>
                      <br /><br /><br />
                    </div>
                  </div>
                </div>
              </div>


            </uib-tab>
            <!--END : Performance Metrics  -->
          </uib-tabset>


          <!--content-top></content-top-->
          <div ui-view autoscroll="true" autoscroll-body-top></div>
        </div>
      </div>

      <!-- Intervene Chat -->
      <!-- <div class="middle-section" ng-if="interveneDashboard.show">
        <chat-detail number="7006501835"></chat-detail>
      </div> -->
      <!-- END Intervene Chat -->

      <!-- <back-top></back-top> -->


      <!--Start: Code for showing image Modal Window -->
      <div id="imageModal" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
              <hr />
              <div class="modal-body">
                <div class="carousel" id="slider">
                  <div class="carousel-inner">

                    <div class="item" ng-class="{active:!$index}" ng-repeat="image in imageUrlList">
                      <div class="row">
                        <img ng-src="{{image.image_url}}" id="img_test{{$index}}" style="width:600px; height:400px;"
                          class="img-responsive" alt="No Image Found" /></br>
                        <div class="row" style="margin-left:20px;">
                          Comment : {{image.comment}} </br>
                          Distance : {{image.distance|limitTo:10}} mtrs, ({{image.distance/1000|limitTo:10}} kms) </br>
                          Date and Time : {{image.timestamp|date:'medium'}}
                        </div> <br />
                      </div>

                      <input type="button" class="btn btn-danger pull-middle" ng-click="rotateImage($index)"
                        value="Rotate Image" />

                    </div>

                  </div>
                  <a style="height:400px;" class="left carousel-control" data-toggle="carousel" data-target="#slider"
                    role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                  <a style="height:400px;" class="right carousel-control" data-toggle="carousel" data-target="#slider"
                    role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="posterImageModal" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
              <hr />
              <div class="modal-body">
                <div class="carousel" id="sliderofModal">
                  <div class="carousel-inner">
                    <div class="item" ng-class="{active:!$index}" ng-repeat="image in ImageURLListOfAll">
                      <div class="row">
                        <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive"
                          alt="No Image Found" /></br>
                      </div>
                      <div class="row" style="margin-left:10px;">
                        Comment : {{image.comment}} </br>
                        Distance : {{image.distance|limitTo:10}} mtrs, ({{image.distance/1000|limitTo:10}} kms)
                      </div>
                    </div>

                  </div>
                  <a style="height:400px;" class="left carousel-control" data-toggle="carousel"
                    data-target="#sliderofModal" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                  <a style="height:400px;" class="right carousel-control" data-toggle="carousel"
                    data-target="#sliderofModal" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="imageHashtag" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">{{campaignNameOnImageModal}} Image Details</h4>
              <hr />
              <div class="modal-body">
                <div class="carousel" id="hashtagSlider">
                  <div class="carousel-inner">
                    <div class="item" ng-class="{active:!$index}" ng-repeat="image in hashTagImageData">
                      <div class="row">
                        <img ng-src="{{image.image_url}}" style="width:600px; height:400px;" class="img-responsive"
                          alt="No Image Found" /></br>
                      </div>
                      <div class="row" style="margin-left:20px;">
                        Hashtag : {{image.comment}} </br>
                        Society Name : {{image.supplier_name}}</br>
                        Date and Time : {{image.timestamp|date:'medium'}}

                      </div>
                    </div>

                  </div>
                  <a style="height:400px;" class="left carousel-control" data-toggle="carousel"
                    data-target="#hashtagSlider" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                  </a>
                  <a style="height:400px;" class="right carousel-control" data-toggle="carousel"
                    data-target="#hashtagSlider" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="sendEmailModal" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" ng-if="submitLeadType">{{campaignNameOnImageModal}} Send Leads To Email</h4>
              <h4 class="modal-title" ng-if="!submitLeadType">{{campaignNameOnImageModal}} Download Template</h4>
              <hr />
              <div class="modal-body">

                <table class="table table-bordered table-align">
                  <tbody>
                    <div class="">
                      Select Attribute :
                      <!-- <select class="form-control" ng-model="emailCampaignLeadsModel.leads_form_id">
                        <option ng-repeat="form_name in formDetails" value="{{form_name.leads_form_id}}">
                          {{form_name.leads_form_name}}</option>
                      </select> -->
                      <div class="top-select-option-mca">
                        <div class="row">
                          <div class="col-xs-12">
                            <div class="form-group">
                              <!--category dropdown-->
                              <select class="form-control" name="category" id="category" ng-model="category_code">
                                <option value="" disabled> Select Attribute</option>
                                <option>Updated At</option>
                                <option>Created At</option>



                              </select>
                            </div>
                          </div>



                        </div>
                      </div>
                      <br />
                      <tr>
                        <td class="col-md-2">
                          <p class="input-group">
                            Select Start Date(Optional): <input type="date" class="form-control"
                              ng-model="emailCampaignLeadsModel.start_date" required>
                          </p>
                        </td>
                        <td class="col-md-2">
                          <p class="input-group">
                            Select End Date(Optional) : <input type="date" class="form-control"
                              ng-model="emailCampaignLeadsModel.end_date" required>
                          </p>
                        </td>
                        <td style="text-align: center; padding-top: 20px;">
                          <p><button type="button" name="button" class="btn btn-danger" ng-click="sendMeEmail()"
                              ng-disabled="!emailCampaignLeadsModel.leads_form_id" ng-if="submitLeadType">Email</button>
                            <button type="button" name="button" class="btn btn-danger" ng-click="downloadSheet()"
                              ng-disabled="!emailCampaignLeadsModel.leads_form_id"
                              ng-if="!submitLeadType">Download</button>
                        </td>
                      </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!--End: Code for showing image Modal  Window -->
      <!--START: INVENTORY INFO MODAL  -->
      <div class="modal fade" id="inventoryInfoModal" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Modal Header</h4>
            </div>
            <div class="modal-body">
              <p>Some text in the modal.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>

        </div>
      </div>
      <!--END: INVENTORY INFO MODAL  -->
      <!--START : view comments modal  -->
      <div id="viewComments" class="modal fade">

        <!-- <div class="">
              Selected Inventory :
              <select class="form-control" ng-model="selectedInvForView">
                  <option ng-repeat="inv in viewInvForComments" value="{{inv}}">{{inv}}</option>
              </select>
            </div>
            <br> -->
        <!-- <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="modal-header">
                    View Comments For  {{supplierNameForComment}}
                  </div>
                <div style="margin:20px;">
                <table class="table-bordered table-striped" align="center">
                  <tbody>
                    <tr ng-repeat="item in commentsData[selectedInvForView]">
                      <td class="col-md-8">
                        <div style="margin-top:10px;margin-bottom:10px">
                          <img ng-src="{{userIcon}}">
                          <b>{{item.user_name}} :</b> <br>
                        </div>
                        <div style="padding-left:30px">
                          Comment : {{item.comment}}</br>
                          <span> <small>{{item.timestamp|date:'medium'}}</small></span>
                        </div><br>
                      </td>
                    <br>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
            </div> -->

        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              View Comments For {{supplierNameForComment}}
            </div>
            <div class="modal-body">
              <table class="table-bordered table-striped">
                <tbody>
                  <tr ng-repeat="item in commentsData[selectedInvForView]">
                    <td class="col-md-8">
                      <div style="margin-top:10px;margin-bottom:10px">
                        <img ng-src="{{userIcon}}">
                        <b>{{item.user_name}} :</b> <br>
                      </div>

                      <div style="padding-left:30px">
                        Comment : {{item.comment}}</br>
                        <span> <small>{{item.timestamp|date:'medium'}}</small></span>
                      </div><br>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!--  Add comment-->
              <div style="width:100%">
                <br>
                <!-- <label>Comments :</label> -->
                <textarea class="form-control col-md-10" rows="8" cols="200" ng-model="commentModal.comment"
                  placeholder="Write here.."></textarea>
              </div>
              <br>
            </div><br>
            <br>
            <!-- <button class="btn btn-success" type="button" ng-click="addComment(commentType)" style="margin:3%">Add
                  Comment</button> -->
            <button class="btn btn-success" type="button" ng-click="addPipelineComment()" style="margin:3%">Add
              Comment</button>
          </div>
        </div><br>









        <br>
        <!-- <div> -->
        <br>
        <!-- </div> -->
        </br></br>

      </div>
      <div id="addComments" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              Add Comment For {{supplierDataForComment.name}}
            </div>
            <div class="col-md-12">
              <div style="width:100%">
                <br>
                <label>Comments :</label>
                <textarea class="form-control col-md-10" rows="8" cols="200" ng-model="commentModal.comment"
                  placeholder="Write here.."></textarea>
              </div>
              <br>
            </div><br>
            <!-- <div> -->
            <br>
            <button class="btn btn-success" type="button" ng-click="addComment()">Add Comment</button>
            <!-- </div> -->
            </br></br>

          </div>
        </div>
      </div>

      <!--END : view comments modal  -->
      <!--START: Change password modal  -->
      <div id="changePassword" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h3>Change Password</h3>
            </div>
            <form class="form-horizontal">
              <br>
              <small style="margin:20px;"> Note : Minimum 8 characters, at least one uppercase letter, one lowercase
                letter, one number and one special character:</small>
              <div class="form-group">
                <label class="control-label col-sm-4" for="email">Old Password:</label>
                <div class="col-sm-6">
                  <input type="password" class="form-control" placeholder="Enter old password"
                    ng-model="passwordModel.old_password">
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-4" for="email">New Password:</label>
                <div class="col-sm-6">
                  <input type="password" class="form-control" placeholder="Enter new password"
                    ng-model="passwordModel.password">
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-4" for="email">Confirm Password:</label>
                <div class="col-sm-6">
                  <input type="password" class="form-control" placeholder="confirm password"
                    ng-model="passwordModel.confirm_password" ng-change="validatePassword()">
                  <br>
                  <span ng-show="!isValid && passwordModel.confirm_password"><small>{{passwordError}}</small></span>
                </div>

              </div>

              <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10" style="text-align:left;margin-bottom:20px;">
                  <button class="btn btn-danger" ng-click="changeUserPassword()">Submit</button>
                </div>
              </div>
            </form>

          </div>
        </div>
      </div>

      <div id="sendBookingEngineEmailModal" class="modal fade">
        <div class="modal-dialog" style="width:800px">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">Send Emails</h4>
              <hr />
              <div class="modal-body">

                <div class="col-md-12">
                  Select Email Type :
                  <select class="form-control" name="" ng-model="emailModel.selected">
                    <option disabled>Please Select</option>
                    <option value="listOfSupplier">List Of Society Email</option>
                    <option value="activationOfSupplier">Activation Of Society,Branding and Permission Email</option>
                    <option value="pipelineOfSupplier">Pipelined Societies Email</option>
                  </select>
                  </br>
                  </br></br>
                  </br>
                </div>
                </br>
                </br>
                <div class="col-md-12">
                  <div class="col-md-6 emailModal" style="background-color:#12edcc">
                    <div class="panel-heading">
                      <h5>You can Test Your Email HERE</h5>
                    </div>
                    </br>
                    </br>
                    <div class="row">
                      <input type="email" class="form-control" placeholder="Enter Your Own Email Id"
                        ng-model="emailModel.email" style="text-align:center;">
                      <button type="button" name="button" ng-Click="sendBookingEmails()" class="btn btn-danger"
                        ng-disabled="emailBtnDisabled">Submit</button>
                    </div>
                  </div>
                  <div class="col-md-6 emailModal" style="background-color:#eda234">
                    <div class="panel-heading">
                      <h5>To Send Confirmed Email Click HERE</h5>
                    </div>
                    </br>
                    </br>
                    <button type="button" name="button" class="btn btn-danger" style="text-align:center"
                      ng-click="sendConfirmBookingEmails()" ng-disabled="emailBtnDisabled">Send Confirm Mail</button>
                  </div>
                </div>

                </br>

              </div>
            </div>
          </div>
        </div>
      </div>
      <!--END: Change password modal  -->
      <!--START: Print Leads In Excel Modal  -->
      <div id="printLeadsInExcelModal" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">{{campaignNameOnImageModal}} Send Email Details</h4>
              <hr />
              <div class="modal-body">

                <table class="table table-bordered table-align">
                  <tbody>
                    <div class="">
                      Select Form :
                      <select class="form-control" ng-model="printLeadsInExcelData.leads_form_id">
                        <option ng-repeat="form_name in formDetails" value="{{form_name.leads_form_id}}">
                          {{form_name.leads_form_name}}</option>
                      </select>
                    </div>
                    <br />
                    <tr>
                      <td class="col-md-2">
                        <p class="input-group">
                          Select Start Date(Optional): <input type="date" class="form-control"
                            ng-model="printLeadsInExcelData.start_date" required>
                        </p>
                      </td>
                      <td class="col-md-2">
                        <p class="input-group">
                          Select End Date(Optional) : <input type="date" class="form-control"
                            ng-model="printLeadsInExcelData.end_date" required>
                        </p>
                      </td>

                      </td>
                    </tr>
                    <!--<tr>
                    <td class="col-md-2">
                      <p class="input-group">
                        Select By Supplier (Optional):
                        <select class="form-control" ng-model="printLeadsInExcelData.supplier_id">
                          <option value="" disabled>Select Supplier</option>
                          <option  ng-repeat="supplier in shortlistedSuppliers" value="{{supplier.supplier_id}}">{{supplier.society_name}}</option>
                        </select>
                      </p>
                    </td>
                  </tr>-->
                  </tbody>
                </table>
                </br>
                <td><button type="button" name="button" class="btn btn-danger"
                    ng-click="printLeadsInExcel()">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- middle-section -->
  </main>
</div>




<!DOCTYPE html>
<html class="ng-cloak" lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link href="css/main.css" rel="stylesheet" media="screen">
  <link href="css/preloader.css" rel="stylesheet" media="screen">
  <link href="css/blur_admin_theme.css" rel="stylesheet" media="screen">
  <link href="css/buttons.css" rel="stylesheet" media="screen">
  <link href="css/datepicker.css" rel="stylesheet" media="screen">
  <link href="css/icons.css" rel="stylesheet" media="screen">
  <link href="css/layout.css" rel="stylesheet" media="screen">
  <link href="css/socicon.css" rel="stylesheet" media="screen">
  <link href="css/table.css" rel="stylesheet" media="screen">
  <link href="css/pageTop.css" rel="stylesheet" media="screen">
  <link href="css/backTop.css" rel="stylesheet" media="screen">
  <link href="css/baWizard.css" rel="stylesheet" media="screen">
  <link href="css/contentTop.css" rel="stylesheet" media="screen">
  <link href="css/msgCenter.css" rel="stylesheet" media="screen">
  <link href="css/progressRound.css" rel="stylesheet" media="screen">
  <link href="css/sidebar.css" rel="stylesheet" media="screen">
  <link href="css/widgets.css" rel="stylesheet" media="screen">
  <link href="css/panel.css" rel="stylesheet">
  <link href="css/tabs.css" rel="stylesheet" media="screen">
  <link href="css/accordion.css" rel="stylesheet" media="screen">
  <link href="css/dashboard-theme.css" rel="stylesheet" media="screen">
  <link href="css/sass-app.css" rel="stylesheet" media="screen">
  <link href="css/sass-app-map.css" rel="stylesheet" media="screen">
  <link href="css/sidePanel.css" rel="stylesheet" media="screen">
  <link href="css/custom.css" rel="stylesheet" media="screen">
  <link rel="stylesheet" href="modules/common/loadingicon/loading-spinner.tmpl.css" />
  <link rel="stylesheet" type="text/css" href="modules/pages/dashboard/chat.css">
  <!-- <script data-require="jquery@*" data-semver="2.1.4" src="https://code.jquery.com/jquery-2.1.4.js"></script> -->
  <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon-96x96.png">
  <link rel="stylesheet" type="text/css" href="modules/pages/DashBoard/adminDashboard/percentage-circular-bar.css">
  <link href="https://netdna.bootstrapcdn.com/font-awesome/2.0/css/font-awesome.css" rel="stylesheet">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="css/smallscreen.css" rel="stylesheet" media="screen">
</head>

<body>

  <div class="body-bg"></div>

  <div ng-loading="loading"></div>
  <!--For displaying loading icon-->
  <div ng-show="isEmpty" style="text-align:center;">
    <h2>{{msg}}</h2>
  </div>

  <main ng-show="!isEmpty" ng-class="{ 'menu-collapsed': $baSidebarService.isMenuCollapsed() }" ng-if="loading">



  </main>
</body>


</html>