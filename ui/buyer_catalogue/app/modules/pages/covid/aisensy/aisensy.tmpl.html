<!-- <nav-bar></nav-bar> -->
<link rel="stylesheet" href="modules/pages/login/login.tmpl.css" />
<link rel="stylesheet" href="modules/common/loadingicon/loading-spinner.tmpl.css" />

<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<link href="css/smallscreen.css" rel="stylesheet" media="screen" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src='checklist-model.js'></script>

<style>
  /*aisensy*/

  /* .message{
    white-space:pre-line;
    overflow: hidden;
    height: 5px;
    width: 100%;
  } */
  .logo-sec-mca img {
    width: 80px;
    margin-left: 50px;
  }

  .file-upload {

    left: 40px;
    height: 25px;
    width: 25px;
    border-radius: 100px;
    position: absolute;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 4px solid #FFFFFF;
    overflow: hidden;
    background-image: linear-gradient(to bottom, #2a8f27 50%, #ababab 50%);
    background-size: 100% 200%;
    transition: all 1s;
    color: #fff;
    font-size: 10px;
    top: 18px;
  }

  .file-upload input[type='file'] {

    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;

  }


  .file-upload:hover {

    background-position: 0 -100%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    color: #fff;

  }

  .file-upload-1 {

    left: 70px;
    height: 25px;
    width: 25px;
    border-radius: 100px;
    position: absolute;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 4px solid #FFFFFF;
    overflow: hidden;
    background-image: linear-gradient(to bottom, #2a8f27 50%, #ababab 50%);
    background-size: 100% 200%;
    transition: all 1s;
    color: #fff;
    font-size: 10px;
    top: 18px;
  }

  .file-upload-1 input[type='file'] {

    height: 250px;
    width: 250px;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;

  }


  .file-upload-1:hover {

    background-position: 0 -100%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    color: #fff;

  }

  .file-upload-1 {

    left: 70px;
    height: 25px;
    width: 25px;
    border-radius: 100px;
    position: absolute;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 4px solid #FFFFFF;
    overflow: hidden;
    background-image: linear-gradient(to bottom, #2a8f27 50%, #ababab 50%);
    background-size: 100% 200%;
    transition: all 1s;
    color: #fff;
    font-size: 10px;
    top: 18px;
  }

  .file-upload-1 input[type='file'] {

    height: 250px;
    width: 250px;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;

  }


  .file-upload-1:hover {

    background-position: 0 -100%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    color: #fff;

  }


  .scrolling-area {
    /* max-width: 250px;
  max-height: 250px; */
    /* max-height: max-content; */
    overflow: auto;
    padding: 1rem;
    background: white;
    transform: rotate(180deg);
  }

  .scrolling-element-inside {
    transform: rotate(-180deg);
  }

  #footer {
    position: fixed;
    padding: 10px 10px 0px 10px;
    bottom: 0;
    width: 100%;
    /* Height of the footer*/
    height: 40px;
    background: grey;
  }

  div.white-space-pre-line {
    /*   white-space: pre-line;*/
    word-wrap: break-word;
  }

  .navbar-collapse.in {
    overflow-y: hidden;
    /* overflow-x: hidden; */
    margin-bottom: 10px;
    /* display: block; */
  }

  /* .navbar-right{
	padding:  0px 10px;
	position:relative;
	display:inline-block;
	top:15px;
	background-color: white;
	border-color: white;
}
.navbar-right li{
	margin-right: 30px;
	color: rgba(20, 1, 1, 0.904);
}
.navbar-right li:hover{
	color: rgb(201, 67, 67);
}
@media screen and (max-width: 560px) {
	.navbar-right li{
		float: left;
	
		position: relative;
		height:100%;
        width:100%;
        z-index :-1;
		padding: 10px;
        display: block;
	}

	.navbar-right li:hover{
		color: rgb(201, 67, 67);
	}

} */

  /*tabs-aisensy*/

  .tab-aisensy {
    margin-top: 20px;
    padding: 0px;
  }

  /* #content1 input {
	display:none;
  }*/
  .tab-aisensy input[type="radio"] {
    display: none;
  }

  .tab-aisensy label {

    display: inline-block;
    padding: 3px;
    /* margin: 0 -1px; */
    width: 32.5%;
    border: 1px solid #000;
    text-align: center;
    margin-bottom: 10px;
    border-radius: 15px;
  }

  /* @media screen and (max-width: 450px) {
	.tab-aisensy label {
		display: inline-block;
		padding: 6px 0 6px 0;
		margin: 0 -1px;
		width: 33.33%; 
		border: 1px solid #000;
		text-align: center;
		margin-bottom: 10px;
	  }
	
} */
  .tab-aisensy label:hover {
    cursor: pointer;
    /*background-color: #8a130f;*/
  }

  #active-nab {
    color: #8a130f;
  }

  .tab-aisensy input:checked+label {
    border: 1px solid #000;
    border-width: 1px 1px 1px 1px;
    background-color: #8a130f;
    border-radius: 15px;
  }


  .tab-aisensy #tab-1:checked~.content #content-1,
  .tab-aisensy #tab-2:checked~.content #content-2,
  .tab-aisensy #tab-3:checked~.content #content-3 {
    display: block;
  }

  .tab-aisensy .content>div {
    display: none;
    text-align: center;
    /*height: 192px;*/
    /* overflow: auto; */
  }

  /*active chat list*/
  .profile-image {
    width: 50px;
    height: 50px;
    border-radius: 40px;
    background-color: white;
    font-weight: normal;
    font-size: xx-large;
    text-align: center;
  }

  .profile-heading {
    position: relative;
    left: -30px;
  }

  .profile-heading-1 {
    position: relative;
    left: -30px;
    top: 10px;
    font-weight: bold;
    font-size: medium;
  }


  .search-box {
    background: #e3e3e3;
    padding: 10px 13px;
    position: sticky;
    top: 50px;
    z-index: 99;
  }

  .search-box .input-wrapper {
    background: white;
    border-radius: 40px;
  }

  .search-box i {
    color: blue;

    vertical-align: middle;
  }


  input {
    border: none;
    border-radius: 30px;
    width: 80%;
    height: 30px;
  }

  input ::placeholder {
    color: #e3e3e3;
    font-weight: 300;
    margin-left: 20px;
  }

  input:focus {
    outline: none;
  }

  .friend-drawer {
    padding: 10px 15px;
    display: flex;
    vertical-align: baseline;
    background: #fff;
    transition: .3s ease;
    background: #eee;
  }

  /*&--grey {
	  background: #eee;
	}*/

  .friend-drawer.text {
    /* margin-left: 12px; */
    width: 70%;
  }

  .friend-drawer h6 {
    /* margin-top: 6px; */
    margin-bottom: 0;
    margin-left: 15px;
    font-weight: 800;
    font-size: 15px;
    text-align: left;

  }

  .text-muted p {
    margin-left: 20px;
  }

  .friend-drawer p {
    margin: 0;
    margin-left: 15px;
    font-weight: 800;
    font-size: 15px;
    text-align: left;
  }

  /* @media only screen and (max-width: 450px){
    .time {
    color: black;
    text-align: end;
    font-weight: 300;
    float: right;
    }
  } */

  /*   
  @media only screen and (min-width: 450px) and (max-width: 1000px)
  {
    .time {
    color: black;
    
    padding-left: 250px;
    font-weight: 300;
    
    }
  } */
  /* @media only screen and (min-width: 1000px)
  {
  .time {
    color: black;
  
    padding-left: 650px;
    font-weight: 300;
    
    }
  } */
  .time {
    color: black;
    text-align: end;
    /* padding-left: 650px; */
    font-weight: 300;
    display: flex;
    flex-direction: column;
    justify-content: space-between;

  }

  .friend-drawer--onhover:hover {
    /*background: grey;*/

    cursor: pointer;
  }

  .friend-drawer--onhover p,
  h6,
  time {
    color: black !important;
    font-weight: 300;
  }

  hr {
    margin: 5px auto;
    width: 100%;
  }

  .fields-box {
    margin: 0;
    padding: 0;
    height: auto;
    overflow-y: hidden;
    overflow-x: hidden;
  }

  .profile-image-chat {
    text-align: center;
    font-size: 25px;
    background-color: aliceblue;
    border-radius: 50px;
    margin-left: 87%;
    width: 30px;
    margin-top: -38px;
  }

  .profile-image-chat-1 {
    text-align: center;
    font-size: 25px;
    background-color: aliceblue;
    border-radius: 50px;
    margin-left: 87%;
    width: 30px;
    margin-top: -18px;
  }

  /*status*/
  .status-image {
    width: 50px;
    height: 50px;
    border-radius: 40px;
    /* align-items: center; */
    background-color: lightgrey;
    /* transform: translate(280%,-20%); */
    font-size: xx-large;
    text-align: center;

  }

  @media screen and (max-width:500px) {
    .file-upload {
      height: 20px;
      width: 20px;
      border-radius: 100px;
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 4px solid #FFFFFF;
      overflow: hidden;
      background-image: linear-gradient(to bottom, #2a8f27 50%, #ababab 50%);
      background-size: 100% 200%;
      transition: all 1s;
      color: #FFFFFF;
      font-size: 10px;
      top: 22px;
      left: -30px;
    }

    .file-upload-1 {
      height: 20px;
      width: 20px;
      border-radius: 100px;
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 4px solid #FFFFFF;
      overflow: hidden;
      background-image: linear-gradient(to bottom, #2a8f27 50%, #ababab 50%);
      background-size: 100% 200%;
      transition: all 1s;
      color: #FFFFFF;
      font-size: 10px;
      top: 22px;
      left: -5px;
    }

    .friend-drawer h6 {
      width: 100px;
    }

    .friend-drawer-status h6 {
      margin-bottom: 0;
      font-weight: 800;
      font-size: 15px;
      margin-top: -10px;

    }

    .friend-drawer-status p {
      margin-bottom: 0;
      font-weight: 800;
      font-size: 15px;

    }
  }


  .friend-drawer-status.text {
    margin-left: 12px;
    width: 70%;
  }

  .friend-drawer-status h6 {
    margin-top: 6px;
    margin-bottom: 0;
    margin-left: 13px;
    font-weight: 800;
    font-size: 15px;
  }

  .friend-drawer-status p {
    font-weight: 800;
    margin-left: 13px;
    font-size: 15px;
  }



  /*Alignment*/
  /* .row-aisensy {
    margin-right: -18px;
    margin-left: -18px;
  }*/

  .aisensy-page {
    margin-top: 30px;
  }

  #sector-aisensy {
    width: 40%;
    margin: 0 auto;
    margin-top: 10px;
    width: 100%;
  }

  /*dropdown box*/
  .bs-example input[type="radio"] {
    display: none;
  }

  .bs-example label {
    display: inline-block;
    padding: 6px 0 6px 0;
    margin: 0 -2px;
    width: 100%;
    border: 1px solid #000;
    text-align: center;
  }

  .bs-example label:hover {
    cursor: pointer;
    background-color: #8a130f;
  }

  /*timeline*/
  ul.timeline {
    list-style-type: none;
    position: relative;
  }

  ul.timeline:before {
    content: ' ';
    background: #d4d9df;
    display: inline-block;
    position: absolute;
    left: 29px;
    width: 2px;
    height: 100%;
    z-index: 400;
  }

  ul.timeline>li {
    margin: 20px 0;
    padding-left: 50px;
  }

  ul.timeline>li:before {
    content: ' ';
    background: white;
    display: inline-block;
    position: absolute;
    border-radius: 50%;
    border: 3px solid #22c0e8;
    left: 20px;
    width: 20px;
    height: 20px;
    z-index: 400;

  }

  /*chat window*/
  @import url(https://fonts.googleapis.com/css?family=Roboto:400,600);


  .phone-chat {

    border-radius: 10px;
    width: auto;
    height: calc(100vh - 130px) !important;
    margin: auto;

    padding: 16px 5px;
  }

  .screen-phone {
    background-color: #fff;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    overflow: hidden;

  }

  .nav-phone {
    width: 100%;
    height: 80px;
    background-color: #00966c;
    box-shadow: 0 1px 11px #0000004d;
    padding: 4px;
    position: relative;
    z-index: 0;
  }

  .username {
    font: 18px Roboto;
    font-weight: 600;
    color: #fff;
  }

  .tel-number {
    font-family: Roboto;
    color: #fff;
  }

  .chat {
    width: 100%;
    height: calc(100vh - 242px);
    /*  height: max-content;*/
    overflow-y: scroll;
    padding: 10px;
    transform: rotate(180deg);
  }

  .aisensy-intervene-btn {
    position: absolute;
    width: 100%;
    bottom: 0px;
  }

  .msg-box {
    position: absolute;
    width: 100%;
    z-index: 10
  }



  .contact-info {
    width: 250px;
    /* height: 140px; */
    display: flex;
    /* justify-content: center; */
    flex-wrap: wrap;
  }

  .card {
    position: relative;
    flex: 1;
    max-width: 300px;
    /* height: 140px; */
    background-color: #444;
    margin: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 85px;
  }

  .icon {
    font-size: 32px;
    color: #ea8685;
    transition: .3s linear;
  }

  .card:hover .icon {
    transform: scale(4);
    opacity: 0;
  }

  .card-content h3,
  .card-content span {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 16px;
    opacity: 0;
  }

  .card-content h3 {
    top: 20px;
    /* text-transform: capitalize; */
    color: #ea8685;
  }

  .card-content span {
    bottom: 20px;
    color: #fff;
    font-weight: 500;
  }

  .card:hover h3 {
    opacity: 1;
    top: 26px;
    transition: .3s linear .3s;
  }

  .card:hover span {
    opacity: 1;
    bottom: 46px;
    transition: .3s linear .3s;
  }


  @media screen and (max-width:900px) {
    .card {
      flex: 100%;
      max-width: 500px;
    }
  }


  /* @media only screen and (max-height: 650px) {
    .chat {
      width: 100%;
      height: 480px;
      overflow: auto;
      padding: 10px;
      transform: rotate(180deg);
    }
  }

  @media only screen and (min-height: 650px) and (max-height: 750px) {
    .chat {
      width: 100%;
      height: 530px;
      overflow: auto;
      padding: 10px;
      transform: rotate(180deg);
    }
  }

  @media only screen and (min-height: 750px) and (max-height: 850px) {
    .chat {
      width: 100%;
      height: 580px;
      overflow: auto;
      padding: 10px;
      transform: rotate(180deg);
    }
  }

  @media only screen and (min-height: 850px) and (max-height: 1500px) {
    .chat {
      width: 100%;
      height: 850px;
      overflow: auto;
      padding: 10px;
      transform: rotate(180deg);
    }
  }
*/


  .message-1 {
    border-radius: 7px;
    background-color: #e0e0e0;
    padding: 5px 15px;
    font: 15px "Roboto", Segoe UI, sans-serif;
    /* width: calc(100% + -50px); */
    max-width: calc(100% + -50px);
    min-width: 150px;
    margin-bottom: 10px;
    float: right;
    text-align: left;


    transform: rotate(-180deg);
  }

  .message-2 {
    /* white-space:pre-line; */
    border-radius: 7px;
    background-color: #aede2e;
    padding: 5px 20px;
    font: 15px "Roboto", Segoe UI, sans-serif;
    /* width: calc(100% + -50px); */
    max-width: calc(100% + -50px);
    min-width: 250px;
    margin-bottom: 10px;
    float: left;
    text-align: left;
    transform: rotate(-180deg);
  }

  .icon-back {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #0000;
    padding: 7px;
    position: relative;
    overflow: hidden;
    transition: background-color 200ms ease-in-out;
    float: left;
    margin-right: 7px;
  }


  .icon-home {
    top: 10px;
    width: 50px;
    height: 50px;
    border-radius: 50%;

    padding: 7px;
    position: relative;
    overflow: hidden;
    transition: background-color 200ms ease-in-out;
    float: left;
    margin-right: 7px;
  }

  .icon-back:hover {
    background-color: #ffffff47;
  }

  .icon-back:active {
    background-color: #ffffff94;
  }

  .icon-cross {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #ababab;
    padding: 7px;
    position: relative;
    overflow: hidden;
    transition: background-color 200ms ease-in-out;
    float: right;
    margin-right: 7px;
    top: -90px;
  }

  .icon-cross:hover {
    background-color: rgb(145, 43, 43);
  }

  .icon-cross:active {
    background-color: #08080894;
  }

  /* .message:nth-child(odd) {
  float: left;
  background-color: #e0e0e0;
}
.message:nth-child(even) {
  float: right;
  background-color: #aede2e;
} */

  .message-1 .chat-text,
  .message-2 .chat-text {
    white-space: pre-line;
    display: block;
  }

  .message-1 .chat-time {
    color: #000000cc;
    font-size: 11.5px;
    font-weight: 600;
    float: right;
    margin-top: 5px;
    display: block;
  }

  .message-2 .chat-time {
    color: #000000cc;
    font-size: 11.5px;
    /* font-weight: 600; */
    float: right;
    margin-top: 5px;
    display: block;
  }

  .chat::-webkit-scrollbar {
    width: 10px;
    height: 10px;

  }

  .chat::-webkit-scrollbar-thumb {
    background-color: #00000070;
    border: 2px solid #fff;
    border-radius: 10px;
  }

  .input {
    border-radius: 50px;
    box-shadow: 0 1px 11px #0000004d;
    padding: 8px;
    width: calc(100% + -100px);
    margin: 5px 0 0 28px;
    float: left;
  }

  .input * {
    font-family: Roboto;
    outline: none;
    border: none;
    caret-color: #00966c;
  }

  .input *::placeholder {
    color: #929292;
  }

  .btn-send {
    width: 40px;
    height: 40px;
    background-color: #00966c;
    border-radius: 50%;
    float: right;
    margin: 13px 11px 0 0;
    padding: 8px;
    transition: background-color 150ms ease-in-out;
  }

  .btn-send:hover {
    background-color: #00ad7c;
  }

  .btn-send:active {
    background-color: #48d4ad;
  }

  * {
    box-sizing: border-box;
  }

  .add-button {
    float: right;

  }

  [scroll-glue] {
    height: 20.1pc;
    overflow-y: scroll;
    border: 1px solid gray;
  }

  .filter-button {
    margin: 5px;
  }

  .navbar-collapse.in {
    height: auto !important;
  }

  .hamburger {
    width: 30px;
    height: 30px;
    position: fixed;
    top: 10px;
    left: 20px;
    z-index: 16;
    border: 0;
    background: none;
    display: block;
  }

  .hamburger span {
    width: 30px;
    height: 2px;
    display: block;
    background: #000;
    margin: 8px 0;
    transition: all 0.3s ease-in-out;
  }

  .hamburger:focus {
    outline: 0;
    border: 0;
  }

  .hamburger span:first-child {
    transform-origin: 0% 0%;
  }

  .hamburger span:nth-last-child(2) {
    transform-origin: 0% 100%;
  }

  .hamburger.is-visible span {
    opacity: 1;
    transform: rotate(45deg) translate(-8px, -2px);
    background: #36383F;
  }

  .hamburger.is-visible span:nth-last-child(3) {
    opacity: 0;
    transform: rotate(0deg) scale(0.2, 0.2);
  }

  .hamburger.is-visible span:nth-last-child(2) {
    transform: rotate(-45deg) translate(-9px, 10px);
  }

  .modal {
    position: fixed;
    top: 30px;

  }

  .modal-backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1040;
    /* background-color: #000; */
    visibility: hidden;
  }
</style>

<script>
  $('.navbar-collapse a').click(function () {
    $(".navbar-collapse").collapse('hide');
  });
</script>
<div ng-init="getActiveUser();supplierFilterList();  ">


  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <!-- <a class="navbar-brand" href="#">
         <div class="icon-home-home">
          <svg viewBox="0 0 57.653 64.11" width="25" height="25" xmlns="http://www.w3.org/2000/svg">

            <path fill="#fff"
              d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
          </svg>
        </div>
          <div class="icon-home">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-house-door-fill" viewBox="0 0 16 16">
              <path
                d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z" />
            </svg>
          </div>
        </a> -->
        <button class="hamburger" ng-class="{'is-visible':visible}" ng-click="visible=!visible;"
          ng-hide="custom_user_hide" aria-hidden="false">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <aside ng-class="{'is-visible':visible}">
          <div class="sidemenu">
            <ul id="menu-content">
              <li class="parent arrow" ng-class="{active: isActive('/dashboard')}" permission="[perm.menuDashboard]">
                <a href="javascript:void(0);">DashBoard</a>
                <ul class="child">
                  <li><a ng-href="/#/dashboard">Business</a></li>
                  <li><a ng-href="/#/dashboard_Business">Business MCA</a></li>
                  <li><a ng-href="/#/b2b/dashboard">B2B Client DashBoard</a></li>
                  <li class="arrow">
                    <a href="javascript:void(0);">Operational</a>
                    <ul class="subchild">
                      <li><a href="/r/operations-dashboard">Campaign Report</a></li>
                      <li><a href="/r/operations-dashboard/entity">Entity Report</a></li>
                      <li><a href="/r/operations-dashboard/user">User Performance</a></li>
                    </ul>
                  </li>
                </ul>
              </li><!-- li -->
              <li class="parent arrow" ng-class="{active: isActive('/CampaignList')}">
                <a href="javascript:void(0);">Campaign Planning </a>
                <ul class="child">
                  <li class="arrow">
                    <a href="javascript:void(0);" permission="[perm.menuCampaignList,perm.menuOpsDashBoard]">Static</a>
                    <ul class="subchild">
                      <li><a href="/#/campaignDecisionBoard" permission="[perm.menuOpsDashBoard]">Campaign Decision
                          Board</a></li>
                      <li><a href="/#/CampaignList" permission="[perm.menuCampaignList]">List of Campaign</a></li>
                      <li><a href="/#/HDFHDF0789/releasePlan" permission="[perm.menuCampaignList]">Booking Plan</a></li>
                      <li><a href="/#/SuspenseLeadSheet" permission="[perm.menuCampaignList]">Suspense Lead Sheet</a>
                      </li>
                    </ul>
                  </li>
                  <li class="arrow">
                    <a href="javascript:void(0);">Dynamic</a>
                    <ul class="subchild">
                      <li class="arrow">
                        <a href="javascript:void(0);">Supplier</a>
                        <ul class="subchildsub">
                          <li><a href="/r/supplier/base-type/list">Standard Templates</a></li>
                          <li><a href="/r/supplier/type/list">Manage Supplier Type</a></li>
                          <li><a href="/r/supplier/list">Manage Supplier</a></li>
                        </ul>
                      </li>
                      <li class="arrow">
                        <a href="javascript:void(0);">Inventory</a>
                        <ul class="subchildsub">
                          <li><a href="/r/inventory/base/list">Standard Template</a></li>
                          <li><a href="/r/inventory/list">Manage Inventory</a></li>
                        </ul>
                      </li>

                      <li class="arrow">
                        <a href="javascript:void(0);">Booking Engine</a>
                        <ul class="subchildsub">
                          <li><a href="/r/booking/base/list">Standard Templates</a></li>
                          <li><a href="/r/booking/template/list">Booking Templates</a></li>
                          <li><a href="/r/booking/campaigns">Manage Bookings</a></li>
                        </ul>
                      </li>
                      <li class="arrow">
                        <a href="javascript:void(0);">Campaign Release</a>
                        <ul class="subchildsub">
                          <li><a href="/#/HDFHDF0789/auditReleasePlan">Release and Audit Plan </a></li>
                          <li><a href="#">Manage Phases</a></li>
                        </ul>
                      </li>


                    </ul>
                  </li>
                </ul>
              </li><!-- li -->
              <li class="parent arrow">
                <a href="javascript:void(0);">Campaign Execution</a>
                <ul class="child">
                  <li permission="[perm.menuChecklist]">
                    <a href="/r/checklist/campaigns">Campaign Checklist</a>
                  </li>
                  <li class="arrow">
                    <a href="javascript:void(0);">Leads</a>
                    <ul class="subchild">
                      <li permission="[perm.menuCampaignLeads]"><a href="/#/campaignLeads">Capture Leads</a></li>
                      <li><a href="/r/leads/settings">Assign Permission</a></li>
                    </ul>
                  </li>
                </ul>
              </li><!-- li -->
              <li class="parent arrow" permission="[perm.menuCampaignLeads]">
                <a href="javascript:void(0);">Static Form</a>
                <ul class="child">
                  <li><a href="https://forms.machadalo.com/#/dashboard">Manage Supplier</a></li>
                </ul>
              </li><!-- li -->
              <li class="parent arrow">
                <a href="javascript:void(0);">Management</a>
                <ul class="child">
                  <li>
                    <a href="/#/manageMent/aboutYou">My Profile</a>
                  </li>
                  <li class="arrow" permission="[perm.viewManagement]">
                    <a>Organization</a>
                    <ul class="subchild">
                      <li><a href="/#/manageMent/organisationView">View</a></li>
                      <li><a href="/#/manageMent/organisationOnBoard">On-Boarding</a></li>
                      <li><a href="/#/manageMent/mapOrganisations">Organizations Mapping</a></li>
                    </ul>
                  </li>
                  <li permission="[perm.viewManagement]">
                    <a href="/#/manageMent/profileView">Manage Profile</a>
                  </li>
                  <!-- <li class="arrow">
                    <a href="javascript:void(0);">Manage Profile</a>
                    <ul class="subchild">
                      <li><a href="/#/manageUser">Create Profile </a></li>
                      <li><a href="/#/manageUser">Update</a></li>
                    </ul>
                  </li> -->
                  <li class="arrow" permission="[perm.viewManagement]">
                    <a href="javascript:void(0);">Roles</a>
                    <ul class="subchild">
                      <li><a href="/#/manageMent/createRoles">Create</a></li>
                      <li><a href="/#/manageMent/assignRole">Assign</a></li>
                      <li><a href="/#/manageMent/viewRole">View</a></li>
                    </ul>
                  </li>
                  <li class="arrow" permission="[perm.viewManagement]">
                    <a href="javascript:void(0);">Users</a>
                    <ul class="subchild">
                      <li><a href="/#/manageMent/createUser">Create User</a></li>
                      <li><a href="/#/manageMent/viewUsers">Update</a></li>
                    </ul>
                  </li>
                </ul>


              </li><!-- li -->
              <li>
                <a href="/#/lead-data">Leads Data</a>
              </li>

              <li>
                <a href="/#/intervene">Intervene MCA</a>
              </li>

              <li>
                <a href="/#/intervene/mea">Intervene MEA</a>
              </li>
              <li>
                <a href="/#/templateDashboard">Template Dashboard MCA</a>
              </li>
              <li>
                <a href="/#/templateDashboardMea">Template Dashboard MEA</a>
              </li>

            </ul>
          </div>
        </aside>
        <button type="button" class="navbar-toggle" ng-click="isCollapsed = !isCollapsed">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">
          <div class="logo-sec-mca">
            <img src="images/machadalo-logo.png" alt="" title="" />
          </div>
        </a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="navbar-collapse" ng-class="isCollapsed ? 'collapse' : 'in'">
        <ul class="nav navbar-nav navbar-right" style="cursor: pointer;">
          <li><a target="_blank" class="fa fa-comments" id="active-nav" aria-hidden="true" style="font-size: large"
              ng-click="getActiveUser()">
              Live chat</a> </li>
          <li><a target="_blank" class="fa fa-user-circle" aria-hidden="true" style="font-size: large"
              ng-click="contactDetail()">
              Contact</a></li>
          <li> <a target="_blank" class="fa fa-history" aria-hidden="true" style="font-size: large"
              ng-click="historyDetail()">
              History</a> </li>
          <li> <a target="_blank" class="fa fa-file-text" aria-hidden="true" style="font-size: large"
              ng-click="templateDetail()">
              Template</a> </li>
          <li> <a target="_blank" class="fa fa-filter" aria-hidden="true" style="font-size: large"
              ng-click="filterTab()">
              Filter</a></li>

        </ul>


      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>




  <!-- navbar -->
  <!--  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <a class="navbar-brand">
        <div class="logo-sec-mca">
          <img src="images/machadalo-logo.png" alt="" title="" />
        </div>
      </a>

      <div class="nav-aisensy">
        <input type="checkbox" id="nav-aisensy-check">
        <div class="nav-aisensy-btn">
          <label for="nav-aisensy-check">
            <span></span>
            <span></span>
            <span></span>
          </label>
        </div>

        <div class="nav-aisensy-links">
          <a target="_blank" class="fa fa-comments" id="active-nav" aria-hidden="true" style="font-size: large"
            ng-click="getActiveUser()">
            Live chat</a>
          <a target="_blank" class="fa fa-user-circle" aria-hidden="true" style="font-size: large"
            ng-click="contactDetail()">
            Contact</a>
          <a target="_blank" class="fa fa-history" aria-hidden="true" style="font-size: large"
            ng-click="historyDetail()">
            History</a>
          <a target="_blank" class="fa fa-file-text" aria-hidden="true" style="font-size: large"
            ng-click=templateDetail()>
            Template</a>
          <a target="_blank" class="fa fa-filter" aria-hidden="true" style="font-size: large" ng-click=filterTab()>
            Filter</a>

        </div>
      </div>

    </div>
  </nav> -->
  <!-- /navbar -->

  <!--Active chat list + status + chat details-->

  <div ng-if="!showhistoryDetail && !showcontactDetail && showgetActiveUser">
    <div class="container dropdown mca-page">
      <!--tabs-->
      <div class="top-select-option-aisensy">
        <div class="form-group">
          <div class="tab-aisensy">

            <input id="tab-1" type="radio" name="tab" ng-click="getActiveUser()" ng-model="tab.name" value="tabA">
            <label for="tab-1">Active</label>
            <input id="tab-2" type="radio" name="tab" ng-model="tab.name" value="tabB">
            <label for="tab-2" ng-click="getActionRequiredUser()">Action Required</label>
            <input id="tab-3" type="radio" name="tab" ng-model="tab.name" value="tabC">
            <label for="tab-3" ng-click="getInterveneUser()">Intervened</label>

            <div class="content">
              <div id="content-1">
                <div class="row-aisensy no-gutters">
                  <div class="col-md-12 col-xs-12 border-right pm-0">
                    <div class="search-box search-box-active" ng-if="!showChatModule">
                      <div class="input-wrapper">
                        <i class="fa fa-search" aria-hidden="true"></i>
                        <!-- <input placeholder="Search here" ng-change="searchChat(search)" ng-model="search" id="search"
                          name="search" type="text" /> -->
                        <input placeholder="Search here" ng-change="getActiveUser()" ng-model="formData.activesearch"
                          id="tab1search" name="search" type="text" />
                      </div>
                      <div class="select">
                        <select ng-model="selectForActive" ng-change="selectedSupplier(selectForActive,'active')"
                          ng-options="supplier for supplier in supplierFilterList">
                          <option value="" ng-disable> -- Select Supplier --</option>
                        </select>
                      </div>
                    </div>
                    <div class="fields-box">
                      <div ng-if="!showChatModule && activeUserData.length > 0">
                        <table class="table table-bordered table-hover">

                          <tbody>
                            <tr dir-paginate="user in activeUserData | itemsPerPage:itemsPerPage"
                              total-items="totalCount" current-page="pagination.current" track by "$index">
                              <td>
                                <div class="friend-drawer friend-drawer--onhover"
                                  ng-click="userDetail(user.phone_number)">

                                  <!-- <div class="profile-image" style="float: left;">
                                    {{user.whatsapp_name |firstlater}}
                                  </div> -->

                                  <div class="profile-image">
                                    <span ng-if="user.whatsapp_name!=''">
                                      {{user.whatsapp_name |firstlater}}</span>
                                    <span ng-if="user.whatsapp_name==''">
                                      #</span>
                                  </div>

                                  <div class="text" style="float: left;">
                                    <h6>{{user.whatsapp_name}}</h6>
                                    <p class="text-muted"><b>
                                        {{user.country_code}}{{user.phone_number}}
                                      </b></p>
                                    <p>
                                      {{user.last_message | limitTo: 50 }} {{user.last_message.length > 50 ? '...' :
                                      ''}}
                                    </p>
                                  </div>
                                  <div style="margin-left: auto;display: flex;">
                                    <span class="time text-muted small">
                                      <b>{{user.updated_at | date :'medium'}}</b><br>
                                      <b>Intervene By: {{user.intervened_by}}</b>
                                    </span>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <div ng-if="tab.name == 'tabA'">
                          <center>
                            <dir-pagination-controls max-size="2" ng-click="liveChatPageChanged(pagination.current)"
                              boundary-links="true">
                            </dir-pagination-controls>
                          </center>

                        </div>
                      </div>

                      <div ng-if="activeUserData.length == 0">
                        <h4 style="text-align: center; color: red;">
                          No Record.
                        </h4>
                      </div>

                      <!-- <div ng-if="!showChatModule" ng-repeat="user in activeUserData track by $index">
                          <div class="friend-drawer friend-drawer--onhover" ng-click="userDetail(user.phone_number)">
                            <div class="profile-image">
                              {{user.whatsapp_name |firstlater}}
                            </div>
                            <div class="text">
                              <h6>{{user.whatsapp_name}}</h6>
                              <p class="text-muted">
                                {{user.country_code}}{{user.phone_number}}
                              </p>
                            </div>
                            <span class="time text-muted small">{{user.updated_at | date :
                              'medium'}}</span>
                          </div>

                          <hr />
                        </div> -->

                      <!-- Start Phone Chat for tab1-->
                      <div class="phone-chat" ng-if="showChatModule && !isUserProfile">
                        <div class="screen-phone">
                          <div class="nav-phone navbar-fixed">

                            <div class="icon-back">
                              <svg viewBox="0 0 57.653 64.11" width="25" height="25" xmlns="http://www.w3.org/2000/svg"
                                ng-click="getActiveUser(pagination.current)">

                                <path fill="#fff"
                                  d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
                              </svg>

                            </div>

                            <div ng-click="userProfileIcon()">

                              <!-- <center><span class="username profile-heading">{{userChatData.whatsapp_name}}</span><br />
                                <span
                                  class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}})</span>
                              </center>
            
                              <div class="profile-image-chat">
                                <span ng-if="userChatData.whatsapp_name!=''">
                                  {{userChatData.whatsapp_name |firstlater}}
                                </span>
                                <span ng-if="userChatData.whatsapp_name==''">#</span>
                              </div> -->

                              <div ng-if="userChatData.whatsapp_name!=''">
                                <center>
                                  <span class="username profile-heading">{{userChatData.whatsapp_name| limitTo: 15 }}
                                    {{userChatData.whatsapp_name.length > 15 ? '...' :
                                    ''}}</span><br />
                                  <span
                                    class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}}){{userChatPayload.area}},{{userChatPayload.city}},<br>{{userChatPayload.society_name}},{{userChatPayload.pincode}},{{userChatPayload.type_of_entity}},{{userChatPayload.designation}}</span>
                                </center>
                                <div class="profile-image-chat">
                                  <span>
                                    {{userChatData.whatsapp_name |firstlater}}
                                  </span>
                                </div>
                              </div>

                              <div ng-if="userChatData.whatsapp_name ==''">
                                <center>
                                  <span
                                    class="tel-number profile-heading-1">{{userChatData.country_code}}{{userChatData.phone_number}}</span>
                                </center>
                                <div class="profile-image-chat-1">
                                  <span ng-if="userChatData.whatsapp_name==''">#</span>
                                </div>
                              </div>

                            </div>
                          </div>


                          <div class="chat">

                            <div ng-repeat="chat in userChatData.payload track by $index">
                              <!-- <div > {{chat.timestamp | date : format : timezone}}</div> -->
                              <div style="width: 100%; float:right;">
                                <div class="message-1 " ng-if="chat.sender=='user'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="auto"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>
                                  <span ng-if="chat.type == 'contact'">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.first_name}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.first_name}}</h3>
                                        </div>
                                      </div>
                                    </div>
                                  </span>
                                  <br>
                                  <span class="chat-time">{{chat.timestamp | date :'medium'}}</span>
                                </div>
                              </div>
                              <div style="width: 100%; float:left;">
                                <div class="message-2 white-space-pre-line" ng-if="chat.sender=='bot'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="200"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="250" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>
                                  <span ng-if="chat.type == 'contact'">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.firstName}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.firstName}}</h3>
                                        </div>
                                      </div>
                                    </div>
                                  </span>
                                  <span class="chat-time">{{chat.timestamp | date : 'medium'}}, <b
                                      style="text-transform: capitalize;">{{chat.status['type']}}</b></span>
                                </div>
                              </div>
                            </div>

                          </div>
                          <button ng-disabled="pageCount == 1" type="button" class="btn btn-outline-primary"
                            ng-click="prvPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);  float:left;  margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-down" aria-hidden="true"></i>
                          </button>
                          <button ng-disabled="!disableNextPagebutton" type="button" class="btn btn-primary"
                            ng-click="nextPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);float:right; margin-bottom: 5px; border-radius:50%; border: 1px solid white;  margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                          </button>

                          <div ng-if="messageBox" class="msg-box">
                            <div class="input-wrapper input ">
                              <div class="wrapper">
                                <div class="file-upload">
                                  <input type="file" />
                                  <i class="fa fa-arrow-up"></i>
                                </div>
                                <div class="file-upload">
                                  <input type="file" />
                                  <i class="fa fa-arrow-up"></i>
                                </div>

                                <!-- <i style="margin-right: 20px;" class="fa fa-paperclip fa-lg" aria-hidden="true"></i> -->
                                <!-- <input type="text" ng-model="message.activeMessage" placeholder="Write message" /> -->
                                <!-- <input type="text" ng-model="message.activeMessage" placeholder="Write message"
                                ui-keypress="{13:'sendMessage(userChatData.phone_number)'}"> -->
                              </div>
                            </div>
                            <!-- <div class="btn-send" ng-click="sendMessage(userChatData.phone_number)">
                              <svg viewBox="0 0 74.433 60.908" width="25" height="25"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill="#fff"
                                  d="M 0 0 L 74.22 26.562 L 0.246 60.712 L 7.608 34.535 L 27.831 28.259 L 6.91 25.469 L 0 0 Z" />
                              </svg>
                            </div> -->

                            <!-- <div class="aisensy-resolve-btn">
                              <button type="button" class="btn btn-success" style="margin-top:10px"
                                ng-click="interveneButton(userChatData)">
                                Resolve
                              </button>
                            </div> -->

                          </div>


                          <div class="aisensy-intervene-btn" ng-click="writeMessage(userChatData,'active')"
                            ng-if="!messageBox" style="margin-top:5px">
                            <button type="button" class="btn btn-primary" style="margin-top:30px">
                              Intervene
                            </button>
                          </div>


                        </div>
                      </div>
                      <!--End Phone Chat  for tab1-->
                    </div>
                  </div>
                </div>
              </div>
              <!--end of first tab content-->

              <div id="content-2">
                <div class="row-aisensy no-gutters">
                  <div class="col-md-12 col-xs-12 border-right pm-0">
                    <div class="search-box search-box-active" ng-if="!showChatModule">
                      <div class="input-wrapper">
                        <i class="fa fa-search" aria-hidden="true"></i>
                        <input placeholder="Search here" ng-change="getActionRequiredUser()"
                          ng-model="formData.actionSearch" id="tab2search" name="search" type="text" />
                      </div>
                      <div class="select">
                        <select ng-model="selectForAction" ng-change="selectedSupplier(selectForAction,'action')"
                          ng-options="supplier for supplier in supplierFilterList">
                          <option value="" ng-disable> -- Select Supplier --</option>
                        </select>
                      </div>
                    </div>
                    <div class="fields-box">
                      <div ng-if="!showChatModule && actionRequiredUserData.length > 0">
                        <table class="table table-bordered table-hover">

                          <tbody>
                            <tr dir-paginate="user in actionRequiredUserData | itemsPerPage:itemsPerPage"
                              total-items="totalCount" current-page="pagination.current" track by "$index">
                              <td>
                                <div class="friend-drawer friend-drawer--onhover"
                                  ng-click="userDetail(user.phone_number)">

                                  <!-- <div class="profile-image" style="float: left;">
                                    {{user.whatsapp_name |firstlater}}
                                  </div> -->

                                  <div class="profile-image">
                                    <span ng-if="user.whatsapp_name!=''">
                                      {{user.whatsapp_name |firstlater}}</span>
                                    <span ng-if="user.whatsapp_name==''">
                                      #</span>
                                  </div>

                                  <div class="text" style="float: left;">
                                    <h6>{{user.whatsapp_name}}</h6>
                                    <p class="text-muted"><b>
                                        {{user.country_code}}{{user.phone_number}}
                                      </b></p>
                                    <p>
                                      {{user.last_message | limitTo: 50 }} {{user.last_message.length > 50 ? '...' :
                                      ''}}
                                    </p>
                                  </div>
                                  <div style="margin-left: auto;display: flex;">
                                    <span class="time text-muted small">
                                      <b>{{user.updated_at | date :'medium'}}</b><br>
                                      <b>Intervene By: {{user.intervened_by}}</b>
                                    </span>
                                  </div>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <div ng-if="tab.name == 'tabB'">
                          <center>
                            <dir-pagination-controls max-size="2"
                              ng-click="actionRequiredPageChanged(pagination.current)" boundary-links="true">
                            </dir-pagination-controls>
                          </center>
                        </div>
                      </div>
                      <div ng-if="actionRequiredUserData.length == 0">
                        <h4 style="text-align: center; color: red;">
                          No Record.
                        </h4>
                      </div>
                      <!-- Start Phone Chat  for tab2-->
                      <div class="phone-chat" ng-if="showChatModule && !isUserProfile">
                        <div class="screen-phone">
                          <div class="nav-phone navbar-fixed">

                            <div class="icon-back">
                              <svg viewBox="0 0 57.653 64.11" width="25" height="25" xmlns="http://www.w3.org/2000/svg"
                                ng-click="getActionRequiredUser(pagination.current)">

                                <path fill="#fff"
                                  d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
                              </svg>


                            </div>
                            <div ng-click="userProfileIcon()">

                              <!-- <center><span class="username profile-heading">{{userChatData.whatsapp_name}}</span><br />
                                <span
                                  class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}})</span>
                              </center>
            
                              <div class="profile-image-chat">
                                <span ng-if="userChatData.whatsapp_name!=''">
                                  {{userChatData.whatsapp_name |firstlater}}
                                </span>
                                <span ng-if="userChatData.whatsapp_name==''">#</span>
                              </div> -->
                              <div ng-if="userChatData.whatsapp_name!=''">
                                <center>
                                  <span class="username profile-heading">{{userChatData.whatsapp_name| limitTo: 15 }}
                                    {{userChatData.whatsapp_name.length > 15 ? '...' :
                                    ''}}</span><br />
                                  <span
                                    class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}}){{userChatPayload.area}},{{userChatPayload.city}},<br>{{userChatPayload.society_name}},{{userChatPayload.pincode}},{{userChatPayload.type_of_entity}},{{userChatPayload.designation}}</span>
                                  <!-- <span
                                    class="tel-number profile-heading">{{userDetailPayload.area})</span> -->
                                </center>
                                <div class="profile-image-chat">
                                  <span>
                                    {{userChatData.whatsapp_name |firstlater}}
                                  </span>
                                </div>
                              </div>

                              <div ng-if="userChatData.whatsapp_name ==''">
                                <center>
                                  <span
                                    class="tel-number profile-heading-1">{{userChatData.country_code}}{{userChatData.phone_number}}</span>
                                </center>
                                <div class="profile-image-chat-1">
                                  <span ng-if="userChatData.whatsapp_name==''">#</span>
                                </div>
                              </div>

                            </div>

                          </div>

                          <div class="chat">
                            <div ng-repeat="chat in userChatData.payload track by $index">
                              <!-- <div > {{chat.timestamp | date : format : timezone}}</div> -->
                              <div style="width: 100%; float:right;">
                                <div class="message-1 " ng-if="chat.sender=='user'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="auto"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>
                                  <span ng-if="chat.type == 'contact'">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.first_name}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.first_name}}</h3>
                                        </div>
                                      </div>
                                    </div>
                                  </span>
                                  <br>
                                  <span class="chat-time">{{chat.timestamp | date :'medium'}}</span>
                                </div>
                              </div>
                              <div style="width: 100%; float:left;">
                                <div class="message-2 white-space-pre-line" ng-if="chat.sender=='bot'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="200"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="250" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>
                                  <span ng-if="chat.type == 'contact'">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.firstName}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.firstName}}</h3>
                                        </div>
                                      </div>
                                    </div>
                                  </span>
                                  <span class="chat-time">{{chat.timestamp | date : 'medium'}}, <b
                                      style="text-transform: capitalize;">{{chat.status['type']}}</b></span>
                                </div>
                              </div>
                            </div>

                          </div>
                          <button ng-disabled="pageCount == 1" type="button" class="btn btn-outline-primary"
                            ng-click="prvPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);  float:left; margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-down" aria-hidden="true"></i>
                          </button>
                          <button ng-disabled="!disableNextPagebutton" type="button" class="btn btn-primary"
                            ng-click="nextPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);float:right;  margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                          </button>
                          <div ng-if="messageBox" class="msg-box">
                            <div class="input-wrapper input ">
                              <div class="wrapper">
                                <div class="file-upload">
                                  <input type="file" />
                                  <i class="fa fa-arrow-up"></i>
                                </div>
                                <div class="file-upload">
                                  <input type="file" />
                                  <i class="fa fa-arrow-up"></i>
                                </div>

                                <!-- <i style="margin-right: 20px;" class="fa fa-paperclip fa-lg" aria-hidden="true"></i> -->
                                <!-- <input type="text" ng-model="message.activeMessage" placeholder="Write message" /> -->
                                <!-- <input type="text" ng-model="message.activeMessage" placeholder="Write message"
                                ui-keypress="{13:'sendMessage(userChatData.phone_number)'}" > -->
                              </div>
                            </div>
                            <!-- <div class="btn-send" ng-click="sendMessage(userChatData.phone_number)">
                              <svg viewBox="0 0 74.433 60.908" width="25" height="25"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill="#fff"
                                  d="M 0 0 L 74.22 26.562 L 0.246 60.712 L 7.608 34.535 L 27.831 28.259 L 6.91 25.469 L 0 0 Z" />
                              </svg>
                            </div> -->

                            <!-- <div class="aisensy-resolve-btn">
                              <button type="button" class="btn btn-success" style="margin-top:10px"
                                ng-click="interveneButton(userChatData)">
                                Resolve
                              </button>
                            </div> -->

                          </div>


                          <div class="aisensy-intervene-btn" ng-click="writeMessage(userChatData)" ng-if="!messageBox"
                            style="margin-top:5px">
                            <button type="button" class="btn btn-primary">
                              Intervene
                            </button>
                          </div>
                        </div>
                      </div>
                      <!--End Phone Chat  for tab2-->
                    </div>
                  </div>
                </div>
              </div>
              <!--end of second tab content-->

              <div id="content-3">
                <div class="row-aisensy no-gutters">
                  <div class="col-md-12 col-xs-12 border-right pm-0">
                    <div class="search-box search-box-active" ng-if="!showChatModule">
                      <div class="input-wrapper">
                        <i class="fa fa-search" aria-hidden="true"></i>
                        <input placeholder="Search here" ng-change="getInterveneUser()"
                          ng-model="formData.interveneSearch" id="searchIn" name="search" type="text" />
                      </div>
                      <div class="select">
                        <select ng-model="selectForIntervene"
                          ng-change="selectedSupplier(selectForIntervene,'intervene')"
                          ng-options="supplier for supplier in supplierFilterList">
                          <option value="" ng-disable> -- Select Supplier --</option>
                        </select>
                      </div>
                    </div>
                    <div class="fields-box">
                      <div ng-if="!showChatModule && interveneUserData.length > 0">
                        <table class="table table-bordered table-hover">

                          <tbody>
                            <tr dir-paginate="user in interveneUserData | itemsPerPage:itemsPerPage"
                              total-items="totalCount" current-page="pagination.current" track by "$index">
                              <td>
                                <div class="friend-drawer friend-drawer--onhover"
                                  ng-click="userDetail(user.phone_number)">

                                  <!-- <div class="profile-image" style="float: left;">
                                    {{user.whatsapp_name |firstlater}}
                                  </div> -->

                                  <div class="profile-image">
                                    <span ng-if="user.whatsapp_name!=''">
                                      {{user.whatsapp_name |firstlater}}</span>
                                    <span ng-if="user.whatsapp_name==''">
                                      #</span>
                                  </div>

                                  <div class="text" style="float: left;">
                                    <h6>{{user.whatsapp_name}}</h6>
                                    <p class="text-muted"><b>
                                        {{user.country_code}}{{user.phone_number}}
                                      </b></p>
                                    <p>
                                      {{user.last_message | limitTo: 50 }} {{user.last_message.length > 50 ? '...' :
                                      ''}}
                                    </p>
                                  </div>

                                  <div style="margin-left: auto;display: flex;">
                                    <span class="time text-muted small">
                                      <b>{{user.updated_at | date :'medium'}}</b><br>
                                      <b>Intervene By: {{user.intervened_by}}</b>
                                    </span>
                                  </div>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <center>
                          <dir-pagination-controls max-size="2" ng-click="interveneDataPageChanged(pagination.current)"
                            boundary-links="true">
                          </dir-pagination-controls>
                        </center>
                      </div>
                      <div ng-if="interveneUserData.length == 0">
                        <h4 style="text-align: center; color: red;">
                          No Record.
                        </h4>
                      </div>

                      <!-- Start Phone Chat  for tab3-->
                      <div class="phone-chat" ng-if="showChatModule && !isUserProfile">
                        <div class="screen-phone">
                          <div class="green-fixed nav-phone navbar-fixed">

                            <div>
                              <!-- <div ng-click="userProfileIcon()"> -->
                              <div ng-if="userChatData.whatsapp_name!=''" class="green-fixed-inner">
                                <div class="icon-back">
                                  <svg viewBox="0 0 57.653 64.11" width="25" height="25"
                                    xmlns="http://www.w3.org/2000/svg" ng-click="getInterveneUser(pagination.current)">

                                    <path fill="#fff"
                                      d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
                                  </svg>
                                </div>
                                <div>
                                  <button ng-click="getLeadsTabSuspenseLeads()" data-toggle="modal"
                                    data-target="#SuspenseLeadsModel">Suspense Sheet</button>
                                </div>
                                <div ng-click="userProfileIcon()">
                                  <span class="username profile-heading">{{userChatData.whatsapp_name| limitTo: 15 }}
                                    {{userChatData.whatsapp_name.length > 15 ? '...' :
                                    ''}}</span><br />
                                  <span
                                    class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}}){{userChatPayload.area}},{{userChatPayload.city}},<br>{{userChatPayload.society_name}},{{userChatPayload.pincode}},{{userChatPayload.type_of_entity}},{{userChatPayload.designation}}</span>
                                </div>
                                <div>
                                  <button ng-click="opsVerified(userChatData.phone_number,userChatPayload.supplier_id)"
                                    data-toggle="modal" data-target="#RequirementModel">Ops Verified</button>
                                </div>
                                <div class="profile-image-chat">
                                  <span>
                                    {{userChatData.whatsapp_name |firstlater}}
                                  </span>
                                </div>
                              </div>

                              <div ng-if="userChatData.whatsapp_name ==''">
                                <center>
                                  <span
                                    class="tel-number profile-heading-1">{{userChatData.country_code}}{{userChatData.phone_number}}</span>
                                </center>
                                <div class="profile-image-chat-1">
                                  <span ng-if="userChatData.whatsapp_name==''">#</span>
                                </div>
                              </div>

                            </div>


                          </div>

                          <div class="chat">
                            <div ng-repeat="chat in userChatData.payload track by $index">
                              <!-- <div > {{chat.timestamp | date : format : timezone}}</div> -->
                              <div style="width: 100%; float:right;">
                                <div class="message-1 " ng-if="chat.sender=='user'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="auto"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>
                                  <span ng-if="chat.type == 'contact'">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.first_name}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.first_name}}</h3>
                                        </div>
                                      </div>
                                    </div>
                                  </span>
                                  <br>
                                  <span class="chat-time">{{chat.timestamp | date :'medium'}}</span>
                                </div>
                              </div>
                              <div style="width: 100%; float:left;">
                                <div class="message-2 white-space-pre-line" ng-if="chat.sender=='bot'">
                                  <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                                  <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                                      alt="Girl in a jacket" width="200" height="200"></span>
                                  <span ng-if="chat.content.types[0] == 'video'">
                                    <video width="200" height="250" controls>
                                      <source ng-src="{{chat.content.url}}" type="video/mp4">
                                    </video>
                                  </span>
                                  <span ng-if="chat.content.types[0] == 'audio'">
                                    <audio width="200" height="auto" controls>
                                      <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                                    </audio>
                                  </span>

                                  <span ng-if="chat.content.contacts">
                                    <div class="contact-info">
                                      <div class="card">
                                        <center><i class="icon fas fa-user">
                                            <h5>{{chat.content.contacts[0].name.firstName}}</h5>
                                          </i></center>
                                        <div class="card-content">
                                          <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                                          <h3>{{chat.content.contacts[0].name.firstName}}</h3>
                                        </div>
                                      </div>
                                    </div>

                                  </span>
                                  <span class="chat-time">{{chat.timestamp | date : 'medium'}}, <b
                                      style="text-transform: capitalize;">{{chat.status['type']}}</b></span>
                                </div>
                              </div>
                            </div>

                          </div>

                          <button ng-disabled="pageCount == 1" type="button" class="btn btn-outline-primary"
                            ng-click="prvPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);  float:left; margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-down" aria-hidden="true"></i>
                          </button>
                          <button ng-disabled="!disableNextPagebutton" type="button" class="btn btn-primary"
                            ng-click="nextPageChat(userChatData.phone_number)"
                            style="background-color: rgb(70, 70, 70);float:right;  margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                            <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                          </button>
                          <div ng-if="messageBox" class="msg-box">
                            <div class="input-wrapper input ">
                              <div class="wrapper">
                                <div class="file-upload">
                                  <input type="file" />
                                  <i class="fa fa-arrow-up"></i>
                                </div>

                                <!--contct attachment-->

                                <div>
                                  <div class="file-upload-1" ng-click="getContactList()">
                                    <i class="fa fa-address-card-o" data-target="#contactModal" data-toggle="modal"
                                      type="button"></i>
                                  </div>
                                  <div id="contactModal" class="modal fade">
                                    <div class="modal-dialog">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                                            style="opacity: 1; font-weight:bolder;"> &times;</button>

                                          <h4 class="modal-title" ng-if="!submitLeadType"
                                            style="font-weight: bolder; font-size: 21px;">
                                            Select Contact you want to share</h4>
                                          <hr>

                                          <div class="input-wrapper"
                                            style=" margin: 10px; background-color: #575758;position: sticky;top:21px;z-index: 10;">
                                            <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px;"></i>
                                            <input placeholder="Search here" ng-change="getContactList(contactNames)"
                                              ng-model="contactNames" id="tab1search" name="searchcontact" type="text"
                                              style="background-color: #ababab;margin: 5px; " />
                                          </div>

                                          <div class="modal-body">
                                            <table class="table table-bordered table-hover">
                                              <tbody ng-repeat="list in contactListData">
                                                <td>
                                                  <div class="friend-drawer friend-drawer--onhover">
                                                    <!-- <div class="text" style="float: left;">
                                                        <h6>{{list.contact_name}}</h6>
                                                        <p class="text-muted"><b>
                                                            {{list.phone_number}}
                                                          </b></p>
                                                      </div> -->
                                                    <div class="custom-control custom-checkbox"
                                                      ng-click="getselectedContact(list.email_id,list.contact_name,list.phone_number,list.organisation_name)">
                                                      <input type="checkbox" class="custom-control-input"
                                                        id="customCheck" name="example1" checklist-value="list"
                                                        checklist-model="list.selected"
                                                        style="position: absolute; right: 35px; width: 20px;">
                                                      <span class="text" style="float: left;">
                                                        <h6>{{list.contact_name}}</h6>
                                                        <p class="text-muted"><b>
                                                            {{list.phone_number}}
                                                          </b></p>
                                                      </span>
                                                    </div>
                                                  </div>
                                                </td>
                                              </tbody>
                                            </table>
                                            <button type="submit" class="btn btn-primary" value="submit" id="#myModal"
                                              ng-click="sendContact('91'+userChatData.phone_number)">Submit</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                                <!--end contct attachment-->

                                <!-- <input type="text" ng-model="message.activeMessage" placeholder="Write message"
                                  ng-keydown="$event.keyCode === 13  && sendMessage(userChatData.phone_number)"> -->
                                <textarea id="message" ng-model="message.activeMessage" placeholder="Write message"
                                  style="width: 90%;
                                  height: 15px;
                                  overflow: hidden;margin: 5px; padding-left: 15px;"
                                  ui-keypress="{13:'sendMessage(userChatData.phone_number)'}">
                              </textarea>
                              </div>
                            </div>
                            <div class="btn-send" ng-click="sendMessage(userChatData.phone_number)">
                              <svg viewBox="0 0 74.433 60.908" width="25" height="25"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill="#fff"
                                  d="M 0 0 L 74.22 26.562 L 0.246 60.712 L 7.608 34.535 L 27.831 28.259 L 6.91 25.469 L 0 0 Z" />
                              </svg>
                            </div>

                            <div class="aisensy-resolve-btn">
                              <button type="button" class="btn btn-success" style="margin-top:10px"
                                ng-click="interveneButton(userChatData)">
                                Resolve
                              </button>
                            </div>
                          </div>


                          <div class="aisensy-intervene-btn" ng-click="writeMessage(userChatData)" ng-if="!messageBox"
                            style="margin-top:5px">
                            <button type="button" class="btn btn-primary">
                              Intervene
                            </button>
                          </div>
                        </div>
                      </div>
                      <!--End Phone Chat  for tab3-->
                    </div>
                  </div>
                </div>
              </div>
              <!--end of third tab content-->
            </div>
          </div>
        </div>
      </div>
      <!--/tabs-->
    </div>
    <!-- Status -->
    <div class="container dropdown aisensy-page">

      <div ng-if="userDetailData && isUserProfile">
        <div class="top-select-option-mca">
          <div class="form-group">
            <div class="profile">
              <div class="friend-drawer-status friend-drawer--onhover">
                <div class="status-image">
                  <span ng-if="userDetailData.whatsapp_name!=''">
                    {{userDetailData.whatsapp_name |firstlater}}</span>
                  <span ng-if="userDetailData.whatsapp_name==''">#</span>
                </div>
                <div class="text">
                  <h6>{{userDetailData.whatsapp_name}}</h6>
                  <p class="text-muted">
                    {{userDetailData.country_code}}{{userDetailData.phone_number}}
                  </p>
                  <div class="icon-cross" ng-click="userChatIcon()">
                    <svg class="svg-icon" viewBox="0 0 20 20">
                      <path fill="#fff"
                        d="M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z">
                      </path>
                    </svg>
                  </div>
                </div>
                <hr />

                <div class="filter-card">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-table-wrap-mca">
                        <div class="info-table-covidhelp">
                          <div class="info-row-mca">
                            <label class="infolable-mca"> Session ID:</label>
                            <span> {{userDetailData.session_id}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">User Type:</label>
                            <span> {{userDetailData.user_type}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">Created At:</label>
                            <span>
                              {{userDetailData.created_at | date :
                              'medium'}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">Last Active:</label>
                            <span>
                              {{userDetailData.updated_at | date :
                              'medium'}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">City Name:</label>
                            <span>
                              {{userChatPayload.city}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">Area:</label>
                            <span>
                              {{userChatPayload.area}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">pincode:</label>
                            <span>
                              {{userChatPayload.pincode}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">Primary Count:</label>
                            <span>
                              {{userChatPayload.primary_count}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">society Name:</label>
                            <span>
                              {{userChatPayload.society_name}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">Society Type Quality:</label>
                            <span>
                              {{userChatPayload.society_type_quality}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">Type Of Entity:</label>
                            <span>
                              {{userChatPayload.type_of_entity}}</span>
                          </div>
                          <div class="info-row-mca">
                            <label class="infolable-mca">Designation Value:</label>
                            <span>
                              {{userChatPayload.designation}}</span>
                          </div>




                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Session Messages:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->

                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Unsolved Queries:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->

                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Source:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div>

                    <div class="info-row-mca">
                      <label class="infolable-mca">Lead State:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div>

                    <div class="info-row-mca">
                      <label class="infolable-mca">First Message:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Status End -->

                <!-- <select class="form-control" name="sector" id="sector-aisensy" ng-change="changeWeb()" ng-model="selectedsector">
          <option value="" disabled>Template Messages</option>
          <option ng-repeat="sec in sectorArray track by $index" value="{{sec.name}}"
            style="text-transform: capitalize">
            {{cat.name}}
          </option>
        </select>
        <select class="form-control" name="sector" id="sector-aisensy" ng-change="changeWeb()" ng-model="selectedsector">
          <option value="" disabled>Customer Journey</option>
          <option ng-repeat="sec in sectorArray track by $index" value="{{sec.name}}"
            style="text-transform: capitalize">
            {{cat.name}}
          </option>
        </select>-->
              </div>
            </div>
          </div>
        </div>
        <!-- Start Template and Customer Journey-->
        <div class="bs-example col-md-12 col-xs-12">
          <label class="radio-inline" ng-click="templateInStatus(userDetailData)">
            <input name="group1" value="1" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne"
              type="radio" />
            Template message
          </label>

          <div class="panel-group" id="accordion">
            <div class="panel panel-default">
              <div id="collapseOne" class="panel-collapse collapse ">

                <div class="filter-card">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-table-wrap-mca">
                        <div class="info-table-covidhelp">
                          <table class="table table-striped">
                            <tbody>
                              <tr ng-if="templateInStatusData.length != 0">
                                <th class="col-md-3">Template ID</th>
                                <th class="col-md-3">Send At</th>
                                <th class="col-md-3">Response Message</th>
                                <th class="col-md-3">Response At</th>
                              </tr>
                              <tr ng-repeat="tmp in templateInStatusData">
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_id}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_send_timestamp}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_responce}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_responce_timestamp}}
                                </td>
                              </tr>
                            </tbody>
                          </table>
                          <div ng-if="templateInStatusData.length == 0">
                            <h4 style="text-align: center; color: red;">
                              No Template Message Send
                            </h4>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <label class="radio-inline" ng-click="customerJourney(userDetailData)">
              <input name="group1" value="2" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo"
                type="radio" />
              Customer Journey
            </label>
            <!-- <button type="button" class="btn btn-info" ng-click="customerJourney(userDetailData)">Customer Journey</button> -->

            <div class="panel panel-default">
              <div id="collapseTwo" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="container mt-5 mb-5">
                    <div class="row">
                      <div class="col-md-6 offset-md-3">
                        <ul class="timeline">
                          <li ng-repeat="datas in customerJourneyData track by $index">
                            <h5>{{datas.username}} requested {{datas.status}}</h5>
                            <h6>{{datas.timestamp}}</h6>
                          </li>
                          <!-- <li>
                            <h5>Chat closed by XYZ</h5>
                            <h6>15:15, 17 Aug 2021</h6>
                          </li>
                          <li>
                            <h5>Chat intervened by XYZ</h5>
                            <h6>14:43, 17 Aug 2021</h6>
                          </li>
                          <li>
                            <h5>User requested intervention</h5>
                            <h6>09:03, 15 Aug 2021</h6>
                          </li> -->
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Template and Customer Journey-->
      </div>
    </div>
    <!--/ Status-->
  </div>

  <!--/Active chat list + status + chat details-->

  <!--History Tab-->
  <div class="container dropdown mca-page" ng-if="showhistoryDetail">
    <div class="top-select-option-aisensy">
      <div class="form-group">
        <div class="col-md-12 col-xs-12 border-right">
          <h3><b>
              <center>CHAT HISTORY</center>
            </b>
          </h3>
          <div ng-if="!showChatModule">
            <div class="search-box search-box-active">
              <div class="input-wrapper">
                <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px"></i>
                <input placeholder="Search here" ng-change="historyDetail()" ng-model="formData.historySearch"
                  type="text" />
              </div>
              <div class="select">
                <select ng-model="selectForHistory" ng-change="selectedSupplier(selectForHistory,'history')"
                  ng-options="supplier for supplier in supplierFilterList">
                  <option value="" ng-disable> -- Select Supplier --</option>
                </select>
              </div>
            </div>
            <table class="table table-bordered table-hover">

              <tbody>
                <tr dir-paginate="details in historyDetailData | itemsPerPage:itemsPerPage" total-items="totalCount"
                  current-page="pagination.current" track by "$index">
                  <td>
                    <div class="friend-drawer friend-drawer--onhover" ng-click="userDetail(details.phone_number)">
                      <!-- <img
                  class="profile-image"
                  src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg"
                  alt=""
                /> -->
                      <div class="profile-image">
                        <span ng-if="details.whatsapp_name!=''">
                          {{details.whatsapp_name |firstlater}}</span>
                        <span ng-if="details.whatsapp_name==''">
                          #</span>
                      </div>
                      <div class="text">
                        <h6>{{details.whatsapp_name}}</h6>
                        <p class="text-muted">
                          {{details.country_code}}{{details.phone_number}}
                        </p>
                      </div>
                      <div style="margin-left: auto;display: flex;">
                        <span class="time text-muted small">
                          <b>{{details.updated_at | date :'medium'}}</b><br>
                          <b>Intervene By: {{details.intervened_by}}</b>
                        </span>
                      </div>
                      <!-- </div>
                      <span class="time text-muted small">{{details.payload.timestamp}}</span>
                    </div> -->
                  </td>
                </tr>
              </tbody>
            </table>
            <center>
              <dir-pagination-controls max-size="2" on-page-change="historyPageChanged(newPageNumber)"
                boundary-links="true">
              </dir-pagination-controls>
            </center>
          </div>
          <div ng-if="historyDetailData.length == 0">
            <h4 style="text-align: center; color: red;">
              No Record.
            </h4>
          </div>
          <!-- Start Phone Chat for history tab-->
          <div class="phone-chat" ng-if="showChatModule && !isUserProfile">
            <div class="screen-phone">
              <div class="nav-phone navbar-fixed">

                <div class="icon-back">
                  <svg viewBox="0 0 57.653 64.11" width="25" height="25" xmlns="http://www.w3.org/2000/svg"
                    ng-click="historyDetail(pagination.current)">

                    <path fill="#fff"
                      d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
                  </svg>


                </div>
                <div ng-click="userProfileIcon()">

                  <!-- <center><span class="username profile-heading">{{userChatData.whatsapp_name}}</span><br />
                    <span
                      class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}})</span>
                  </center>

                  <div class="profile-image-chat">
                    <span ng-if="userChatData.whatsapp_name!=''">
                      {{userChatData.whatsapp_name |firstlater}}
                    </span>
                    <span ng-if="userChatData.whatsapp_name==''">#</span>
                  </div> -->

                  <div ng-if="userChatData.whatsapp_name!=''">
                    <center>
                      <span class="username profile-heading">{{userChatData.whatsapp_name| limitTo: 15 }}
                        {{userChatData.whatsapp_name.length > 15 ? '...' :
                        ''}}</span><br />
                      <span
                        class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}}){{userChatPayload.area}},{{userChatPayload.city}},<br>{{userChatPayload.society_name}},{{userChatPayload.pincode}},{{userChatPayload.type_of_entity}},{{userChatPayload.designation}}</span>
                    </center>
                    <div class="profile-image-chat">
                      <span>
                        {{userChatData.whatsapp_name |firstlater}}
                      </span>
                    </div>
                  </div>

                  <div ng-if="userChatData.whatsapp_name ==''">
                    <center>
                      <span
                        class="tel-number profile-heading-1">{{userChatData.country_code}}{{userChatData.phone_number}}</span>
                    </center>
                    <div class="profile-image-chat-1">
                      <span ng-if="userChatData.whatsapp_name==''">#</span>
                    </div>
                  </div>

                </div>
              </div>
              <div class="chat">
                <div ng-repeat="chat in userChatData.payload track by $index">
                  <!-- <div > {{chat.timestamp | date : format : timezone}}</div> -->
                  <div style="width: 100%; float:right;">
                    <div class="message-1 " ng-if="chat.sender=='user'">
                      <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                      <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                          alt="Girl in a jacket" width="200" height="auto"></span>
                      <span ng-if="chat.content.types[0] == 'video'">
                        <video width="200" height="auto" controls>
                          <source ng-src="{{chat.content.url}}" type="video/mp4">
                        </video>
                      </span>
                      <span ng-if="chat.content.types[0] == 'audio'">
                        <audio width="200" height="auto" controls>
                          <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                        </audio>
                      </span>
                      <span ng-if="chat.type == 'contact'">
                        <div class="contact-info">
                          <div class="card">
                            <center><i class="icon fas fa-user">
                                <h5>{{chat.content.contacts[0].name.first_name}}</h5>
                              </i></center>
                            <div class="card-content">
                              <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                              <h3>{{chat.content.contacts[0].name.first_name}}</h3>
                            </div>
                          </div>
                        </div>
                      </span>
                      <br>
                      <span class="chat-time">{{chat.timestamp | date :'medium'}}</span>
                    </div>
                  </div>

                  <div class="message-2 white-space-pre-line" ng-if="chat.sender=='bot'">
                    <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                    <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}"
                        alt="Girl in a jacket" width="200" height="200"></span>
                    <span ng-if="chat.content.types[0] == 'video'">
                      <video width="200" height="250" controls>
                        <source ng-src="{{chat.content.url}}" type="video/mp4">
                      </video>
                    </span>
                    <span ng-if="chat.content.types[0] == 'audio'">
                      <audio width="200" height="auto" controls>
                        <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                      </audio>
                    </span>
                    <span ng-if="chat.type == 'contact'">
                      <div class="contact-info">
                        <div class="card">
                          <center><i class="icon fas fa-user">
                              <h5>{{chat.content.contacts[0].name.firstName}}</h5>
                            </i></center>
                          <div class="card-content">
                            <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                            <h3>{{chat.content.contacts[0].name.firstName}}</h3>
                          </div>
                        </div>
                      </div>
                    </span>
                    <span class="chat-time">{{chat.timestamp | date :'medium'}}, <b
                        style="text-transform: capitalize;">{{chat.status['type']}}</b></span>
                  </div>
                </div>

              </div>

              <button ng-disabled="pageCount == 1" type="button" class="btn btn-outline-primary"
                ng-click="prvPageChat(userChatData.phone_number)"
                style="background-color: rgb(70, 70, 70);  float:left;  margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                <i class="fa fa-angle-double-down" aria-hidden="true"></i>
              </button>
              <button ng-disabled="!disableNextPagebutton" type="button" class="btn btn-primary"
                ng-click="nextPageChat(userChatData.phone_number)"
                style="background-color: rgb(70, 70, 70);float:right; margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
                <i class="fa fa-angle-double-up" aria-hidden="true"></i>
              </button>
            </div>
          </div>
          <!--End Phone Chat  for history tab-->

          <!--status for history tab-->
          <div class="container dropdown aisensy-page">
            <div ng-if="userDetailData && isUserProfile">
              <div class="top-select-option-mca">
                <div class="form-group">
                  <div class="profile">
                    <div class="friend-drawer-status friend-drawer--onhover">
                      <div class="status-image">
                        <span ng-if="userDetailData.whatsapp_name!=''">
                          {{userDetailData.whatsapp_name |firstlater}}</span>
                        <span ng-if="userDetailData.whatsapp_name==''">#</span>
                      </div>
                      <div class="text">
                        <h6>{{userDetailData.whatsapp_name}}</h6>
                        <p class="text-muted">
                          {{userDetailData.country_code}}{{userDetailData.phone_number}}
                        </p>
                        <div class="icon-cross" ng-click="userChatIcon()">
                          <svg class="svg-icon" viewBox="0 0 20 20">
                            <path fill="#fff"
                              d="M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z">
                            </path>
                          </svg>
                        </div>
                      </div>
                      <hr />

                      <div class="filter-card">
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="info-table-wrap-mca">
                              <div class="info-table-covidhelp">
                                <div class="info-row-mca">
                                  <label class="infolable-mca"> Session ID:</label>
                                  <span> {{userDetailData.session_id}}</span>
                                </div>

                                <div class="info-row-mca">
                                  <label class="infolable-mca">User Type:</label>
                                  <span> {{userDetailData.user_type}}</span>
                                </div>

                                <div class="info-row-mca">
                                  <label class="infolable-mca">Created At:</label>
                                  <span>
                                    {{userDetailData.created_at | date :
                                    'medium'}}</span>
                                </div>

                                <div class="info-row-mca">
                                  <label class="infolable-mca">Last Active:</label>
                                  <span>
                                    {{userDetailData.updated_at | date :
                                    'medium'}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">City Name:</label>
                                  <span>
                                    {{userChatPayload.city}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">Area:</label>
                                  <span>
                                    {{userChatPayload.area}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">pincode:</label>
                                  <span>
                                    {{userChatPayload.pincode}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">Primary Count:</label>
                                  <span>
                                    {{userChatPayload.primary_count}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">society Name:</label>
                                  <span>
                                    {{userChatPayload.society_name}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">Society Type Quality:</label>
                                  <span>
                                    {{userChatPayload.society_type_quality}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">Type Of Entity:</label>
                                  <span>
                                    {{userChatPayload.type_of_entity}}</span>
                                </div>
                                <div class="info-row-mca">
                                  <label class="infolable-mca">Designation Value:</label>
                                  <span>{{userChatPayload.designation}}</span>
                                </div>


                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
              <!-- Start Template and Customer Journey-->
              <div class="bs-example col-md-12 col-xs-12">
                <label class="radio-inline">
                  <input name="group1" value="1" data-toggle="collapse" data-parent="#accordion"
                    data-target="#collapseOne" type="radio" />
                  Template message
                </label>

                <div class="panel-group" id="accordion">
                  <div class="panel panel-default">
                    <div id="collapseOne" class="panel-collapse collapse ">

                      <div class="filter-card">
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="info-table-wrap-mca">
                              <div class="info-table-covidhelp">
                                <table class="table table-striped">
                                  <tbody>
                                    <tr ng-if="templateInStatusData.length != 0">
                                      <th class="col-md-3">Template ID</th>
                                      <th class="col-md-3">Send At</th>
                                      <th class="col-md-3">Response Message</th>
                                      <th class="col-md-3">Response At</th>
                                    </tr>
                                    <tr ng-repeat="tmp in templateInStatusData">
                                      <td class="col-md-3" style="text-align: center;">{{tmp.template_id}}</td>
                                      <td class="col-md-3" style="text-align: center;">{{tmp.template_send_timestamp}}
                                      </td>
                                      <td class="col-md-3" style="text-align: center;">{{tmp.template_responce}}</td>
                                      <td class="col-md-3" style="text-align: center;">
                                        {{tmp.template_responce_timestamp}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                                <div ng-if="templateInStatusData.length == 0">
                                  <h4 style="text-align: center; color: red;">
                                    No Template Message Send
                                  </h4>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <label class="radio-inline" ng-click="customerJourney(userDetailData)">
                    <input name="group1" value="2" data-toggle="collapse" data-parent="#accordion"
                      data-target="#collapseTwo" type="radio" />
                    Customer Journey
                  </label>
                  <!-- <button type="button" class="btn btn-info" ng-click="customerJourney(userDetailData)">Customer Journey</button> -->

                  <div class="panel panel-default">
                    <div id="collapseTwo" class="panel-collapse collapse">
                      <div class="panel-body">
                        <div class="container mt-5 mb-5">
                          <div class="row">
                            <div class="col-md-6 offset-md-3">
                              <ul class="timeline">
                                <li ng-repeat="datas in customerJourneyData track by $index">
                                  <h5>{{datas.username}} requested {{datas.status}}</h5>
                                  <h6>{{datas.timestamp}}</h6>
                                </li>
                                <!-- <li>
                                  <h5>Chat closed by XYZ</h5>
                                  <h6>15:15, 17 Aug 2021</h6>
                                </li>
                                <li>
                                  <h5>Chat intervened by XYZ</h5>
                                  <h6>14:43, 17 Aug 2021</h6>
                                </li>
                                <li>
                                  <h5>User requested intervention</h5>
                                  <h6>09:03, 15 Aug 2021</h6>
                                </li> -->
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- End Template and Customer Journey-->
            </div>
          </div>
          <!-- Status End for history tab -->
        </div>
      </div>
    </div>
  </div>
  <!--/History Tab-->

  <!--Contact Tab-->
  <div class="container dropdown mca-page" ng-if="showcontactDetail">
    <h3><b>CONTACT</b></h3>

    <div class="search-box">
      <div class="input-wrapper">
        <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px"></i>
        <input placeholder="Search here" ng-change="contactDetail()" ng-model="formData.contactSearch" type="text" />
      </div>
    </div>

    <div class="container table-responsive py-5">

      <table class="table table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Sr. No.</th>
            <th scope="col">Name</th>
            <th scope="col">Mobile Number</th>
            <th scope="col">Status</th>
            <th scope="col">Last Active</th>
            <th scope="col">Created At</th>
          </tr>
        </thead>
        <tbody>
          <!-- <tr ng-repeat="contact in contactDetailData track by $index"> -->
          <tr dir-paginate="contact in contactDetailData | itemsPerPage:itemsPerPage" total-items="totalCount"
            current-page="pagination.current" track by "$index">
            <td>{{$index+serial}}</td>
            <td>{{contact.whatsapp_name}}</td>
            <td>{{contact.country_code}}{{contact.phone_number}}</td>
            <td>{{contact.user_type}}</td>
            <td>{{contact.updated_at | date : 'medium'}}</td>
            <td>{{contact.created_at | date : 'medium'}}</td>
          </tr>
        </tbody>
      </table>
      <!-- <dir-pagination-controls max-size="3" on-page-change="pageChanged(newPageNumber)" boundary-links="true">
      </dir-pagination-controls> -->
      <!-- <div data-pagination="" data-num-pages="numOfPages()" data-current-page="curPage" data-max-size="maxSize"
        data-boundary-links="true"> -->
    </div>
    <center>
      <dir-pagination-controls max-size="2" on-page-change="pageChanged(newPageNumber)" boundary-links="true">
      </dir-pagination-controls>
    </center>
    <div ng-if="contactDetailData.length == 0">
      <h4 style="text-align: center; color: red;">
        No Record.
      </h4>
    </div>
  </div>
  <!--/Contact Tab-->

  <!--Template Tab-->
  <div class="container dropdown mca-page" ng-if="showtemplateDetail">

    <div class="add-button">
      <button type="button" class="btn btn-info">Add+</button>
    </div>

    <h3 style="padding: 5px; margin-bottom: 20px;"><b>TEMPLATE</b></h3>

    <div class="search-box">
      <div class="input-wrapper">
        <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px"></i>

        <input placeholder="Search here" ng-change="templateDetail(templateSearch)" ng-model="templateSearch"
          type="text" />

      </div>
    </div>

    <div class="container table-responsive py-5">
      <table class="table table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Sr. No.</th>
            <th scope="col">Template ID</th>
            <th scope="col">Name</th>
            <th scope="col">Template Message</th>
            <th scope="col">Status</th>
            <th scope="col">Created At</th>
            <th scope="col">Bot Name</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr dir-paginate="template in templateDetailData| itemsPerPage:itemsPerPage" total-items="totalCount"
            current-page="pagination.current" track by "$index">
            <td>{{$index+serial}}</td>
            <td>{{template.template_code}}</td>
            <td>{{template.template_name}}</td>
            <td style="white-space: pre-line;word-wrap: break-word;">{{template.Template_message}}</td>
            <td>{{template.status}}</td>
            <td>{{template.date}}</td>
            <td>{{template.bot_name}}</td>
            <td><button type="button" class="btn btn-success" style="align-items: center;">View More</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!--/Template-->

  <!--Filter Tab-->
  <div class="container dropdown mca-page" ng-if="showfilterDetail">
    <h3><b>FILTER</b></h3>

    <div class="page-inner">
      <div class="top-select-option-mca">
        <div class="row">
          <div class="second dropdown">
            <h4 style="margin-left: 10px;"><b>Attributes:</b></h4>
            <div class="col-xs-6 col-md-6">
              <div class="form-group">
                <select class="form-control" ng-change="getFilterData()" name="attribute_name" id="attribute_nameId"
                  ng-model="dateRangeModel.attribute_name">
                  <option value="" disabled> Select Attribute</option>
                  <option value="active">Active</option>
                  <option value="action_required">Action Required</option>
                  <option value="intervene">Intervene</option>
                </select>
              </div>
            </div>

            <div class="col-md-6 col-xs-6">
              <div class="form-group">
                <select class="form-control" ng-change="getFilterData()" name="attribute" id="attributeId"
                  ng-model="dateRangeModel.date_type">
                  <option value="" disabled>Attribute Value</option>
                  <option value="created_at">Created At</option>
                  <option value="updated_at">Updated At</option>
                </select>
              </div>
            </div>

          </div>


          <div class="col-md-6 col-xs-6">
            <h4><b> From:</b></h4>
            <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
              placeholder="DD/MM/YYYY" ng-change="changeStartDate()" ng-model="dateRangeModel.start_dates"
              is-open="isDatepickerOpen" datepicker-options="datepickerOptions" ng-required="true" close-text="Close"
              alt-input-formats="altInputFormats">
            <button type="button" class="smallBtn calendar" ng-click="isDatepickerOpen = !isDatepickerOpen">
              <i class="glyphicon glyphicon-calendar"></i>
            </button>
          </div>

          <div class="col-md-6 col-xs-6">
            <h4><b> To:</b></h4>
            <input type="text" style="color:#000000;" class="field" uib-datepicker-popup="dd/MM/yyyy"
              placeholder="DD/MM/YYYY" ng-change="changeEndDate()" ng-model="dateRangeModel.end_dates"
              is-open="isEndDateOpen" datepicker-options="options" ng-required="true" close-text="Close"
              alt-input-formats="altInputFormats">
            <button type="button" class="smallBtn calendar" ng-disabled="!dateRangeModel.start_dates"
              ng-click="isEndDateOpen = !isEndDateOpen">
              <i class="glyphicon glyphicon-calendar"></i>
            </button>
          </div>
          <center><button class="btn btn-danger filter-button"
              ng-disabled="!dateRangeModel.start_dates || !dateRangeModel.end_dates||!dateRangeModel.attribute_name||!dateRangeModel.date_type"
              ng-click="getFilterData()">Submit</button></center>
        </div>
      </div>
    </div>


    <div ng-if="!showChatModule && filterData.length > 0">
      <!-- <div class="search-box">
      <div class="input-wrapper">
        <i class="fa fa-search" aria-hidden="true" style="margin-left: 10px"></i>
        <input placeholder="Search here" ng-change="searchChatHistory(historySearch)" ng-model="historySearch"
          type="text" />
      </div>
    </div> -->
      <table class="table table-bordered table-hover">
        <tbody>
          <tr dir-paginate="details in filterData | itemsPerPage:itemsPerPage" total-items="totalCount"
            current-page="pagination.current" track by "$index">
            <td>
              <div class="friend-drawer friend-drawer--onhover" ng-click="userDetail(details.phone_number)">
                <div class="profile-image">
                  <span ng-if="details.whatsapp_name!=''">
                    {{details.whatsapp_name |firstlater}}</span>
                  <span ng-if="details.whatsapp_name==''">
                    #</span>
                </div>
                <div class="text">
                  <h6>{{details.whatsapp_name}}</h6>
                  <p class="text-muted">
                    {{details.country_code}}{{details.phone_number}}
                  </p>
                  <p>
                    {{details.last_message | limitTo: 50 }} {{details.last_message.length > 50 ? '...' :
                    ''}}
                  </p>
                </div>
                <div style="position: absolute; right: 35px;">
                  <span class="time text-muted small">
                    <b>{{details.updated_at | date :'medium'}}</b>
                  </span>
                </div>
                <!-- </div>
                <span class="time text-muted small">{{details.payload.timestamp}}</span>-->
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- <dir-pagination-controls max-size="10" on-page-change="historyPageChanged(newPageNumber)"
      boundary-links="true">
    </dir-pagination-controls> -->
    </div>
    <!-- Start Phone Chat for filter tab-->
    <div class="phone-chat" ng-if="showChatModule && !isUserProfile">
      <div class="screen-phone">
        <div class="nav-phone navbar-fixed">

          <div class="icon-back">
            <svg viewBox="0 0 57.653 64.11" width="25" height="25" xmlns="http://www.w3.org/2000/svg"
              ng-click="filterDetail(pagination.current)">

              <path fill="#fff"
                d="M 31.75 0 L 0 31.956 L 30.961 63.124 L 36.412 57.26 L 15.768 36.41 L 56.313 35.997 L 56.107 28.366 L 15.484 28.572 L 37.35 6.086 L 31.75 0 Z" />
            </svg>


          </div>
          <div ng-click="userProfileIcon()">

            <!-- <center><span class="username profile-heading">{{userChatData.whatsapp_name}}</span><br />
          <span
            class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}})</span>
        </center>

        <div class="profile-image-chat">
          <span ng-if="userChatData.whatsapp_name!=''">
            {{userChatData.whatsapp_name |firstlater}}
          </span>
          <span ng-if="userChatData.whatsapp_name==''">#</span>
        </div> -->

            <div ng-if="userChatData.whatsapp_name!=''">
              <center>
                <span class="username profile-heading">{{userChatData.whatsapp_name| limitTo: 15 }}
                  {{userChatData.whatsapp_name.length > 15 ? '...' :
                  ''}}</span><br />
                <span
                  class="tel-number profile-heading">({{userChatData.country_code}}{{userChatData.phone_number}})</span>
              </center>
              <div class="profile-image-chat">
                <span>
                  {{userChatData.whatsapp_name |firstlater}}
                </span>
              </div>
            </div>

            <div ng-if="userChatData.whatsapp_name ==''">
              <center>
                <span
                  class="tel-number profile-heading-1">{{userChatData.country_code}}{{userChatData.phone_number}}</span>
              </center>
              <div class="profile-image-chat-1">
                <span ng-if="userChatData.whatsapp_name==''">#</span>
              </div>
            </div>

          </div>
        </div>
        <div class="chat">
          <div ng-repeat="chat in userChatData.payload track by $index">
            <!-- <div > {{chat.timestamp | date : format : timezone}}</div> -->
            <div style="width: 100%; float:right;">
              <div class="message-1 " ng-if="chat.sender=='user'">
                <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
                <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}" alt="Girl in a jacket"
                    width="200" height="auto"></span>
                <span ng-if="chat.content.types[0] == 'video'">
                  <video width="200" height="auto" controls>
                    <source ng-src="{{chat.content.url}}" type="video/mp4">
                  </video>
                </span>
                <span ng-if="chat.content.types[0] == 'audio'">
                  <audio width="200" height="auto" controls>
                    <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                  </audio>
                </span>
                <span ng-if="chat.type == 'contact'">
                  <div class="contact-info">
                    <div class="card">
                      <center><i class="icon fas fa-user">
                          <h5>{{chat.content.contacts[0].name.first_name}}</h5>
                        </i></center>
                      <div class="card-content">
                        <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                        <h3>{{chat.content.contacts[0].name.first_name}}</h3>
                      </div>
                    </div>
                  </div>
                </span>
                <br>
                <span class="chat-time">{{chat.timestamp | date :'medium'}}</span>
              </div>
            </div>

            <div class="message-2 white-space-pre-line" ng-if="chat.sender=='bot'">
              <span class="chat-text" ng-if='chat.content.text'>{{chat.content.text}}</span>
              <span ng-if="chat.content.types[0] == 'image'"><img src="{{chat.content.url}}" alt="Girl in a jacket"
                  width="200" height="200"></span>
              <span ng-if="chat.content.types[0] == 'video'">
                <video width="200" height="250" controls>
                  <source ng-src="{{chat.content.url}}" type="video/mp4">
                </video>
              </span>
              <span ng-if="chat.content.types[0] == 'audio'">
                <audio width="200" height="auto" controls>
                  <source ng-src="{{chat.content.url}}" type="audio/ogg; codecs=opus">
                </audio>
              </span>
              <span ng-if="chat.type == 'contact'">
                <div class="contact-info">
                  <div class="card">
                    <center><i class="icon fas fa-user">
                        <h5>{{chat.content.contacts[0].name.firstName}}</h5>
                      </i></center>
                    <div class="card-content">
                      <span>{{chat.content.contacts[0].phones[0].phone}}</span>
                      <h3>{{chat.content.contacts[0].name.firstName}}</h3>
                    </div>
                  </div>
                </div>
              </span>
              <span class="chat-time">{{chat.timestamp | date : 'medium'}}</span>
            </div>
          </div>

        </div>

        <button ng-disabled="pageCount == 1" type="button" class="btn btn-outline-primary"
          ng-click="prvPageChat(userChatData.phone_number)"
          style="background-color: rgb(70, 70, 70);  float:left;  margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
          <i class="fa fa-angle-double-down" aria-hidden="true"></i>
        </button>
        <button ng-disabled="!disableNextPagebutton" type="button" class="btn btn-primary"
          ng-click="nextPageChat(userChatData.phone_number)"
          style="background-color: rgb(70, 70, 70);float:right; margin-bottom: 5px; border-radius:50%; border: 1px solid white; margin-top: -20px; position: relative; z-index: 10;">
          <i class="fa fa-angle-double-up" aria-hidden="true"></i>
        </button>
      </div>
    </div>
    <!--End Phone Chat  for filter tab-->

    <!--status for filter tab-->
    <div class="container dropdown aisensy-page">

      <div ng-if="userDetailData && isUserProfile">
        <div class="top-select-option-mca">
          <div class="form-group">
            <div class="profile">
              <div class="friend-drawer-status friend-drawer--onhover">
                <div class="status-image">
                  <span ng-if="userDetailData.whatsapp_name!=''">
                    {{userDetailData.whatsapp_name |firstlater}}</span>
                  <span ng-if="userDetailData.whatsapp_name==''">#</span>
                </div>
                <div class="text">
                  <h6>{{userDetailData.whatsapp_name}}</h6>
                  <p class="text-muted">
                    {{userDetailData.country_code}}{{userDetailData.phone_number}}
                  </p>
                  <div class="icon-cross" ng-click="userChatIcon()">
                    <svg class="svg-icon" viewBox="0 0 20 20">
                      <path fill="#fff"
                        d="M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z">
                      </path>
                    </svg>
                  </div>
                </div>
                <hr />

                <div class="filter-card">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-table-wrap-mca">
                        <div class="info-table-covidhelp">
                          <div class="info-row-mca">
                            <label class="infolable-mca"> Session ID:</label>
                            <span> {{userDetailData.session_id}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">User Type:</label>
                            <span> {{userDetailData.user_type}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">Created At:</label>
                            <span>
                              {{userDetailData.created_at | date :
                              'medium'}}</span>
                          </div>

                          <div class="info-row-mca">
                            <label class="infolable-mca">Last Active:</label>
                            <span>
                              {{userDetailData.updated_at | date :
                              'medium'}}</span>
                          </div>



                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Session Messages:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->

                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Unsolved Queries:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->

                          <!-- <div class="info-row-mca">
                      <label class="infolable-mca">Source:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div>

                    <div class="info-row-mca">
                      <label class="infolable-mca">Lead State:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div>

                    <div class="info-row-mca">
                      <label class="infolable-mca">First Message:</label>
                      <span> {{cases.yesterday_confirmed}}</span>
                    </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Status End -->

                <!-- <select class="form-control" name="sector" id="sector-aisensy" ng-change="changeWeb()" ng-model="selectedsector">
          <option value="" disabled>Template Messages</option>
          <option ng-repeat="sec in sectorArray track by $index" value="{{sec.name}}"
            style="text-transform: capitalize">
            {{cat.name}}
          </option>
        </select>
        <select class="form-control" name="sector" id="sector-aisensy" ng-change="changeWeb()" ng-model="selectedsector">
          <option value="" disabled>Customer Journey</option>
          <option ng-repeat="sec in sectorArray track by $index" value="{{sec.name}}"
            style="text-transform: capitalize">
            {{cat.name}}
          </option>
        </select>-->
              </div>
            </div>
          </div>
        </div>
        <!-- Start Template and Customer Journey-->
        <div class="bs-example col-md-12 col-xs-12">
          <label class="radio-inline" ng-click="templateInStatus(userDetailData)">
            <input name="group1" value="1" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne"
              type="radio" />
            Template message
          </label>

          <div class="panel-group" id="accordion">
            <div class="panel panel-default">
              <div id="collapseOne" class="panel-collapse collapse ">

                <div class="filter-card">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="info-table-wrap-mca">
                        <div class="info-table-covidhelp">
                          <table class="table table-striped">
                            <tbody>
                              <tr ng-if="templateInStatusData.length != 0">
                                <th class="col-md-3">Template ID</th>
                                <th class="col-md-3">Send At</th>
                                <th class="col-md-3">Response Message</th>
                                <th class="col-md-3">Response At</th>
                              </tr>
                              <tr ng-repeat="tmp in templateInStatusData">
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_id}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_send_timestamp}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_responce}}</td>
                                <td class="col-md-3" style="text-align: center;">{{tmp.template_responce_timestamp}}
                                </td>
                              </tr>


                            </tbody>

                          </table>
                          <div ng-if="templateInStatusData.length == 0">
                            <h4 style="text-align: center; color: red;">
                              No Template Message Send
                            </h4>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <label class="radio-inline" ng-click="customerJourney(userDetailData)">
              <input name="group1" value="2" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo"
                type="radio" />
              Customer Journey
            </label>
            <!-- <button type="button" class="btn btn-info" ng-click="customerJourney(userDetailData)">Customer Journey</button> -->

            <div class="panel panel-default">
              <div id="collapseTwo" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="container mt-5 mb-5">
                    <div class="row">
                      <div class="col-md-6 offset-md-3">
                        <ul class="timeline">
                          <li ng-repeat="datas in customerJourneyData track by $index">
                            <h5>{{datas.username}} requested {{datas.status}}</h5>
                            <h6>{{datas.timestamp}}</h6>
                          </li>
                          <!-- <li>
                            <h5>Chat closed by XYZ</h5>
                            <h6>15:15, 17 Aug 2021</h6>
                          </li>
                          <li>
                            <h5>Chat intervened by XYZ</h5>
                            <h6>14:43, 17 Aug 2021</h6>
                          </li>
                          <li>
                            <h5>User requested intervention</h5>
                            <h6>09:03, 15 Aug 2021</h6>
                          </li> -->
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Template and Customer Journey-->
      </div>
    </div>
    <!-- Status End for filter tab -->

    <div
      ng-if="filterData.length == 0 && (dateRangeModel.start_dates && dateRangeModel.end_dates && dateRangeModel.attribute_name && dateRangeModel.date_type)">
      <h4 style="text-align: center; color: red;">
        No Record.
      </h4>
    </div>
    <div
      ng-if="!dateRangeModel.start_dates || !dateRangeModel.end_dates||!dateRangeModel.attribute_name||!dateRangeModel.date_type">
      <h4 style="text-align: center; color: red;">
        Select all the Fields
      </h4>
    </div>
  </div>
  <!--/Filter Tab-->
</div>

<!-- start Requirement table -->
<div id="RequirementModel" class="modal custom-modal-box fade li-popup">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Requirement Details supplierName</h4>
        <hr />
        <div class="modal-body" style="width: 100%; min-height: 200px;">
          <div class="modal-body col-md-4 table-responsive submitted_lead_table"
            style="width: 100%; min-height: 200px;">
            <form name="myForm">
              <!-- test -->
              <h4 class="modal-title">Submitted Leads</h4>
              <table class="table table-bordered" name="contactForm">
                <thead>
                  <tr>
                    <th ng-repeat="header in requirement_submitted_headings" class="col-md-2 alignment">
                      <b>{{header.header}}</b>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat-start="(key, requirement) in requirementDetailData">
                    <td class="alignment">
                      <span ng-if="!detailedShow[key]" ng-click="ShowDetailed(key,requirement.sector)"
                        class="glyphicon glyphicon-plus"></span>
                      <span ng-if="detailedShow[key]" ng-click="ShowDetailed(key,requirement.sector)"
                        class="glyphicon glyphicon-minus"></span>
                    </td>
                    <td class="alignment">
                      {{sectorName(requirement.sector)}}
                    </td>
                  <tr ng-show="detailedShow[key]" id="detailedSho_{{key}}" ng-repeat-end
                    ng-repeat-start="subrequirement in requirement.requirements">
                    <td ng-style="{'background-color': subrequirement.color_class}" class="input_td_req11"> </td>
                    <td ng-style="{'background-color': subrequirement.color_class}" class="input_td_req">
                      <input type="checkbox" name="requirementCheck" id="requirementCheckId"
                        ng-click="checkbooxCheck(key,$index)" ng-model="subrequirement.requirementCheck">
                    </td>
                    <td class="alignment">
                      <select class="form-control" ng-model="option" ng-change="">
                        <option ng-repeat="option in subSectorList" value="{{option}}">{{option}}</option>
                      </select>
                      {{subrequirement.sub_sector_name}}
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="current_company_{{$index}}" id="current_company_id_{{$index}}"
                        ng-change="checkBoxAutoCheck(key,$index)" ng-model="subrequirement.current_company"
                        style="width:100px;">
                        <option value="" disabled>Select Current Partner</option>
                        <option ng-if="subrequirement.sector==cpartner.sector || (subrequirement.sector==null)"
                          ng-repeat="cpartner in companiesDetailData track by $index"
                          value="{{cpartner.organisation_id}}">
                          {{cpartner.name}}
                        </option>
                      </select>
                      <input style="margin-top:10px" type="text" ng-change="checkBoxAutoCheck(key,$index)"
                        class="form-control" placeholder="Other Current Company"
                        ng-if="subrequirement.current_company == ''" name="currentCompanyOther"
                        id="currentCompanyOtherId" ng-model="subrequirement.current_company_other">
                    </td>

                    <td class="alignment">
                      {{subrequirement.current_patner_feedback}}<br>
                      <span
                        ng-if="subrequirement.current_patner_feedback_reason">Reason:{{subrequirement.current_patner_feedback_reason}}</span>
                      <span ng-if="!subrequirement.current_patner_feedback_reason">Reason:NA</span>
                    </td>
                    <td class="alignment">
                      {{companyData(subrequirement.sector)}}
                      <span style="width:150px;"
                        class="multiselectDropdown multiselectDropdown-123 multiselectDropdown-style style="
                        color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                        options="companiesDetailDataArray" extra-settings="settings"
                        selected-model="subrequirement.selected_preferred_company_sub_sector"
                        ng-click="subSectorPreferredMulticheck(key,$index)" translation-texts="selected_business_type"
                        events="events">
                      </span>
                      <span ng-repeat="selectedName in subrequirement.selected_preferred_company_sub_sector"
                        style="text-align: left; display: inline-block">
                        {{selectedName.name}}
                        <span ng-if="!$last">,</span>
                      </span>
                      <input style="margin-top:10px" ng-change="checkBoxAutoCheck(key,$index)" type="text"
                        class="form-control" placeholder="Other Preferred Company"
                        ng-if="subrequirement.otherPreferredCompany" name="other_preferred_company"
                        id="other_preferred_company" ng-model="subrequirement.preferred_company_other">
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="lead_L4" id="lead_L4" ng-model="subrequirement.L4"
                        style="width:150px;">
                        <option ng-repeat="lead_L4 in leads_Data_1.L4" value="{{lead_L4}}">
                          {{lead_L4}}
                        </option>
                        <option ng-if="leads_Data_1.L4.length==0" selected="true" value="NA">NA</option>

                      </select>
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="lead_L5" id="lead_L5" ng-model="subrequirement.L5"
                        style="width:150px;">
                        <option ng-repeat="lead_L5 in leads_Data_1.L5" value="{{lead_L5}}">
                          {{lead_L5}}
                        </option>
                        <option ng-if="leads_Data_1.L5.length==0" selected="true" value="NA">NA</option>
                      </select>
                    </td>

                    <td class="alignment">
                      <select class="form-control" name="lead_L6" id="lead_L6" ng-model="subrequirement.L6"
                        style="width:150px;">
                        <option ng-repeat="lead_L6 in leads_Data_1.L6" value="{{lead_L6}}">
                          {{lead_L6}}
                        </option>
                        <option ng-if="leads_Data_1.L6.length==0" selected="true" value="NA">NA</option>
                      </select>
                    </td>
                    <td class="alignment">
                      {{subrequirement.lead_status}}
                    </td>
                    <td class="alignment">
                      <button type="button" style="margin-bottom:2px" class="btn btn-danger"
                        ng-click="viewCommentsLeadDetails(subrequirement.id,'external')">View / Add</button>
                    </td>

                    <td class="alignment">
                      <button type="button" style="margin-bottom:2px" class="btn btn-danger"
                        ng-click="viewCommentsLeadDetails(subrequirement.id,'internal')">View / Add</button>
                    </td>

                    <td class="alignment">
                      <span style="width:150px;">Name: {{requirement.lead_by.name}} </span>
                      <span style="width:150px;">Number: {{requirement.lead_by.mobile}} </span>
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="value" id="value"
                        ng-model="subrequirement.call_back_preference" style="width:150px;">
                        <option value="" disabled>Select Call Back Time</option>
                        <option ng-repeat="(key,value) in leads_time.data[lastIndex].call_status track by $index"
                          value="{{value}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <input type="number" ng-change="checkBoxAutoCheck(key,$index)"
                        ng-model="subrequirement.lead_price" name="lead_price" class="form-control" placeholder="Price"
                        id="price_id" style="width:150px;">
                      <span ng-if="subrequirement.lead_price">Price (Points): {{subrequirement.lead_price}}</span>
                    </td>

                    <td class="alignment" style="width:300px;">
                      <p> Submitted: {{subrequirement.created_at | date:'medium' }} </p>
                      <p> Ops Verify: {{subrequirement.varified_ops_date | date:'medium'}} </p>
                      <p> Ops Verify Name: {{subrequirement.verified_ops_by_obj.first_name}}
                        {{subrequirement.verified_ops_by_obj.last_name}} </p>
                    </td>

                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success"
                        ng-if="subrequirement.varified_ops == 'no'" ng-disabled="subrequirement.color_class == 'red'"
                        ng-click="singleOpsVerifyRequirement(subrequirement.id)">Ops Verify</button>
                      <span ng-if="subrequirement.varified_ops == 'yes'">Ops Verified </span>

                      <button style="margin-top:10px" class="btn btn-success" type="button" name="button"
                        class="btn btn-success" ng-click="updateSubSectorRow(subrequirement)">Update</button>

                      <button style="margin-top:10px" type="button" name="button" class="btn btn-success"
                        ng-if="subrequirement.color_class != 'red'"
                        ng-click="singleRemoveSubSector(subrequirement.id,key,$index)">Remove</button>

                      <button style="margin-top:10px" type="button" name="button" class="btn btn-success"
                        ng-if="subrequirement.color_class == 'red'"
                        ng-click="singleRestoreSubSector(subrequirement.id,key,$index)">Restore</button>
                    </td>
                  <tr ng-show="detailedShow[key]" ng-repeat-end>
                    <td colspan="17">
                      <button class="btn btn-success" id="update_{{key}}" ng-disabled="subSectorCheck || updateDisable"
                        ng-click="updateSubSector(requirement.requirements)">Update</button>

                      <button style="margin-bottom:2px" id="verify_{{key}}" type="button" name="button"
                        class="btn btn-success" ng-disabled="subSectorCheck || updateDisable"
                        ng-click="checkOpsVerifyRequirement(requirement.requirements)"><span
                          ng-if="!opsVerifyButtonDiable">Ops Verify</span>
                        <span ng-if="opsVerifyButtonDiable">Ops Verified</span></button>
                      <button style="margin-bottom:2px" id="remove_{{key}}" type="button" name="button"
                        ng-disabled="subSectorCheck || removeSubSectorDiable" class="btn btn-danger"
                        ng-click="removeSubSectorRequirement(requirement.requirements,key)">Remove</button>

                      <button style="margin-bottom:2px" id="restore_{{key}}" type="button" name="button"
                        class="btn btn-success"
                        ng-click="restoreMultiRequirement(requirement.requirements,key)">Restore</button>

                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success btn-small"
                        data-target="#pocModal" data-toggle="modal">Add POC</button>
                    </td>
                  </tr>

                  </tr>
                  </tr>
                </tbody>
              </table>

              <!-- test -->

              <div class="">
              </div>
            </form>
          </div>



          <div class="modal-body col-md-4 table-responsive browsed_leads_main" style="width: 100%; min-height: 200px;">
            <form name="myForms">
              <h4 class="modal-title">Browsed Leads</h4>
              <table class="table table-bordered submitted_lead_table" name="contactForm">
                <thead>
                  <tr>
                    <th ng-repeat="header in requirement_browsed_headings" class="col-md-2 alignment">
                      <b>{{header.header}}</b>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="browsed in browsedDetailData">
                    <td class="alignment">
                      <input type="checkbox" name="browsedCheck" ng-click="checkboxBrowesLeadCheck()"
                        id="browsedCheckId" ng-model="browsed.browsedCheck">
                    </td>
                    <td class="alignment">
                      {{sectorName(browsed.sector_id)}}
                    </td>
                    <!-- <td class="alignment">
                      <select class="form-control" ng-model="SectorName" style="width:100px;"
                        ng-click="browsedPreferredPartner(SectorName);"ng-change="browsCheckBoxAutoCheck($index)"
                        ng-options="sector.business_type for sector in browsedSectorList" track by "$index">
                      </select>
                      <select class="form-control" name="current_company_{{$index}}" id="current_company_id_{{$index}}"
                        ng-change="browsCheckBoxAutoCheck($index)" ng-model="browsed.sector_id" style="width:100px;"
                        ng-click="browsedPreferredPartner(browsed.sector_id,true)">
                        <option ng-repeat="sector in browsedSectorList track by $index"
                          ng-selected="{{browsed.sector_id==sector.id}}" value="{{sector.id}}">
                          {{sector.business_type}}
                        </option>
                      </select>
                    </td> -->
                    <td class="alignment">
                      <!-- <select class="form-control" ng-model="browsed.sub_sector_id" style="width:100px;">
                        <option value="" disabled>Select Sector</option>
                        <option ng-repeat="sub_sector in sub_sectorList track by $index" value="{{sub_sector.id}}">
                          {{sub_sector.business_sub_type}}
                        </option>
                      </select> -->
                      <p ng-if="browsed.sub_sector_name">{{browsed.sub_sector_name}}</p>
                      <p ng-if="!browsed.sub_sector_name">NA</p>
                    </td>

                    <td class="alignment">
                      <select class="form-control" name="current_company_{{$index}}" id="current_company_id_{{$index}}"
                        ng-change="browsCheckBoxAutoCheck($index)" ng-model="browsed.current_patner_id"
                        style="width:100px;">
                        <option value="" disabled>Select Current Partner</option>
                        <option ng-if="browsed.sector_id==cpartner.sector || (browsed.sector_id==null)"
                          ng-repeat="cpartner in companiesDetailDataBrowsed track by $index"
                          value="{{cpartner.organisation_id}}">
                          {{cpartner.name}}
                        </option>
                      </select>
                      <input style="margin-top:10px" type="text" ng-change="browsCheckBoxAutoCheck($index)"
                        class="form-control" placeholder="Other Current Company"
                        ng-if="browsed.current_patner_id == '' || !browsed.current_patner_id" name="currentCompanyOther"
                        id="currentCompanyOtherId" ng-model="browsed.current_patner_other">
                    </td>

                    <td class="alignment">
                      {{browsed.current_patner_feedback}}<br>
                      <span
                        ng-if="browsed.current_patner_feedback_reason">Reason:{{browsed.current_patner_feedback_reason}}</span>
                      <span ng-if="!browsed.current_patner_feedback_reason">Reason:NA</span>
                    </td>

                    <td class="alignment">
                      {{companyBrowseData(browsed.sector_id)}}
                      <!-- <span style="width:150px;" class="multiselectDropdown multiselectDropdown-style"
                        style="color:red;width:100%;margin-left:20px;" ng-click="browsedMulticheck($index)"
                        ng-dropdown-multiselect="" options="companiesBrowseDetailDataArrayCompany[browsed.sector_id]" extra-settings="settings"
                        selected-model="browsed.selected_preferred_company" translation-texts="selected_business_type"
                        events="events">
                      </span> -->
                      <span style="width:150px;" class="multiselectDropdown multiselectDropdown-style"
                        style="color:red;width:100%;margin-left:20px;" ng-click="browsedMulticheck($index)"
                        ng-dropdown-multiselect="" options="companiesBrowseDetailDataArray" extra-settings="settings"
                        selected-model="browsed.selected_preferred_company" translation-texts="selected_business_type"
                        events="events">
                      </span>
                      <span ng-repeat="selectedName in browsed.selected_preferred_company"
                        style="text-align: left; display: inline-block">
                        {{selectedName.name}}
                        <span ng-if="!$last">,</span>
                      </span>
                      <input style="margin-top:10px" ng-change="browsCheckBoxAutoCheck($index)" type="text"
                        class="form-control" placeholder="Other Preferred Company"
                        ng-if="browsed.otherPreferredCompanyBrowsed" name="other_preferred_company"
                        id="other_preferred_company" ng-model="browsed.prefered_patner_other">
                    </td>

                    <td class="alignment">
                      <select class="form-control" ng-model="browsed.l4">
                        <option ng-repeat="lead_L4 in leads_Data_1.L4" value="{{lead_L4}}">
                          {{lead_L4}}
                        </option>
                      </select>
                      <!-- <span ng-if="browsed.l1_answers || browsed.l1_answer_2">{{browsed.l1_answers}}
                        <p>{{browsed.l1_answer_2}}</p>
                      </span>
                      <span ng-if="!browsed.l1_answers && !browsed.l1_answer_2">NA</span> -->
                    </td>

                    <td class="alignment">
                      <select class="form-control" ng-model="browsed.l5">
                        <option ng-repeat="lead_L5 in leads_Data_1.L5" value="{{lead_L5}}">
                          {{lead_L5}}
                        </option>
                      </select>
                      <!-- <span ng-if="browsed.l2_answers || browsed.l2_answer_2">{{browsed.l2_answers}}
                        <p>{{browsed.l2_answer_2}}</p>
                      </span>
                      <span ng-if="!browsed.l2_answers && !browsed.l2_answer_2">NA</span> -->
                    </td>
                    <td class="alignment">
                      <select class="form-control" ng-model="browsed.l6">
                        <option ng-repeat="lead_L6 in leads_Data_1.L6" value="{{lead_L6}}">
                          {{lead_L6}}
                        </option>
                      </select>
                    <td class="alignment">
                      <select class="form-control" name="contact_type_{{$index}}" id="contact_type_id_{{$index}}"
                        ng-model="browsed.implementation_timeline" ng-change="browsCheckBoxAutoCheck($index)"
                        style="width:150px;">
                        <option value="" disabled>Select Implementation Time</option>
                        <option ng-repeat="(key,value) in requirement_implementation_time track by $index"
                          value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>

                    <td class="alignment">
                      <select class="form-control" name="meating_time_{{$index}}" id="meating_time_id_{{$index}}"
                        ng-model="browsed.meating_timeline" ng-change="browsCheckBoxAutoCheck($index)"
                        style="width:150px;">
                        <option value="" disabled>Select Meeting Time</option>
                        <option ng-repeat="(key,value) in requirement_meeting_time track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <p> Name: {{browsed.lead_by_name}}</p>
                      <p> Phone: {{browsed.phone_number}}</p>
                    </td>

                    <td class="alignment">
                      <textarea placeholder="Comments" class="form-control" style="width:150px;"
                        ng-model="browsed.comment" ng-change="browsCheckBoxAutoCheck($index)" rows="4" cols="50">
                     </textarea>
                    </td>

                    <td class="alignment" style="width:300px;">
                      <p>Lead Entry:{{browsed.created_at | date:'medium'}}</p>
                    </td>
                  </tr>
                  <tr ng-if="countBrowsedRow==true">
                    <!-- <tr> -->
                    <td class="alignment">
                      <input type="checkbox" name="browsedCheck" ng-click="newCheckboxBrowesLeadCheck($index)"
                        id="browsedCheckId">
                    </td>
                    <td class="alignment">
                      <!-- <select class="form-control" style="min-width: 120px;"
                          ng-options="option.name for option in fieldName" track by "$index"
                          ng-model="createData.fieldName">
                    </select> -->
                      <select class="form-control" ng-model="SectorName" style="width:100px;"
                        ng-click="browsedPreferredPartner(SectorName);"
                        ng-options="sector.business_type for sector in browsedSectorList" track by "$index">
                        <!-- <option value="" disabled>Select Sector</option>
                        <option ng-repeat="sector in browsedSectorList track by $index" value="{{sector}}">
                          {{sector.business_type}}
                        </option> -->
                      </select>
                    </td>
                    <td class="alignment">NA
                      <!-- <select class="form-control" ng-model="newbrowsed.sub_sector_id" style="width:100px;">
                        <option value="" disabled>Select Sector</option>
                        <option ng-repeat="sub_sector in sub_sectorList track by $index" value="{{sub_sector.id}}">
                          {{sub_sector.business_sub_type}}
                        </option>
                      </select> -->
                    </td>
                    <td class="alignment">
                      <select class="form-control" ng-model="newbrowsed.current_patner_id" style="width:100px;">
                        <option value="" disabled>Select Current Partner</option>
                        <option ng-if="selected_sectorId==cpartner.sector || (selected_sectorId==null)"
                          ng-repeat="cpartner in companiesDetailDataBrowsed track by $index"
                          value="{{cpartner.organisation_id}}">
                          {{cpartner.name}}
                        </option>
                        <input style="margin-top:10px" type="text" class="form-control"
                          placeholder="Other Current Company" ng-model="newbrowsed.preferred_company_other">
                    </td>

                    <td class="alignment">
                      current_patner_feedback<br>
                      <span>Reason:NA</span>
                    </td>
                    <td class="alignment">
                      <span style="width:150px;" class="multiselectDropdown multiselectDropdown-style"
                        style="color:red;width:100%;margin-left:20px;" ng-click="newbrowsedMulticheck($index)"
                        ng-dropdown-multiselect="" options="preferred_partnerList" extra-settings="settings"
                        selected-model="SelectedCompany" events="events"translation-texts="selected_business_type" >asfafasfa</span>
                      <span ng-repeat="selectedName in SelectedCompany" style="text-align: left; display: inline-block">
                        {{selectedName.label}}
                        <span ng-if="!$last">,</span>
                      </span>
                      <!-- <input style="margin-top:10px" ng-change="newCheckboxBrowesLeadCheck()" type="text"
                        class="form-control" placeholder="Other Preferred Company"
                        ng-if="newbrowsed.preferred_company_other" name="other_preferred_company"
                        id="other_preferred_company" ng-model="browsed.prefered_patner_other"> -->
                    </td>
                    <td class="alignment">
                      <select class="form-control" ng-model="newbrowsed.L4">
                        <option ng-repeat="lead_L4 in leads_Data_1.L4" value="{{lead_L4}}">
                          {{lead_L4}}
                        </option>
                      </select>
                    </td>

                    <td class="alignment">
                      <select class="form-control" ng-model="newbrowsed.L5">
                        <option ng-repeat="lead_L5 in leads_Data_1.L5" value="{{lead_L5}}">
                          {{lead_L5}}
                        </option>>
                      </select>
                    </td>
                    <td class="alignment">
                      <select class="form-control" ng-model="newbrowsed.L6">
                        <option ng-repeat="lead_L6 in leads_Data_1.L6" value="{{lead_L6}}">
                          {{lead_L6}}
                        </option>
                      </select>
                    </td>
                    <td class=" alignment">
                        <select class="form-control" ng-model="newbrowsed.implementation_timeline" style="width:150px;">
                          <option value="" disabled>Select Implementation Time</option>
                          <option ng-repeat="(key,value) in requirement_implementation_time track by $index"
                            value="{{key}}">
                            {{value}}
                          </option>
                        </select>
                    </td>

                    <td class="alignment">
                      <select class="form-control" ng-model="newbrowsed.meating_timeline" style="width:150px;">
                        <option value="" disabled>Select Meeting Time</option>
                        <option ng-repeat="(key,value) in requirement_meeting_time track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <p> Name: </p>
                      <p> Phone:</p>
                    </td>

                    <td class="alignment">
                      <textarea placeholder="Comments" class="form-control" style="width:150px;"
                        ng-model="newbrowsed.comment" cols="50">
                     </textarea>
                    </td>

                    <td class="alignment" style="width:300px;">
                      <p>Lead Entry:</p>
                    </td>
                  </tr>
                </tbody>
              </table>

              <!-- test -->

              <div class="">
                <button class="btn btn-danger" ng-click="addBrowsedRow()">{{addRemoveBtn}}</button>
                <button class="btn btn-success" ng-disabled="browsedCheck" ng-click="saveBrowsed()">Submit</button>
                <button class="btn btn-success" ng-disabled="browsedCheck"
                  ng-click="updateBrowsed(newbrowsed)">Update</button>
                <button class="btn btn-danger" ng-click="removeBrowsed()" ng-disabled="browsedCheck">Remove</button>
              </div>
              <!-- <div class="" ng-show="!editContactDetails" ng-if="statusEditContactDetails">
                <button class="btn btn-danger" ng-disabled="!myForm.$valid" ng-click="checkContactDetails()">Save</button>
              </div> -->
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end Requirement table -->
<!-- start SuspenseLeads table -->
<div id="SuspenseLeadsModel" class="modal custom-modal-box fade li-popup">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Suspense Leads Details supplierName</h4>
        <hr />
        <div class="modal-body" style="width: 100%; min-height: 200px;">
          <div class="modal-body col-md-4 table-responsive submitted_lead_table"
            style="width: 100%; min-height: 200px;">
            <form name="myForm">
              <!-- test -->
              <h4 class="modal-title">Suspense Leads</h4>
              <table class="table table-bordered" name="contactForm">
                <thead>
                  <tr>
                    <th class="alignment">Sr No</th>
                    <th class="alignment">Phone Number</th>
                    <th class="alignment">Sector</th>
                    <th class="alignment">Sub Sector</th>
                    <th class="alignment">Current Partner</th>
                    <th class="alignment">Current Partner Feedback</th>
                    <th class="alignment">Reason</th>
                    <th class="alignment">Preferred Partner</th>
                    <th class="alignment">Implementation TimeLine</th>
                    <th class="alignment">Meeting TimeLine</th>
                    <th class="alignment">L1 Answers</th>
                    <th class="alignment">L2 Answers</th>
                    <th class="alignment">L3 Answers</th>
                    <th class="alignment">Lead Status</th>
                    <th class="alignment">Callback Preference</th>
                    <th class="alignment">Comment</th>
                    <th class="alignment">Time Stamp</th>
                    <th class="alignment">Calling State</th>
                    <th class="alignment">Internal Comment</th>
                    <th class="alignment">Chat</th>
                    <th class="alignment">Action 1</th>
                    <th class="alignment">Action 2</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-if="leadTabData.length > 0 && loading" pagination-id="paginate1"
                    dir-paginate="leadData in leadTabData | itemsPerPage:itemsPerPageLead" total-items="totalCountLead"
                    current-page="currentPageLead" track by "$index">
                    <td>{{$index+serial}}</td>
                    <td class="alignment">{{leadData.phone_number}}</td>
                    <td class="alignment">{{leadData.sector_name}}</td>
                    <td class="alignment">{{leadData.sub_sector_name}}</td>
                    <td class="alignment">
                      <select class="form-control" name="current_patner_{{$index}}" id="current_patner_id_{{$index}}"
                        ng-model="leadData.current_patner">
                        <option value="" disabled>Select Current Partner</option>
                        <option ng-repeat="cpartner in companiesData track by $index"
                          value="{{cpartner.organisation_id}}">
                          {{cpartner.name}}
                        </option>
                      </select>
                      <input style="margin-top:10px" type="text" class="form-control"
                        placeholder="Other Current Company" ng-if="leadData.current_patner == ''"
                        name="currentCompanyOther" id="currentCompanyOtherId_{{$index}}"
                        ng-model="leadData.current_patner_other">
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="current_patner_feedback"
                        id="current_patner_feedback_id_{{$index}}" ng-model="leadData.current_patner_feedback">
                        <option value="" disabled>Select Current Partner Feedback</option>
                        <option ng-repeat="cpartnerfeedback in current_patner_feedback track by $index"
                          value="{{cpartnerfeedback}}">
                          {{cpartnerfeedback}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <input type="text" ng-model="leadData.current_patner_feedback_reason"
                        name="current_patner_feedback_reason" class="form-control"
                        placeholder="Current Patner Feedback Reason" id="current_patner_feedback_reason_id_{{$index}}">
                    </td>

                    <td class="alignment">
                      <span style="width:150px;" class="multiselectDropdown"
                        style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                        options="companiesData" extra-settings="dropdownSettings"
                        selected-model="leadData.selected_preferred_patner" ng-click="leadPreferredMulticheck($index)"
                        translation-texts="selected_business_type" events="events"></span>
                      <span ng-repeat="selectedName in leadData.selected_preferred_patner" class="custom-dropdown"
                        style="text-align: left; display: inline-block">
                        {{selectedName.name}}
                        <span ng-if="!$last">,</span>
                      </span>
                      <input style="margin-top:10px" type="text" class="form-control"
                        placeholder="Other Preferred Company" ng-if="leadData.otherPreferredPatner"
                        name="other_preferred_company" id="other_preferred_company_{{$index}}"
                        ng-model="leadData.prefered_patner_other">
                    </td>

                    <td class="alignment">
                      <select class="form-control" name="implementation_{{$index}}" id="implementation_id_{{$index}}"
                        ng-model="leadData.implementation_timeline">
                        <option value="" disabled>Select Implementation Time</option>
                        <option ng-repeat="(key,value) in implementationTime track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>

                    <td class="alignment" class="form-group">
                      <select class="form-control" name="meating_time_{{$index}}" id="meating_time_id_{{$index}}"
                        ng-model="leadData.meating_timeline">
                        <option value="" disabled>Select Meeting Time</option>
                        <option ng-repeat="(key,value) in meetingTime track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>

                    <td class="alignment">
                      <span>{{leadData.l1_answers}}
                        <p>{{leadData.l1_answer_2}}</p>
                      </span>
                    </td>
                    <td class="alignment">
                      <span>{{leadData.l2_answers}}
                        <p>{{leadData.l2_answer_2}}</p>
                      </span>
                    </td>


                    <td class="alignment">
                      <textarea placeholder="L3 Answer" class="form-control" ng-model="leadData.l3_answer_1" rows="4"
                        cols="50">
                        </textarea>
                      <span>
                        <p>{{leadData.l3_answer_2}}</p>
                      </span>
                    </td>


                    <td class="alignment">
                      {{leadData.lead_status}}
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="call_back_time_{{$index}}" id="call_back_time_id_{{$index}}"
                        ng-model="leadData.call_back_preference" style="width:150px;">
                        <option value="" disabled>Select Call Back Time</option>
                        <option ng-repeat="(key,value) in call_back_time track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>

                    <td class="alignment">
                      <textarea placeholder="Comment" class="form-control" ng-model="leadData.comment" rows="4"
                        cols="50">
                      </textarea>
                    </td>
                    <td class="alignment">
                      <p> Submitted: {{leadData.created_at | date:'medium' }} </p>
                    </td>
                    <td class="alignment">
                      <p> {{leadData.calling_state }}

                        {{leadData.calling_state_time }}
                      </p>
                    </td>
                    <td class="alignment">
                      <textarea placeholder="Internal Comment" class="form-control" ng-model="leadData.internal_comment"
                        rows="4" cols="50">
                      </textarea>
                    </td>

                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-info">View &
                        Intervene</button>
                    </td>

                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success btn-small"
                        data-target="#companyDetailModal" ng-click="supplierForAddUpdate($index)"
                        data-toggle="modal">Add/Update Supplier</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success btn-small"
                        data-target="#pocModal" ng-click="openAddPoc(leadData._id,leadData.supplier_type)"
                        ng-disabled="leadData.is_updated == 'False'" data-toggle="modal">Add POC</button>
                      <button style="margin-bottom:2px" type="button" ng-disabled="leadData.is_updated == 'False'"
                        name="button" class="btn btn-success btn-small">Add RE</button>
                    </td>

                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" ng-click="opsVerify(leadData._id)"
                        class="btn btn-success" ng-disabled="leadData.is_updated == 'False'">Ops
                        Verify</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success"
                        ng-click="updateLeadTab($index)">Update</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-danger"
                        ng-click="removeSuspenseLead(leadData._id,$index)">Remove</button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <dir-pagination-controls ng-if="leadTabData.length > 0 " max-size="10"
                on-page-change="pageChangedSuspenseLead(newPageNumber,true)" direction-links="true"
                boundary-links="true" pagination-id="paginate1">
              </dir-pagination-controls>
            </form>
          </div>

          <div class="modal-body col-md-4 table-responsive browsed_leads_main" style="width: 100%; min-height: 200px;">
            <form name="myForms">
              <h4 class="modal-title">Browsed Leads</h4>
              <table class="table table-bordered submitted_lead_table" name="contactForm">
                <thead>
                  <tr>
                    <th class="alignment">Sr No</th>
                    <th class="alignment">Phone Number</th>
                    <th class="alignment">Sector</th>
                    <th class="alignment">Sub Sector</th>
                    <th class="alignment">Current Partner</th>
                    <th class="alignment">Current Partner Feedback</th>
                    <th class="alignment">Reason</th>
                    <th class="alignment">Preferred Partner</th>
                    <th class="alignment">Implementation TimeLine</th>
                    <th class="alignment">Meeting TimeLine</th>
                    <th class="alignment">L1 Answers</th>
                    <th class="alignment">L2 Answers</th>
                    <th class="alignment">L3 Answers</th>
                    <th class="alignment">Lead Status</th>
                    <th class="alignment">Callback Preference</th>
                    <th class="alignment">Comment</th>
                    <th class="alignment">Time Stamp</th>
                    <th class="alignment">Calling State</th>
                    <th class="alignment">Internal Comment</th>
                    <th class="alignment">Chat</th>
                    <th class="alignment">Action 1</th>
                    <th class="alignment">Action 2</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-if="leadTabDataBrowsed.length > 0"
                    dir-paginate="browseData in leadTabDataBrowsed | itemsPerPage:itemsPerPageLead"
                    total-items="totalCountLead" pagination-id="browseDataPaginate" current-page="currentPageBrowsed"
                    track by "$index">
                    <td>{{$index+serial}}</td>
                    <td class="alignment">{{browseData.phone_number}}</td>
                    <td class="alignment">{{browseData.sector_name}}</td>
                    <td class="alignment">{{browseData.sub_sector_name}}</td>
                    <td class="alignment">
                      <select class="form-control" name="current_patner_{{$index}}"
                        id="browes_current_patner_id_{{$index}}" ng-model="browseData.current_patner">
                        <option value="" disabled>Select Current Partner</option>
                        <option ng-repeat="cpartner in companiesData track by $index"
                          value="{{cpartner.organisation_id}}">
                          {{cpartner.name}}
                        </option>
                      </select>
                      <input style="margin-top:10px" type="text" class="form-control"
                        placeholder="Other Current Company" ng-if="browseData.current_patner == ''"
                        name="currentCompanyOther" id="browesCurrentCompanyOtherId_{{$index}}"
                        ng-model="browseData.current_patner_other">
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="current_patner_feedback"
                        id="browes_current_patner_feedback_id_{{$index}}" ng-model="browseData.current_patner_feedback">
                        <option value="" disabled>Select Current Partner Feedback</option>
                        <option ng-repeat="cpartnerfeedback in current_patner_feedback track by $index"
                          value="{{cpartnerfeedback}}">
                          {{cpartnerfeedback}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <input type="text" ng-model="browseData.current_patner_feedback_reason"
                        name="current_patner_feedback_reason" class="form-control"
                        placeholder="Current Patner Feedback Reason"
                        id="browes_current_patner_feedback_reason_id_{{$index}}">
                    </td>
                    <td class="alignment">
                      <span style="width:150px;" class="multiselectDropdown"
                        style="color:red;width:100%;margin-left:20px;" ng-dropdown-multiselect=""
                        options="companiesData" extra-settings="dropdownSettings"
                        selected-model="browseData.selected_preferred_patner" ng-click="leadPreferredMulticheck($index)"
                        translation-texts="selected_business_type" events="events"></span>
                      <span ng-repeat="selectedName in browseData.selected_preferred_patner" class="custom-dropdown"
                        style="text-align: left; display: inline-block">
                        {{selectedName.name}}
                        <span ng-if="!$last">,</span>
                      </span>
                      <input style="margin-top:10px" type="text" class="form-control"
                        placeholder="Other Preferred Company" ng-if="browseData.otherPreferredPatner"
                        name="other_preferred_company" id="browes_other_preferred_company_{{$index}}"
                        ng-model="browseData.prefered_patner_other">
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="implementation_{{$index}}"
                        id="browes_implementation_id_{{$index}}" ng-model="browseData.implementation_timeline">
                        <option value="" disabled>Select Implementation Time</option>
                        <option ng-repeat="(key,value) in implementationTime track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment" class="form-group">
                      <select class="form-control" name="meating_time_{{$index}}" id="browes_meating_time_id_{{$index}}"
                        ng-model="browseData.meating_timeline">
                        <option value="" disabled>Select Meeting Time</option>
                        <option ng-repeat="(key,value) in meetingTime track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <span>{{browseData.l1_answers}}
                        <p>{{browseData.l1_answer_2}}</p>
                      </span>
                    </td>
                    <td class="alignment">
                      <span>{{browseData.l2_answers}}
                        <p>{{browseData.l2_answer_2}}</p>
                      </span>
                    </td>

                    <td class="alignment">
                      <textarea placeholder="L3 Answer" class="form-control" ng-model="browseData.l3_answer_1" rows="4"
                        cols="50">
                      </textarea>
                      <span>
                        <p>{{browseData.l3_answer_2}}</p>
                      </span>
                    </td>


                    <td class="alignment">
                      {{browseData.lead_status}}
                    </td>
                    <td class="alignment">
                      <select class="form-control" name="call_back_time_{{$index}}"
                        id="browes_call_back_time_id_{{$index}}" ng-model="browseData.call_back_preference"
                        style="width:150px;">
                        <option value="" disabled>Select Call Back Time</option>
                        <option ng-repeat="(key,value) in call_back_time track by $index" value="{{key}}">
                          {{value}}
                        </option>
                      </select>
                    </td>
                    <td class="alignment">
                      <textarea placeholder="Comment" class="form-control" ng-model="browseData.comment" rows="4"
                        cols="50">
                    </textarea>
                    </td>
                    <td class="alignment">
                      <p> Submitted: {{browseData.created_at | date:'medium' }} </p>
                    </td>
                    <td class="alignment">
                      <p> {{browseData.calling_state }}

                        {{browseData.calling_state_time }}
                      </p>
                    </td>
                    <td class="alignment">
                      <textarea placeholder="Internal Comment" class="form-control"
                        ng-model="browseData.internal_comment" rows="4" cols="50">
                    </textarea>
                    </td>
                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-info">View &
                        Intervene</button>
                    </td>
                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success btn-small"
                        data-target="#companyDetailModal" ng-click="supplierForAddUpdate($index)"
                        data-toggle="modal">Add/Update Supplier</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success btn-small"
                        data-target="#pocModal" ng-click="openAddPoc(browseData._id)"
                        ng-disabled="browseData.is_updated == 'False'" data-toggle="modal">Add POC</button>
                      <button style="margin-bottom:2px" type="button" ng-disabled="browseData.is_updated == 'False'"
                        name="button" class="btn btn-success btn-small">Add RE</button>
                    </td>
                    <td class="alignment">
                      <button style="margin-bottom:2px" type="button" name="button" ng-click="opsVerify(browseData._id)"
                        class="btn btn-success" ng-disabled="browseData.is_updated == 'False'">Transfer</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-success"
                        ng-click="updateLeadTab($index)">Update</button>
                      <button style="margin-bottom:2px" type="button" name="button" class="btn btn-danger"
                        ng-click="removeSuspenseLead(browseData._id,$index)">Remove</button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <dir-pagination-controls max-size="10" on-page-change="pageChangedSuspenseLead(newPageNumber,False)"
                direction-links="true" boundary-links="true" pagination-id="browseDataPaginate">
              </dir-pagination-controls>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end SuspenseLeads table -->

<!--start: Code for contacts Modal Window -->
<div id="pocModal" class="modal fade style-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <div class="pageTitle smallBtn full-width-header">
          <h4>Add POC</h4>
        </div>
        <div class="modal-body">

          <form role="form" class="form-inline poc-form-modal" ng-submit="addPoc()" name="pocForm">
            <div ng-repeat="pocdata in pocModel track by $index">
              <div class="row">
                <div class="col-md-4" style="margin-top: 10px">
                  <label> Phone Number *: </label>
                </div>
                <div class="col-md-6" style="margin-top: 10px">
                  <input type="text" ng-pattern="/^[0-9]{10,10}$/" maxlength="10" placeholder="Phone Number"
                    class="form-control" name="phone_number_{{$index}}" id="phone_number_{{$index}}"
                    ng-model="pocdata.mobile" required>
                  <div ng-show="pocForm.phone_number_{{$index}}.$error.pattern" class="error"
                    style="font-size:12px; color: red;">
                    Phone number Invalid</div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4" style="margin-top: 10px">
                  <label> POC Name *: </label>
                </div>
                <div class="col-md-6" style="margin-top: 10px">
                  <input type="text" placeholder="POC Name" class="form-control" name="poc" id="poc_poc_{{$index}}"
                    ng-model="pocdata.name" required>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4" style="margin-top: 10px">
                  <label>Designation *: </label>
                </div>
                <div class="col-md-6" style="margin-top: 10px">
                  <!-- <input type="text" placeholder="Designation" class="form-control" name="designation"
                  id="poc_designation_{{$index}}" ng-model="pocdata.contact_type" required> -->

                  <select name="designation" class="form-control" value="pocdata.contact_type"
                    ng-model="pocdata.contact_type" ng-required="true">
                    <option value="" disabled>Select Designation</option>
                    <option ng-repeat="desig in poc_designation" ng-selected="desig == pocdata.contact_type"
                      value="{{desig}}" required>
                      {{desig}}</option>
                  </select>
                  <span ng-show="myForm.designation.$dirty && myForm.designation.$invalid" class="error">Designation is
                    required.</span>
                  </select>
                </div>
              </div>
              <div class="text-right">
                <button type="button" ng-click="removePocField($index)" id="remove_poc_{{$index}}"
                  class="smallBtn pocBtn">-</button>
              </div>
              <hr>
            </div>

            <div class="row">
              <div class="col-md-6">
                <button type="submit" class="smallBtn" ng-disabled="pocForm.$invalid || pocModel.length == 0">Save
                  Detail</button>
              </div>
              <div class="col-md-6">
                <div class="text-right">
                  <button type="button" ng-click="addPocField()" class="smallBtn pocBtn">+ Add Poc</button>
                </div>
              </div>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>
<!--End: Code for contacts Modal Window -->
<!-- start of add supllier Model -->
<div id="companyDetailModal" class="modal fade style-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <div class="pageTitle smallBtn full-width-header">
          <h4>Add/Update Supplier</h4>
        </div>
        <!-- <h4 class="modal-title">Company Details:</h4>
        <hr /> -->
        <div class="modal-body">
          <form role="form" class="form-inline" ng-submit="addUpdateSupplier()" name="myForm">
            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label> Phone Number *: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" ng-pattern="/^[0-9]{10,10}$/" maxlength="10" placeholder="Phone Number"
                  class="form-control" name="phone_number" disabled id="phone_number_id"
                  ng-model="supplierForAddUpdateData.phone_number">
                <div ng-show="myForm.phone_number.$error.pattern" class="error" style="font-size:12px; color: red;">
                  Phone number Invalid</div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label> Supplier Type *: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <select class="form-control" name="supplier_type" id="supplier_type_id"
                  ng-model="supplierForAddUpdateData.supplier_type"
                  ng-change='changeSupplier(supplierForAddUpdateData.supplier_type)'>
                  <option value="" disabled>Select Supplier Type</option>
                  <option ng-repeat="suppliertype in supplierTypes track by $index"
                    value="{{suppliertype.supplier_type_code}}">
                    {{suppliertype.supplier_type_name}}
                  </option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label> City *: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <select name="city" class="form-control" ng-change="getArea()" value="supplierForAddUpdateData.city_id"
                  ng-model="supplierForAddUpdateData.city_id" ng-required="true">
                  <option value="" disabled>Select City</option>
                  <option ng-repeat="city in Cities | orderBy: 'city_name'"
                    ng-selected="supplierForAddUpdateData.city_id == city.id" value="{{city.id}}" required>
                    {{city.city_name}}</option>
                </select>
                <span ng-show="myForm.city.$dirty && myForm.city.$invalid" class="error">Select a City</span>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Select Area & Edit : </label>
              </div>
              <div class="col-md-4" style="margin-top: 10px">
                <span disabled="Areas.length == 0 || supplierForAddUpdateData.isNewArea" class="multiselectDropdown"
                  ng-dropdown-multiselect="" options="Areas" search-filter="" ng-click="selectArea()"
                  extra-settings="areaSettings" selected-model="selectedArea"></span>
                </span>
              </div>
              <div class="col-md-4">
                <md-switch ng-model="supplierForAddUpdateData.isNewArea" ng-change="changeArea()" aria-label="Switch 1">
                  <label>Add New Area</label>
                </md-switch>
              </div>
            </div>

            <div class="row" ng-if="!supplierForAddUpdateData.isNewArea && supplierForAddUpdateData.area_id">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Edit Area: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="Edit Area " class="form-control" name="edit_area" id="edit_area_id"
                  ng-model="supplierForAddUpdateData.area">
              </div>
            </div>

            <div class="row" ng-if="supplierForAddUpdateData.isNewArea">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Add New Area: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="Add New Area " class="form-control" name="new_area" id="new_area_id"
                  ng-model="supplierForAddUpdateData.area">
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Select Supplier & Edit : </label>
              </div>

              <div class="col-md-4" style="margin-top: 10px">
                <span disabled="suppliersName == 0 || supplierForAddUpdateData.isNewSupplier"
                  class="multiselectDropdown" ng-dropdown-multiselect="" options="suppliersName" search-filter=""
                  ng-click="selectSupplierName()" extra-settings="supplierSettings"
                  selected-model="selectedSupplierName"></span>
                <span ng-if="suppliersName == 0" class="error">No supplier found</span>
              </div>

              <div class="col-md-4">
                <md-switch ng-model="supplierForAddUpdateData.isNewSupplier" ng-change="addNewSupplier()"
                  aria-label="Switch 1">
                  <label>Add New Supplier</label>
                </md-switch>
              </div>
            </div>

            <div class="row" ng-if="!supplierForAddUpdateData.isNewSupplier && supplierForAddUpdateData.supplier_id">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Edit Supplier: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="Add New Supplier " class="form-control" name="edit_supplier"
                  id="edit_supplier_id" ng-model="supplierForAddUpdateData.supplier_name">
              </div>
            </div>

            <div class="row" ng-if="supplierForAddUpdateData.isNewSupplier">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Add New Supplier: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="Add New Supplier " class="form-control" name="new_supplier"
                  id="new_supplier_id" ng-model="supplierForAddUpdateData.supplier_name">
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label> Add POC *: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="POC" class="form-control" name="poc" id="poc_id"
                  ng-model="supplierForAddUpdateData.poc_name">
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Designation *: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">

                <select name="designation" class="form-control" value="supplierForAddUpdateData.designation"
                  ng-model="supplierForAddUpdateData.designation" ng-required="true">
                  <option value="" disabled>Select Designation</option>
                  <option ng-repeat="desig in designation" ng-selected="desig == supplierForAddUpdateData.designation"
                    value="{{desig}}" required>
                    {{desig}}</option>
                </select>
                <span ng-show="myForm.designation.$dirty && myForm.designation.$invalid" class="error">Designation is
                  required.</span>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label>Address: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" placeholder="Address" class="form-control" name="address" id="address_id"
                  ng-model="supplierForAddUpdateData.address1">
              </div>
            </div>

            <div class="row">
              <div class="col-md-4" style="margin-top: 10px">
                <label> Pin Code: </label>
              </div>
              <div class="col-md-8" style="margin-top: 10px">
                <input type="text" ng-pattern="/^[0-9_ ]{0,9}$/" placeholder="Pin Code" class="form-control"
                  name="pin_code" id="pin_code_id" ng-model="supplierForAddUpdateData.pin_code">
                <div ng-show="myForm.pin_code.$error.pattern" class="error" style="font-size:12px; color: red;">
                  Pin Code Invalid</div>
              </div>
            </div>
            <button type="submit" class="smallBtn" ng-disabled="myForm.$invalid">Add/Update Supplier</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- client comment  Modal -->
<div id="viewCommentsLeadDetails" class="modal fade theme-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-red">
        <h4>View Comments</h4>
        <button type="button" class="close btn-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"></span>
        </button>
      </div>
      <div class="modal-body">
        <div class="modalBodyBox">
          <h3>Client Comments</h3>
          <div class="table-h-scroll">
            <table class="table-data">
              <tr ng-repeat="item in externalComment">
                <td>
                  <div>
                    <p>{{item.comment}}</p>
                    <i style="margin-left: auto;     margin-right: 0;     float: right;     font-size: 16px;"
                      ng-click="deleteBasicComment(item.id,req_id_detail)" class="fa fa-trash fa-2x"></i>
                  </div>
                  <div>
                    <img ng-src="{{userIcon}}">
                    <b>{{item.comment_by}}:</b>
                    <span><small>{{item.created_at|date:'medium'}}</small></span>
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <div style="margin-top: 15px;">
            <textarea class="field" rows="2" cols="200" ng-model="mymodel.comment" value=""
              placeholder="Write here.."></textarea>
            <button class="smallBtn" type="button" ng-click="commentValueDetails(mymodel,id_detail,req_id_detail)">Add
              Comment</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end of add supllier Model -->